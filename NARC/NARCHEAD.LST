TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .FILE   "NARCHEAD.ASM"
       3                    
       4                    **************************************************************************
       5                    *                                                                        *
       6                    *       COPYRIGHT (C) 1988 WILLIAMS ELECTRONICS GAMES, INC.              *
       7                    *       ALL RIGHTS RESERVED.                                             *
       8                    *                                                                        *
       9                    **************************************************************************
      10                    
      11                            .WIDTH  132
      12                            .OPTION B,D,L
      13                            .MNOLIST
      14                    
      15                    *       GET THE SYSTEM STUFF
      16                            .INCLUDE        "\video\mprocEQU.ASM"   ;MPROC equates
      17                            .INCLUDE        "\video\DISPEQU.ASM"    ;Display processor equates
      18                            .INCLUDE        "\video\GSP.INC"        ;GSP assembler equates
      19                            .INCLUDE        "\video\SYS.INC"        ;Zunit system equates
      20                            .INCLUDE        "\video\MACROS.HDR"     ;Macros, Yeah!
      21                    *       LOCAL STUFF
      22                            .INCLUDE        "NARCEQU.ASM"           ;NARC Equates
      23                            .INCLUDE        "NARCTEQU.ASM"
      24                            .include        "imgtbl.glo"
      25                            .include        "narcxtra.glo"
      26                    
      27                            .GLOBL  MAKEFLAM,GROWFLAM,FIRETUNG,MkNuke
      28                            .GLOBL  CKLXBND
      29                    
      30                    ;       .GLOBL  BASCTAB,BCCTAB1,BCCTAB0,EYECCTB,EYECCTBE
      31                            .GLOBL  InitTbls,DIRANI
      32                            .GLOBL  BONEINI,CHUNKINI,CHNKTINI,SpineIni
      33                            .GLOBL  BRECOIL,BRECOILF,TUNGFLEX,TUNGFLXF,RRECOIL,RRECOILF,RRECOIL
      34                            .GLOBL  KABOOM,KABOOMF,BOOM5a,BOOM5b,BOOM5c,BOOM6
      35                            .GLOBL  CHNKTBL1,CHNKTBL2,CHNKTBL3,CHNKTBL4,CHNKTBL5
      36                            .GLOBL  HED3hat,skull4,jaw4,stump,stumpskl,BASEskl
      37                            .GLOBL  SDIRANI
      38                            .GLOBL  baseflsh
      39                            .GLOBL  jawbite,jawbitef,FLYSPINE,FLYSKULL,BlowSkul
      40                    
      41                            .GLOBL  HEADCOLL,BASECOLL,TUNGCOLL,SPNECOLL
      42                    
      43 00000000                   .BSS    FRAGCNT,16,1
      44 00000010                   .BSS    GOTCARD,16,1
      45                    
      46                    ;BaseSND                .WORD   0F350H,013H,08080H,0 ;player touches base
      47 00000000     f350  BaseSND         .WORD   0F350H,013H,080D9H,0 ;player touches base
      48 00000040     f305  HedBlSND        .WORD   0F305H,03H,08096H,0 ;head hit by bullet
      49 00000080     f701  ChunkSND        .WORD   0F301H|NINTEQ,025H,080A1H,0 ;chunk hits ground
      50 000000c0     f701  Bone1SND        .WORD   0F301H|NINTEQ,010H,08048H,0 ;bone hits ground
      51 00000100     f701  Bone2SND        .WORD   0F301H|NINTEQ,010H,08054H,0 ;" hits ground
      52 00000140     f701  Bone3SND        .WORD   0F301H|NINTEQ,015H,0800cH,0 ;" hits ground
      53 00000180     f3fe  SpinStSND       .WORD   0F3FEH,0400H,080B0H,0 ;
      54 000001c0     f3fe  SpinSND         .WORD   0F3FEH,0400H,08090H,0 ;
      55 00000200     f3fe  PitchSND        .WORD   0F3FEH,014H,080CCH,0 ;incr pitch of Spin
      56 00000240     f3fe  PClrSND         .WORD   0F3FEH,01H,080C6H,1,0807FH,0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    2

      57                    
      58 000002a0     f0fe  HdExpSND .WORD  0F0FEH,08H,0803dH,0CH,08007H,018H,08007H,030H,08030H,0,0,0,0,0,0 ;BIG SLOW EXPLO
      59 00000390     f0fe  AgitSND  .WORD  0F0FEH,0AH,080C4H,080C9H,080C4H,080C9H,0
      60 00000400     f060  SkExpSND        .WORD   0F060H,08H,08007H,024H,08007H,0 ;skull explode
      61 00000460     f440  LaughSND        .WORD   0F040H|NINTEQ,090H,080b5H,0 ;13.3Khz
      62 000004a0     f410  KillSND         .WORD   0F010H|NINTEQ,060H,080b7H,0 ;13.3Khz
      63 000004e0     f410  GetSND          .WORD   0F010H|NINTEQ,060H,080b6H,0 ;13.3Khz
      64 00000520     f440  UDIE1SND        .WORD   0F040H|NINTEQ,090H,080b8H,0 ;13.3Khz
      65 00000560     f440  UDIE2SND        .WORD   0F040H|NINTEQ,090H,080aeH,0 ;10Khz
      66 000005a0     f440  NTRYSND         .WORD   0F040H|NINTEQ,090H,080b9H,0 ;13.3Khz
      67 000005e0     f006  BasBSND         .WORD   0F006H,05H,08040H,0 ;base clang
      68 00000620     f005  BiteSND         .WORD   0F005H,05H,0804bH,0 ;skeleton bite
      69                    
      70              65ff  SKYFLASH        .set    (32*32*25)+(32*15)+31
      71                    
      72              0e9c  BASCCPID        .set    0E9CH
      73              0e9d  EYECCPID        .set    0E9DH
      74              0e9e  SKLCCPID        .set    0E9EH
      75              0e9b  HEADXPID        .set    0E9BH
      76              0e9a  CHUNKPID        .set    0E9AH
      77              0e99  FLYHTPID        .set    0E99H
      78              0e98  NUKEPID         .set    0E98H
      79              0e9f  TNGPID          .set    0E9FH
      80                    ;*PROC BLOCK OFFSETS FOR COLOR CYCLERS
      81              0180  COLORLVL        .set    ETEMP1          ;byte
      82              0188  OLDCOLOR        .set    ETEMP1+8        ;byte
      83                    
      84          00230000  HEADZSIZ        .set    000230000H      ;use Z plus only
      85              0005  BASEZMIN        .set    5
      86              0028  BASEZPOS        .set    028H
      87          00280005  BASEZSIZ        .set    BASEZPOS*ZP+BASEZMIN
      88          00120012  TUNGZSIZ        .set    000120012H
      89                    
      90              0007  MAXPARTS        .set    7       ;# of parts at start
      91                    ;* offsets in XObj-A10
      92              0000  BASEL           .set    0
      93              0020  BASER           .set    020H
      94              0040  FACE            .set    040H
      95              0040  STUMP                   .set    040H
      96              0060  HAT             .set    060H
      97              0060  SKULL                   .set    060H
      98              0080  NECK            .set    080H
      99              0080  JAW                     .set    080H
     100              00a0  GLAS            .set    0A0H
     101              00a0  STNG                    .set    0A0H    ;skull tung
     102              00c0  TUNG            .set    0C0H
     103              0100  ANIS            .set    0100H
     104              0100  BASELANI        .set    0100H
     105              0120  BASERANI        .set    0120H
     106              0140  FACEANI         .set    0140H
     107              0140  STUMPANI                .set    0140H
     108              0160  HATANI          .set    0160H
     109              0160  SKLANIS                 .set    0160H
     110              0160  SKULLANI                .set    0160H
     111              0180  NECKANI         .set    0180H
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    3

     112              0180  JAWANI                  .set    0180H
     113              01a0  GLASANI         .set    01A0H
     114              01a0  STNGANI                 .set    01A0H
     115              01c0  TUNGANI         .set    01C0H
     116              0200  NUMPARTS        .set    0200H   ;byte
     117              0208  BASPARTS        .set    0208H
     118              0210  HEDPARTS        .set    0210H   ;byte
     119              0210  SKLPARTS                .set    0210H   ;byte
     120              0218  blah3           .set    0218H
     121              0220  INUSE           .set    0220H   ;byte
     122              0228  ONLIST          .set    0228H   ;byte
     123              0230  FLIPS           .set    0230H   ;byte
     124                    
     125                    ;* offsets in PROC Block-A13
     126              0100  HEALTH          .set    EMAINT          ;word
     127              0110  FLIPPED         .set    EMAINT+16       ;byte
     128              0118  COLSRVC         .set    EMAINT+24       ;byte
     129              0180  HEDSTATE        .set    ETEMP1  ;byte
     130              0001  GLASSES  .set   1
     131              0002  FIREEYES .set   2
     132              0003  TUNGER   .set   3
     133              0004  SKULBASE .set   4
     134              0188  SPINELEN        .set    ETEMP1+8
     135              0190  BASEFLSH        .set    ETEMP1+16
     136              0198  BITING          .set    ETEMP1+24
     137              000b  SKULBITE .set   11      ;values for BITING
     138              000c  SKULTUNG .set   12      ; fire tung instead of biting..
     139              00e0  INBITE          .set    ESWTCH  ;byte
     140              00e8  LAUGH           .set    ESWTCH+8 ;byte
     141              00f0  TUNGDEAD        .set    ESWTCH+16 ;byte
     142              00f8  DIR             .set    ESWTCH+24       ;HEAD
     143              00c0  SPINE           .set    EOBJ
     144              01c0  GANGTIKS        .set    ETEMP3          ;word
     145              01d0  EYECTR          .set    ETEMP3+16       ;byte
     146              01d8  GLASSCTR        .set    ETEMP3+24       ;byte
     147                    
     148                    
     149                    
     150                    **************************************************************************
     151 00000660           HEADCOLD:
     152                    ;* PARMS
     153                    ; A5  - Y:X
     154                    ; A6  - 0:Z     ;if A5 and A6=0 then Random Position
     155                    ; A14 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
     156                    
     157 00000660     098f          mmtm    SP,A0,A1,A2,A7,A9,A10,A11
         00000670     e170  
     158                            
     159 00000680     4ca9          move    A5,A9           ;Y:X in A9
     160 00000690     4cca          move    A6,A10          ;0:Z in A10
     161 000006a0     4dcb          move    A14,A11         ;ID in A11
     162                    
     163 000006b0                   CREATE  HEADEPID,BIGHEAD ;allocate process?     (bashes A1,A7)
     164 00000730     09af          mmfm    SP,A0,A1,A2,A7,A9,A10,A11
         00000740     0e87  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    4

     165 00000750     0960          rets
     166                    **************************************************************************
     167                    
     168                    **************************************************************************
     169 00000760           GANGCK:
     170 00000760     05a0          move    @GANGCNT,A0,W
         00000770 00000000! 
     171 00000790     ca1b          jrz     SkCMD
     172 000007a0     07e1          movb    @RAND,A1
         000007b0 00000000! 
     173 000007d0     ce17          jrn     SkCMD
     174 000007e0     05a1          move    @RAND,A1,W
         000007f0 00000000! 
     175 00000810     ce13          jrn     SkCMD
     176 00000820     09c0          movi    100,A0
         00000830     0064  
     177 00000840     0d5f          calla   RANDPER
         00000850 00000000! 
     178 00000870     c90d          jrnc    SkCMD
     179 00000880     09e0          movi    KillSND,A0
         00000890 000004a0' 
     180 000008b0     07e1          movb    @RAND,A1
         000008c0 00000000! 
     181 000008e0     ce03          jrn     GotCMD
     182 000008f0     09e0          movi    GetSND,A0
         00000900 000004e0' 
     183 00000920           GotCMD:
     184 00000920     0d5f          calla   ONESND
         00000930 00000000! 
     185 00000950           SkCMD:
     186                    
     187 00000950     b5a0          move    *A13(GANGTIKS),A0,W
         00000960     01c0  
     188 00000970     c10c          jrp     SkDisp
     189 00000980     09c0          movi    600,A0
         00000990     0258  
     190 000009a0     b00d          move    A0,*A13(GANGTIKS),W
         000009b0     01c0  
     191 000009c0     56a5          clr     A5
     192 000009d0     56c6          clr     A6
     193 000009e0     09ee          movi    000330000H|GANGEOID|1,A14
         000009f0 00330e21  
     194 00000a10     0d5f          calla   GANGCOLD
         00000a20 00000000! 
     195 00000a40           SkDisp:
     196 00000a40     0960          rets
     197                    **************************************************************************
     198                    
     199                    
     200                    
     201 00000a50           PalTbl:
     202 00000a50 00000000!         .long   basepal,basepal,headpal,headpal,headpal,headpal,headpal
     203 00000b30           SPalTbl0:
     204 00000b30 00000000!         .long   basepal,basepal,headxpal,skelpal,skelpal,headpal,headxpal
     205 00000c10           SuppTbl:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    5

     206 00000c10 00000000!         .long   EXPLOSIONS,EXPLOSIONS
     207 00000c50 00000000!         .long   ENEMIES,ENEMIES,ENEMIES,ENEMIES,ENEMIES
     208                    
     209                    
     210                    *********************  START OF BIGHEAD PROCESS  *************************
     211 00000cf0           BIGHEAD:
     212 00000cf0     098c          mmtm    A12,A9,A10      ;push Y:X, Z
         00000d00     0060  
     213 00000d10     c004          jruc    GetXObj
     214                    
     215 00000d20           WaitXObj:
     216 00000d20                   SLEEP   1
     217 00000d60           GetXObj:
     218 00000d60     0d5f          calla   GETOBJ
         00000d70 00000000! 
     219 00000d90     caf8          jrz     WaitXObj
     220 00000da0     4c0a          move    A0,A10
     221 00000db0     0d5f          calla   CLROBJ          ;Clear out Xtra data object
         00000dc0 00000000! 
     222                            
     223 00000de0     18e0          movk    MAXPARTS,A0
     224 00000df0     ac0a          movb    A0,*A10(NUMPARTS)
         00000e00     0200  
     225                    
     226                    ;* ALLOCATE OBJECTS
     227 00000e10     4d4b          move    A10,A11         ;load up Xtra data obj with ptrs to parts
     228 00000e20     af47          movb    *A10(NUMPARTS),A7
         00000e30     0200  
     229 00000e40     c007          jruc    GetObjs
     230 00000e50           WaitObjs:
     231 00000e50                   PUSHP   A7
     232 00000e60                   SLEEP   1
     233 00000ea0                   PULLP   A7
     234 00000ec0           GetObjs:
     235 00000ec0     0d5f          calla   GETOBJ
         00000ed0 00000000! 
     236 00000ef0     caf5          jrz     WaitObjs
     237 00000f00     920b          move    A0,*A11+,L
     238 00000f10     3cc7          dsjs    A7,GetObjs
     239                    
     240                    ;* INITIALIZE OBJECTS
     241 00000f20     09e7          movi    InitTbls,A7
         00000f30 00000000! 
     242 00000f50     4d4b          move    A10,A11
     243 00000f60           Stuffem:
     244 00000f60     96ee          move    *A7+,A14,L
     245 00000f70     ca07          jrz     StuffX
     246 00000f80     9760          move    *A11+,A0,L
     247 00000f90     0d5f          calla   STFOBJ
         00000fa0 00000000! 
     248 00000fc0     b3a0          move    A13,*A0(OPLINK),L
         00000fd0     01f0  
     249 00000fe0     c0f7          jruc    Stuffem
     250 00000ff0           StuffX:
     251                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    6

     252                    ;* ALLOCATE AND STUFF PALETTES
     253 00000ff0     4d4b          move    A10,A11
     254 00001000     af47          movb    *A10(NUMPARTS),A7
         00001010     0200  
     255 00001020     09e6          movi    PalTbl,A6
         00001030 00000a50' 
     256 00001050           IniPals:
     257 00001050     96c0          move    *A6+,A0,L
     258 00001060           TryAlloc:
     259 00001060     0d5f          calla   GETFPAL
         00001070 00000000! 
     260 00001090     cb09          jrnz    GotP
     261 000010a0     098c          mmtm    A12,A0,A6,A7
         000010b0     8300  
     262 000010c0                   SLEEP   1
     263 00001100     09ac          mmfm    A12,A0,A6,A7
         00001110     00c1  
     264 00001120     c0f3          jruc    TryAlloc
     265 00001130           GotP:
     266 00001130     9761          move    *A11+,A1,L
     267 00001140     b001          move    A0,*A1(OPAL),W
         00001150     0160  
     268 00001160     3e47          dsj     A7,IniPals
     269                    
     270                    ;*** START UP COLOR CYCLE OF BASE AND EYES
     271 00001170                   PUSH    A10
     272 00001180     574a          clr     A10
     273 00001190                   CREATE  BASCCPID,BASCC
     274 00001210                   CREATE  EYECCPID,EYECC
     275 00001290                   PULL    A10
     276                    
     277 000012b0     8748          move    *A10,A8,L
     278 000012c0     0d5f          calla   ClrVel
         000012d0 00000000! 
     279 000012f0     0d3f          callr   UpdHeadV
         00001300     0338  
     280                    
     281                            ;* initialize all VARS
     282 00001310     5600          clr     A0
     283 00001320     0580          move    A0,@FRAGCNT,W
         00001330 00000000- 
     284 00001350     1820          movk    1,A0
     285 00001360     0580          move    A0,@GOTCARD,W
         00001370 00000010- 
     286 00001390     18a0          movk    5,A0
     287 000013a0     ac0d          movb    A0,*A13(GLASSCTR)
         000013b0     01d8  
     288 000013c0     18a0          movk    5,A0
     289 000013d0     ac0d          movb    A0,*A13(EYECTR)
         000013e0     01d0  
     290 000013f0     09c0          movi    600,A0
         00001400     0258  
     291 00001410     b00d          move    A0,*A13(GANGTIKS),W
         00001420     01c0  
     292 00001430     09c0          movi    255,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    7

         00001440     00ff  
     293 00001450     b00d          move    A0,*A13(HEALTH),W
         00001460     0100  
     294 00001470     1820          movk    GLASSES,A0
     295 00001480     ac0d          movb    A0,*A13(HEDSTATE)
         00001490     0180  
     296 000014a0     5729          clr     A9
     297 000014b0     b32d          move    A9,*A13(ANIMPTR),L
         000014c0     0120  
     298 000014d0     18e0          movk    7,A0
     299 000014e0     ac0d          movb    A0,*A13(DIR)
         000014f0     00f8  
     300 00001500     0d3f          callr   GetAni
         00001510     018e  
     301 00001520     1820          movk    1,A0
     302 00001530     ac0d          movb    A0,*A13(FLIPPED)
         00001540     0110  
     303 00001550     5600          clr     A0
     304 00001560     ac0d          movb    A0,*A13(COLSRVC)
         00001570     0118  
     305 00001580     ac0d          movb    A0,*A13(LAUGH)
         00001590     00e8  
     306                    
     307 000015a0     09c0          movi    0FFH,A0         ;top 6 bits correspond to first 6 parts
         000015b0     00ff  
     308 000015c0     ac0a          movb    A0,*A10(ONLIST) ;all parts are on the list
         000015d0     0228  
     309 000015e0     09c0          movi    0FFH,A0         
         000015f0     00ff  
     310 00001600     ac0a          movb    A0,*A10(INUSE)  ;all parts are active
         00001610     0220  
     311                    
     312                            ;* set initial position of head
     313 00001620     09ac          mmfm    A12,A1,A2       ;A1 Y:X, A2 0:Z
         00001630     0006  
     314 00001640     4c23          move    A1,A3
     315 00001650     5443          or      A2,A3
     316 00001660     ca0c          jrz     MkCoors
     317                    
     318 00001670     8748          move    *A10,A8,L
     319 00001680     b048          move    A2,*A8(OZPOS),W
         00001690     00d0  
     320 000016a0     0be2          subi    32,A2           ;Z pos is 32 pixels from top of base
         000016b0     ffdf  
     321 000016c0     0b02          addi    ZORIGIN,A2
         000016d0     00c8  
     322 000016e0     b048          move    A2,*A8(OYPOS),W
         000016f0     00b0  
     323 00001700     b028          move    A1,*A8(OXPOS),W
         00001710     0090  
     324                            
     325 00001720     c015          jruc    CoorsSet
     326                    
     327 00001730           MkCoors:
     328 00001730     8748          move    *A10,A8,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    8

     329 00001740     05a0          move    @PLZMID,A0
         00001750 00000000! 
     330 00001770     0be0          subi    35,A0
         00001780     ffdc  
     331 00001790     b008          move    A0,*A8(OZPOS),W
         000017a0     00d0  
     332 000017b0     0be0          subi    32,A0           ;Z pos is 32 pixels from top of base
         000017c0     ffdf  
     333 000017d0     0b00          addi    ZORIGIN,A0
         000017e0     00c8  
     334 000017f0     b008          move    A0,*A8(OYPOS),W
         00001800     00b0  
     335 00001810     05a0          move    @(WORLDTLX+16),A0,W                              
         00001820 00000010! 
     336 00001840     0b00          addi    600,A0
         00001850     0258  
     337 00001860     b008          move    A0,*A8(OXPOS),W
         00001870     0090  
     338 00001880           CoorsSet:
     339 00001880     0d3f          callr   UpdHeadP
         00001890     023c  
     340                    
     341                    ;* INSERT OBJECTS on the obj list and on the supplemental lists
     342 000018a0     09e2          movi    SuppTbl,A2
         000018b0 00000c10' 
     343 000018d0     4d4b          move    A10,A11
     344 000018e0     af47          movb    *A10(NUMPARTS),A7
         000018f0     0200  
     345 00001900           Insertem:
     346 00001900     9760          move    *A11+,A0,L
     347 00001910     9641          move    *A2+,A1,L
     348 00001920     ca06          jrz     SkSupp
     349 00001930     0d5f          calla   INSOBJ
         00001940 00000000! 
     350 00001960     0d5f          calla   ADDSUPP
         00001970 00000000! 
     351 00001990           SkSupp:
     352 00001990     3d47          dsjs    A7,Insertem
     353                    
     354 000019a0     c05e          jruc    HEAD_MV
     355                    **************************************************************************
     356                    
     357                    **************************************************************************
     358 000019b0           XBOUNDS:
     359 000019b0     8748          move    *A10,A8,L
     360 000019c0     0d5f          calla   GETANIX
         000019d0 00000000! 
     361                    
     362 000019f0     05a1          move    @UNIVSTX,A1,W   ;STARTING UNIVERSE X COORDINATE
         00001a00 00000000! 
     363 00001a20     0b01          addi    106,A1
         00001a30     006a  
     364 00001a40     4820          cmp     A1,A0
     365 00001a50     c70d          jrgt    LftEdgOk
     366 00001a60     4401          sub     A0,A1   
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE    9

     367 00001a70     b500          move    *A8(OXPOS),A0,W
         00001a80     0090  
     368 00001a90     4020          add     A1,A0
     369 00001aa0     b008          move    A0,*A8(OXPOS),W
         00001ab0     0090  
     370                            
     371 00001ac0     b703          move    *A8(OXVEL),A3,L
         00001ad0     0040  
     372 00001ae0     c117          jrp     XBOUNDSX
     373 00001af0     03a3          neg     A3
     374 00001b00     b268          move    A3,*A8(OXVEL),L
         00001b10     0040  
     375                            
     376 00001b20     c013          jruc    XBOUNDSX
     377                    
     378 00001b30           LftEdgOk:
     379 00001b30     05a1          move    @UNIVENDX,A1,W  ;STARTING UNIVERSE X COORDINATE
         00001b40 00000000! 
     380 00001b60     0be1          subi    106,A1
         00001b70     ff95  
     381 00001b80     4820          cmp     A1,A0
     382 00001b90     c40c          jrlt    XBOUNDSX
     383 00001ba0     4420          sub     A1,A0   
     384 00001bb0     b501          move    *A8(OXPOS),A1,W
         00001bc0     0090  
     385 00001bd0     4401          sub     A0,A1
     386 00001be0     b028          move    A1,*A8(OXPOS),W
         00001bf0     0090  
     387                    
     388 00001c00     b703          move    *A8(OXVEL),A3,L
         00001c10     0040  
     389 00001c20     ce03          jrn     XBOUNDSX
     390 00001c30     03a3          neg     A3
     391 00001c40     b268          move    A3,*A8(OXVEL),L
         00001c50     0040  
     392                    
     393 00001c60           XBOUNDSX:
     394 00001c60     0960          rets
     395                    **************************************************************************
     396                    
     397                    **************************************************************************
     398 00001c70           ZCHECK:
     399 00001c70     b501          move    *A8(OZPOS),A1,W
         00001c80     00d0  
     400 00001c90     05a0          move    @PLZMIN,A0,W
         00001ca0 00000000! 
     401 00001cc0     10a0          addk    BASEZMIN,A0
     402 00001cd0     4401          sub     A0,A1
     403 00001ce0     cf0b          jrnn    ZMinOK
     404 00001cf0     b008          move    A0,*A8(OZPOS),W
         00001d00     00d0  
     405 00001d10     b500          move    *A8(OYPOS),A0,W
         00001d20     00b0  
     406 00001d30     4420          sub     A1,A0
     407 00001d40     b008          move    A0,*A8(OYPOS),W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   10

         00001d50     00b0  
     408                    ;       callr   UpdHeadP
     409 00001d60     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         00001d70     00e0  
     410 00001d80     cf1f          jrnn    ZMaxOK
     411 00001d90     c014          jruc    SETZV
     412 00001da0           ZMinOK:
     413 00001da0     b501          move    *A8(OZPOS),A1,W
         00001db0     00d0  
     414 00001dc0     05a0          move    @PLZMAX,A0,W
         00001dd0 00000000! 
     415 00001df0     0be0          subi    BASEZPOS,A0
         00001e00     ffd7  
     416 00001e10     4401          sub     A0,A1
     417 00001e20     ce15          jrn     ZMaxOK
     418 00001e30     b008          move    A0,*A8(OZPOS),W
         00001e40     00d0  
     419 00001e50     b500          move    *A8(OYPOS),A0,W
         00001e60     00b0  
     420 00001e70     4420          sub     A1,A0
     421 00001e80     b008          move    A0,*A8(OYPOS),W
         00001e90     00b0  
     422                    ;       callr   UpdHeadP
     423 00001ea0     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         00001eb0     00e0  
     424 00001ec0     ce0b          jrn     ZMaxOK
     425 00001ed0     ca0a          jrz     ZMaxOK
     426 00001ee0           SETZV:
     427 00001ee0     b701          move    *A8(OYVEL),A1,L
         00001ef0     0060  
     428 00001f00     4401          sub     A0,A1
     429 00001f10     b228          move    A1,*A8(OYVEL),L
         00001f20     0060  
     430 00001f30     5600          clr     A0
     431 00001f40     b208          move    A0,*A8(OZVEL),L ;set Z velocity
         00001f50     00e0  
     432 00001f60     0d3f          callr   UpdHeadV
         00001f70     0271  
     433 00001f80           ZMaxOK:
     434 00001f80     0960          rets
     435                    **************************************************************************
     436                    
     437                    **************************************************************************
     438 00001f90           HEAD_MV:
     439 00001f90     8748          move    *A10,A8,L
     440 00001fa0     0d3f          callr   ZCHECK
         00001fb0     ffcb  
     441 00001fc0     0d3f          callr   XBOUNDS
         00001fd0     ff9d  
     442                    
     443 00001fe0     afa0          movb    *A13(ANIMTIKS),A0
         00001ff0     01a0  
     444 00002000     cb08          jrnz    SkHAnim
     445 00002010     0d3f          callr   GetDir
         00002020     00a4  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   11

     446 00002030     0d3f          callr   GetAni
         00002040     00db  
     447                            
     448 00002050     0d3f          callr   AniHead
         00002060     02f1  
     449 00002070     ac0d          movb    A0,*A13(ANIMTIKS)
         00002080     01a0  
     450 00002090           SkHAnim:
     451                    
     452 00002090     afa0          movb    *A13(BRAINTIKS),A0
         000020a0     01b0  
     453 000020b0     cb1b          jrnz    HBrainX
     454                    
     455 000020c0     0d3f          callr   LaffChek
         000020d0     00ba  
     456                            
     457                            ;* CHOOSE APPROPRIATE METHOD OF ATTACK
     458 000020e0     afa0          movb    *A13(HEDSTATE),A0
         000020f0     0180  
     459 00002100     0b40          cmpi    GLASSES,A0
         00002110     fffe  
     460 00002120     ca09          jreq    CHARGE
     461 00002130     0b40          cmpi    FIREEYES,A0
         00002140     fffd  
     462 00002150     ca0c          jreq    FLAME
     463                    
     464 00002160     19c0          movk    14,A0
     465 00002170     ac0d          movb    A0,*A13(BRAINTIKS)
         00002180     01b0  
     466 00002190     0d3f          callr   DOTUNG
         000021a0     0161  
     467 000021b0     c00b          jruc    AttckX
     468 000021c0           CHARGE:
     469 000021c0     18c0          movk    6,A0
     470 000021d0     ac0d          movb    A0,*A13(BRAINTIKS)
         000021e0     01b0  
     471 000021f0     0d3f          callr   DOCHARGE
         00002200     0113  
     472 00002210     c005          jruc    AttckX
     473 00002220           FLAME:
     474 00002220     1940          movk    10,A0
     475 00002230     ac0d          movb    A0,*A13(BRAINTIKS)
         00002240     01b0  
     476 00002250     0d3f          callr   DOFLAME
         00002260     0110  
     477                    ;       jruc    AttckX
     478 00002270           AttckX:
     479 00002270           HBrainX:
     480                    
     481 00002270     0d3f          callr   UpdHeadP
         00002280     019d  
     482 00002290     0d3f          callr   UpdHeadV
         000022a0     023e  
     483                    
     484                            ;**** FIND NEXT ACTION ****
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   12

     485 000022b0     afa0          movb    *A13(BRAINTIKS),A0
         000022c0     01b0  
     486 000022d0     c101          jrp     SkHBrain1
     487 000022e0     1820          movk    1,A0
     488 000022f0           SkHBrain1:
     489 000022f0     4c05          move    A0,A5                   ;current min
     490                            
     491 00002300     afa1          movb    *A13(ANIMTIKS),A1
         00002310     01a0  
     492 00002320     48a1          cmp     A5,A1
     493 00002330     c501          jrge    SkHMin2
     494 00002340     4c25          move    A1,A5
     495 00002350           SkHMin2:
     496                    
     497 00002350     44a0          sub     A5,A0
     498 00002360     ac0d          movb    A0,*A13(BRAINTIKS)
         00002370     01b0  
     499 00002380     44a1          sub     A5,A1
     500 00002390     ac2d          movb    A1,*A13(ANIMTIKS)
         000023a0     01a0  
     501                    
     502 000023b0     afa0          movb    *A13(LAUGH),A0
         000023c0     00e8  
     503 000023d0     44a0          sub     A5,A0
     504 000023e0     cf01          jrnn    SkClrL
     505 000023f0     5600          clr     A0
     506 00002400           SkClrL:
     507 00002400     ac0d          movb    A0,*A13(LAUGH)
         00002410     00e8  
     508                    
     509                    ;       move    *A13(GANGTIKS),A0,W
     510                    ;       sub     A5,A0
     511                    ;       jrp     SkClrGT
     512                    ;       clr     A0
     513                    ;SkClrGT
     514                    ;       move    A0,*A13(GANGTIKS),W
     515                    
     516 00002420     4ca0          move    A5,A0
     517 00002430     0d3f          callr   CkBFlash
         00002440     07f7  
     518 00002450     0d5f          calla   PRCSLP
         00002460 00000000! 
     519 00002480     5600          clr     A0
     520 00002490     0580          move    A0,@IRQSKYE,W
         000024a0 00000000! 
     521                            
     522                    ;       callr   GANGCK
     523 000024c0     c0ac          jruc    HEAD_MV
     524                    **************************************************************************
     525                    
     526                    
     527                    **************************************************************************
     528 000024d0           FindDir:
     529                    ;* RETURNS
     530                    ;   A0 - direction to face toward nearest player
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   13

     531                    ;   A7 - ptr to player object
     532 000024d0     0d5f          calla   ClosestP
         000024e0 00000000! 
     533 00002500     4c08          move    A0,A8
     534 00002510     0d5f          calla   GETANIX
         00002520 00000000! 
     535 00002540     4d07          move    A8,A7
     536 00002550     4c01          move    A0,A1
     537                    
     538 00002560     8748          move    *A10,A8,L
     539 00002570     0d5f          calla   GETANIX
         00002580 00000000! 
     540 000025a0     4401          sub     A0,A1           ;A1 = X dist from head to player
     541                    
     542 000025b0     b4e2          move    *A7(OZPOS),A2,W
         000025c0     00d0  
     543 000025d0     b500          move    *A8(OZPOS),A0,W
         000025e0     00d0  
     544 000025f0     4402          sub     A0,A2           ;A2 = Z dist from head to player
     545                    
     546 00002600     4c43          move    A2,A3
     547 00002610     4c24          move    A1,A4
     548 00002620     ca40          jrz     ZEROX
     549 00002630     0383          abs     A3
     550 00002640     0384          abs     A4
     551 00002650     2603          sll     16,A3
     552 00002660     5a83          divu    A4,A3
     553 00002670           GotZdivX:
     554                    
     555 00002670     4c21          move    A1,A1
     556 00002680     ce14          jrn     LftDir
     557                    ;* facing right, 0<=dir<=4
     558 00002690     4c42          move    A2,A2
     559 000026a0     ce0d          jrn     RgtUDir
     560                    ;**facing right and down
     561 000026b0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         000026c0 ffff6c32  
     562 000026e0     c424          jrlt    Dir1
     563 000026f0     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00002700 fffeffff  
     564 00002720     c422          jrlt    Dir2
     565 00002730     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00002740 fffddb01  
     566 00002760     c420          jrlt    Dir3
     567 00002770     c021          jruc    Dir4
     568 00002780           RgtUDir:
     569                    ;**facing right and up
     570 00002780     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         00002790 ffff6c32  
     571 000027b0     c417          jrlt    Dir1
     572 000027c0     c014          jruc    Dir0
     573                    
     574 000027d0           LftDir:
     575                    ;* facing left, 5<=dir<=9
     576 000027d0     4c42          move    A2,A2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   14

     577 000027e0     ce0d          jrn     LftUDir
     578                    ;**facing left and down
     579 000027f0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         00002800 ffff6c32  
     580 00002820     c41c          jrlt    Dir7
     581 00002830     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00002840 fffeffff  
     582 00002860     c416          jrlt    Dir6
     583 00002870     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00002880 fffddb01  
     584 000028a0     c410          jrlt    Dir5
     585 000028b0     c00d          jruc    Dir4
     586                    
     587 000028c0           LftUDir:
     588                    ;**facing left and up
     589 000028c0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         000028d0 ffff6c32  
     590 000028f0     c40f          jrlt    Dir7
     591 00002900     c010          jruc    Dir8
     592                    
     593 00002910     5600  Dir0:   clr     A0
     594 00002920     c00f          jruc    SetBDir
     595 00002930     1820  Dir1:   movk    1,A0
     596 00002940     c00d          jruc    SetBDir
     597 00002950     1840  Dir2:   movk    2,A0
     598 00002960     c00b          jruc    SetBDir
     599 00002970     1860  Dir3:   movk    3,A0
     600 00002980     c009          jruc    SetBDir
     601 00002990     1880  Dir4:   movk    4,A0
     602 000029a0     c007          jruc    SetBDir
     603 000029b0     18a0  Dir5:   movk    5,A0
     604 000029c0     c005          jruc    SetBDir
     605 000029d0     18c0  Dir6:   movk    6,A0
     606 000029e0     c003          jruc    SetBDir
     607 000029f0     18e0  Dir7:   movk    7,A0
     608 00002a00     c001          jruc    SetBDir
     609 00002a10     1900  Dir8:   movk    8,A0
     610                    ;       jruc    SetBDir
     611                    
     612 00002a20           SetBDir:
     613 00002a20     0960          rets
     614 00002a30           ZEROX:
     615 00002a30     09e3          movi    07FFFFFFFH,A3
         00002a40 7fffffff  
     616 00002a60     c0c0          jruc    GotZdivX
     617                    ***************************************************************************
     618                    
     619                    
     620                    ***************************************************************************
     621 00002a70           GetDir:
     622                    ;* Find direction to face and start turning towards it..
     623 00002a70     0d3f          callr   FindDir
         00002a80     ffa4  
     624                    
     625 00002a90     afa4          movb    *A13(DIR),A4
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   15

         00002aa0     00f8  
     626 00002ab0     4804          cmp     A0,A4
     627 00002ac0     c402          jrlt    IncDir
     628 00002ad0     c70b          jrgt    DecDir
     629 00002ae0     c016          jruc    GotBDir
     630 00002af0           IncDir:
     631 00002af0     4480          sub     A4,A0
     632 00002b00     0b40          cmpi    4,A0
         00002b10     fffb  
     633 00002b20     c702          jrgt    IncMDir
     634 00002b30     1024          inc     A4
     635 00002b40     c010          jruc    GotBDir
     636 00002b50           IncMDir:
     637 00002b50     1424          dec     A4
     638 00002b60     cf0e          jrnn    GotBDir
     639 00002b70     1904          movk    8,A4
     640 00002b80     c00c          jruc    GotBDir
     641                    
     642 00002b90           DecDir:
     643 00002b90     4480          sub     A4,A0
     644 00002ba0     03a0          neg     A0
     645 00002bb0     0b40          cmpi    4,A0
         00002bc0     fffb  
     646 00002bd0     c702          jrgt    DecMDir
     647 00002be0     1424          dec     A4
     648 00002bf0     c005          jruc    GotBDir
     649 00002c00           DecMDir:
     650 00002c00     1024          inc     A4
     651 00002c10     0b44          cmpi    8,A4
         00002c20     fff7  
     652 00002c30     c601          jrle    GotBDir
     653 00002c40     5684          clr     A4
     654                    ;       jruc    GotBDir
     655                    
     656 00002c50           GotBDir:
     657 00002c50     ac8d          movb    A4,*A13(DIR)
         00002c60     00f8  
     658 00002c70     0960          rets
     659                    **************************************************************************
     660                    
     661                    **************************************************************************
     662 00002c80           LaffChek:
     663 00002c80     09e0          movi    P1DATA,A0
         00002c90 00000000! 
     664 00002cb0     b600          move    *A0(PFLAGS),A0,L
         00002cc0     0080  
     665 00002cd0     1da0          btst    BDEAD,A0
     666 00002ce0     cb07          jrnz    HaHa
     667 00002cf0     09e0          movi    P2DATA,A0
         00002d00 00000000! 
     668 00002d20     b600          move    *A0(PFLAGS),A0,L
         00002d30     0080  
     669 00002d40     1da0          btst    BDEAD,A0
     670 00002d50     ca09          jrz     LaffX
     671                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   16

     672 00002d60           HaHa:
     673 00002d60     1bc0          movk    30,A0
     674 00002d70     ac0d          movb    A0,*A13(LAUGH)
         00002d80     00e8  
     675 00002d90     09e0          movi    LaughSND,A0
         00002da0 00000460' 
     676 00002dc0     0d5f          calla   ONESND
         00002dd0 00000000! 
     677 00002df0           LaffX:
     678 00002df0     0960          rets
     679                    **************************************************************************
     680                    
     681                    **************************************************************************
     682 00002e00           GetAni:         
     683 00002e00     afa0          movb    *A13(COLSRVC),A0
         00002e10     0118  
     684 00002e20     cb16          jrnz    SameAni
     685                    
     686 00002e30     afa0          movb    *A13(DIR),A0
         00002e40     00f8  
     687 00002e50     afa1          movb    *A13(LAUGH),A1
         00002e60     00e8  
     688 00002e70     c101          jrp     AddLaff
     689 00002e80     c004          jruc    NoAddOff
     690 00002e90           AddLaff:
     691 00002e90     0b00          addi    9,A0
         00002ea0     0009  
     692 00002eb0           AddTalk:
     693 00002eb0     0b00          addi    9,A0
         00002ec0     0009  
     694 00002ed0           NoAddOff:
     695 00002ed0     24a0          sll     5,A0
     696 00002ee0     0b20          addi    DIRANI,A0
         00002ef0 00000000! 
     697 00002f10     8600          move    *A0,A0,L
     698                    
     699 00002f20     b7a1          move    *A13(ANIMPTR),A1,L
         00002f30     0120  
     700 00002f40     4801          cmp     A0,A1
     701 00002f50     ca03          jreq    SameAni
     702 00002f60     b20d          move    A0,*A13(ANIMPTR),L
         00002f70     0120  
     703 00002f80     4c09          move    A0,A9
     704 00002f90           SameAni:
     705 00002f90     0960          rets
     706                    **************************************************************************
     707                    
     708                    **************************************************************************
     709 00002fa0           MOVEHEAD:
     710 00002fa0     0d5f          calla   ClosestP
         00002fb0 00000000! 
     711 00002fd0     4c08          move    A0,A8
     712 00002fe0     0d5f          calla   GETANIX
         00002ff0 00000000! 
     713 00003010     4d07          move    A8,A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   17

     714 00003020     4c01          move    A0,A1
     715                    
     716 00003030     8748          move    *A10,A8,L
     717 00003040     0d5f          calla   GETANIX
         00003050 00000000! 
     718 00003070     4401          sub     A0,A1           ;A1 = X dist from head to player
     719                    
     720 00003080     24c1          sll     6,A1    
     721 00003090     b6e0          move    *A7(OXVEL),A0,L
         000030a0     0040  
     722 000030b0     2b80          sra     4,A0
     723 000030c0     4020          add     A1,A0
     724                    
     725 000030d0     afa2          movb    *A13(COLSRVC),A2
         000030e0     0118  
     726 000030f0     ca01          jrz     SkClrXV
     727 00003100     5600          clr     A0
     728 00003110           SkClrXV:
     729                    
     730 00003110     b701          move    *A8(OXVEL),A1,L
         00003120     0040  
     731 00003130     4001          add     A0,A1
     732 00003140     4c22          move    A1,A2
     733 00003150     2ba2          sra     3,A2
     734 00003160     4441          sub     A2,A1
     735 00003170     b228          move    A1,*A8(OXVEL),L
         00003180     0040  
     736                    
     737 00003190     b4e1          move    *A7(OZPOS),A1,W
         000031a0     00d0  
     738 000031b0     b500          move    *A8(OZPOS),A0,W
         000031c0     00d0  
     739 000031d0     4401          sub     A0,A1           ;A1 = Z dist from head to player
     740                    
     741 000031e0     24a1          sll     5,A1
     742 000031f0     b6e0          move    *A7(OZVEL),A0,L
         00003200     00e0  
     743 00003210     2b80          sra     4,A0
     744 00003220     4020          add     A1,A0
     745                    
     746 00003230     afa2          movb    *A13(COLSRVC),A2
         00003240     0118  
     747 00003250     ca01          jrz     SkClrZV
     748 00003260     5600          clr     A0
     749 00003270           SkClrZV:
     750                    
     751 00003270     b701          move    *A8(OZVEL),A1,L
         00003280     00e0  
     752 00003290     4001          add     A0,A1
     753 000032a0     4c22          move    A1,A2
     754 000032b0     2ba2          sra     3,A2
     755 000032c0     4441          sub     A2,A1
     756 000032d0     b228          move    A1,*A8(OZVEL),L
         000032e0     00e0  
     757 000032f0     b228          move    A1,*A8(OYVEL),L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   18

         00003300     0060  
     758                            
     759 00003310     0d3f          callr   UpdHeadV
         00003320     0136  
     760 00003330     0960          rets
     761                    **************************************************************************
     762                    
     763                    **************************************************************************
     764 00003340           DOCHARGE:
     765 00003340     0d3f          callr   MOVEHEAD
         00003350     ffc4  
     766 00003360     0960          rets
     767                    **************************************************************************
     768                    
     769                    **************************************************************************
     770 00003370           DOFLAME:
     771 00003370     09c0          movi    800,A0
         00003380     0320  
     772 00003390     0d5f          calla   RANDPER
         000033a0 00000000! 
     773 000033c0     c902          jrnc    SkMoveF
     774 000033d0     0d3f          callr   MOVEHEAD
         000033e0     ffbb  
     775 000033f0           SkMoveF:
     776                    
     777 000033f0     afa0          movb    *A13(COLSRVC),A0
         00003400     0118  
     778 00003410     cb39          jrnz    SkFlame
     779                    
     780 00003420     afae          movb    *A13(DIR),A14
         00003430     00f8  
     781 00003440     0b4e          cmpi    1,A14
         00003450     fffe  
     782 00003460     ca04          jreq    FlamOk
     783 00003470     0b4e          cmpi    7,A14
         00003480     fff8  
     784 00003490     ca01          jreq    FlamOk
     785 000034a0     c030          jruc    SkFlame
     786 000034b0           FlamOk:
     787 000034b0     09c0          movi    600,A0
         000034c0     0258  
     788 000034d0     0d5f          calla   RANDPER
         000034e0 00000000! 
     789 00003500     c92a          jrnc    SkFlame
     790                    
     791 00003510     8748          move    *A10,A8,L
     792 00003520     b700          move    *A8(OXVEL),A0,L ; A0 - X velocity
         00003530     0040  
     793 00003540     09e1          movi    038000H,A1
         00003550 00038000  
     794 00003570     0d5f          calla   ABSADD  ;* ADD A1 to A0 with respect to sign of A0
         00003580 00000000! 
     795 000035a0     09e1          movi    020000H,A1      ; A1 - Y velocity
         000035b0 00020000  
     796 000035d0     b702          move    *A8(OZVEL),A2,L ; A2 - Z velocity
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   19

         000035e0     00e0  
     797 000035f0     4041          add     A2,A1
     798                    
     799 00003600     b503          move    *A8(OXPOS),A3   ;X coor of beginning anim pt
         00003610     0090  
     800 00003620     0b03          addi    018H,A3
         00003630     0018  
     801 00003640     1826          movk    1,A6            ;0-0fHlame shoots to right, 1-0fHlame to left
     802 00003650     afae          movb    *A13(DIR),A14
         00003660     00f8  
     803 00003670     0b4e          cmpi    1,A14
         00003680     fffe  
     804 00003690     cb05          jrnz    SkAddFlp
     805 000036a0     0be3          subi    030H,A3
         000036b0     ffcf  
     806 000036c0     56c6          clr     A6
     807 000036d0     b50e          move    *A8(OSIZEX),A14
         000036e0     0140  
     808 000036f0           SkAddFlp:
     809 000036f0     41c3          add     A14,A3
     810                    
     811 00003700     b504          move    *A8(OYPOS),A4   ;Y coor
         00003710     00b0  
     812 00003720     0be4          subi    040H,A4
         00003730     ffbf  
     813 00003740     b505          move    *A8(OZPOS),A5   ;Z coor
         00003750     00d0  
     814 00003760     0b05          addi    10,A5
         00003770     000a  
     815 00003780     0d5f          calla   MAKEFLAM
         00003790 00000000! 
     816                    
     817 000037b0           SkFlame:
     818 000037b0     0960          rets
     819                    **************************************************************************
     820                    
     821                    **************************************************************************
     822 000037c0           DOTUNG:
     823 000037c0     09c0          movi    800,A0
         000037d0     0320  
     824 000037e0     0d5f          calla   RANDPER
         000037f0 00000000! 
     825 00003810     c902          jrnc    SkMoveT
     826 00003820     0d3f          callr   MOVEHEAD
         00003830     ff76  
     827 00003840           SkMoveT:
     828                    
     829 00003840     afa1          movb    *A13(LAUGH),A1
         00003850     00e8  
     830 00003860           TryLaff:
     831 00003860     09c0          movi    500,A0
         00003870     01f4  
     832 00003880     0d5f          calla   RANDPER
         00003890 00000000! 
     833 000038b0     c903          jrnc    SkLaff
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   20

     834 000038c0     0b01          addi    10,A1
         000038d0     000a  
     835 000038e0     c0f7          jruc    TryLaff
     836 000038f0           SkLaff:
     837 000038f0     ac2d          movb    A1,*A13(LAUGH)
         00003900     00e8  
     838                    
     839 00003910     afa0          movb    *A13(COLSRVC),A0
         00003920     0118  
     840 00003930     cb31          jrnz    SkTung
     841                    
     842 00003940     afa0          movb    *A13(TUNGDEAD),A0
         00003950     00f0  
     843 00003960     cb2e          jrnz    SkTung
     844                    
     845 00003970     afae          movb    *A13(DIR),A14
         00003980     00f8  
     846 00003990     0b4e          cmpi    1,A14
         000039a0     fffe  
     847 000039b0     ca04          jreq    TungOk
     848 000039c0     0b4e          cmpi    7,A14
         000039d0     fff8  
     849 000039e0     ca01          jreq    TungOk
     850 000039f0     c025          jruc    SkTung
     851 00003a00           TungOk:
     852 00003a00     b740          move    *A10(TUNGANI),A0,L
         00003a10     01c0  
     853 00003a20     ca22          jrz     SkTung
     854                    
     855 00003a30     0d3f          callr   FindDir
         00003a40     fea8  
     856 00003a50     afa1          movb    *A13(DIR),A1
         00003a60     00f8  
     857 00003a70     4801          cmp     A0,A1
     858 00003a80     cb1c          jrnz    SkTung
     859 00003a90     4ce0          move    A7,A0           ;A7 set by FindDir
     860 00003aa0     0d5f          calla   GetPData
         00003ab0 00000000! 
     861 00003ad0     4c0b          move    A0,A11          ;A11 ptr to player data block
     862                    
     863 00003ae0     1866          movk    3,A6
     864 00003af0           TungMirv:
     865 00003af0     09c0          movi    400,A0
         00003b00     0190  
     866 00003b10     0d5f          calla   RANDPER
         00003b20 00000000! 
     867 00003b40     c910          jrnc    SkTung
     868                    
     869                            ;**** FIRE OFF A TONGUE
     870 00003b50     098f          mmtm    SP,A10
         00003b60     0020  
     871 00003b70     b748          move    *A10(TUNG),A8,L
         00003b80     00c0  
     872 00003b90     574a          clr     A10             ;not using a reverse tung
     873 00003ba0                   CREATE  TNGPID,FIRETUNG
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   21

     874 00003c20     09af          mmfm    SP,A10
         00003c30     0400  
     875 00003c40     3ec6          dsj     A6,TungMirv
     876                    
     877 00003c50           SkTung:
     878 00003c50     0960          rets
     879                    **************************************************************************
     880                    
     881                    **************************************************************************
     882 00003c60           UpdHeadP:
     883                    ; UPDATE HEAD POSITION
     884                    ;Based on position of first obj, set coors of all other objs
     885 00003c60     4d4b          move    A10,A11
     886                    
     887                    ;* get POSITION from first obj..
     888 00003c70     9760          move    *A11+,A0,L
     889 00003c80     b601          move    *A0(OIMG),A1,L
         00003c90     0180  
     890 00003ca0     b602          move    *A0(OSIZE),A2,L
         00003cb0     0140  
     891 00003cc0     b404          move    *A0(OFLAGS),A4,W
         00003cd0     0100  
     892                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
     893 00003ce0     0d5f          calla   GANIOF
         00003cf0 00000000! 
     894 00003d10     b603          move    *A0(OXVAL),A3,L
         00003d20     0080  
     895 00003d30     40c3          add     A6,A3                   ;A3 XANI pos
     896 00003d40     b605          move    *A0(OYVAL),A5,L
         00003d50     00a0  
     897 00003d60     40e5          add     A7,A5                   ;A5 YANI pos
     898 00003d70     b60e          move    *A0(OZVAL),A14,L
         00003d80     00c0  
     899                    
     900 00003d90     af40          movb    *A10(NUMPARTS),A0
         00003da0     0200  
     901 00003db0     4e00          move    A0,B0
     902 00003dc0     1430          dec     B0              ;update the rest of the parts
     903 00003dd0           SetPoss:
     904 00003dd0     9760          move    *A11+,A0,L
     905 00003de0     b601          move    *A0(OIMG),A1,L
         00003df0     0180  
     906 00003e00     b602          move    *A0(OSIZE),A2,L
         00003e10     0140  
     907 00003e20     b404          move    *A0(OFLAGS),A4,W
         00003e30     0100  
     908                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
     909 00003e40     0d5f          calla   GANIOF
         00003e50 00000000! 
     910 00003e70     4466          sub     A3,A6
     911 00003e80     03a6          neg     A6
     912 00003e90     b2c0          move    A6,*A0(OXVAL),L
         00003ea0     0080  
     913 00003eb0     44a7          sub     A5,A7
     914 00003ec0     03a7          neg     A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   22

     915 00003ed0     b2e0          move    A7,*A0(OYVAL),L
         00003ee0     00a0  
     916 00003ef0     b3c0          move    A14,*A0(OZVAL),L
         00003f00     00c0  
     917 00003f10     102e          inc     A14
     918 00003f20     3ed0          dsj     B0,SetPoss
     919 00003f30     0960          rets
     920                    **************************************************************************
     921                    
     922                    **************************************************************************
     923 00003f40           UpdBaseP:
     924                    ; UPDATE BASE POSITION
     925                    ;Based on position of first obj, set coors of all other objs
     926 00003f40     4d4b          move    A10,A11
     927                    
     928                    ;* get POSITION from first obj..
     929 00003f50     9760          move    *A11+,A0,L
     930 00003f60     b601          move    *A0(OIMG),A1,L
         00003f70     0180  
     931 00003f80     b602          move    *A0(OSIZE),A2,L
         00003f90     0140  
     932 00003fa0     b404          move    *A0(OFLAGS),A4,W
         00003fb0     0100  
     933                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
     934 00003fc0     0d5f          calla   GANIOF
         00003fd0 00000000! 
     935 00003ff0     b603          move    *A0(OXVAL),A3,L
         00004000     0080  
     936 00004010     40c3          add     A6,A3                   ;A3 XANI pos
     937 00004020     b605          move    *A0(OYVAL),A5,L
         00004030     00a0  
     938 00004040     40e5          add     A7,A5                   ;A5 YANI pos
     939 00004050     b60e          move    *A0(OZVAL),A14,L        ;A14 Z pos
         00004060     00c0  
     940                    
     941 00004070     af40          movb    *A10(BASPARTS),A0
         00004080     0208  
     942 00004090     4e00          move    A0,B0
     943 000040a0     1430          dec     B0              ;update the rest of the parts
     944 000040b0           SetBPoss:
     945 000040b0     9760          move    *A11+,A0,L
     946 000040c0     b601          move    *A0(OIMG),A1,L
         000040d0     0180  
     947 000040e0     b602          move    *A0(OSIZE),A2,L
         000040f0     0140  
     948 00004100     b404          move    *A0(OFLAGS),A4,W
         00004110     0100  
     949                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
     950 00004120     0d5f          calla   GANIOF
         00004130 00000000! 
     951 00004150     4466          sub     A3,A6
     952 00004160     03a6          neg     A6
     953 00004170     b2c0          move    A6,*A0(OXVAL),L
         00004180     0080  
     954 00004190     44a7          sub     A5,A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   23

     955 000041a0     03a7          neg     A7
     956 000041b0     b2e0          move    A7,*A0(OYVAL),L
         000041c0     00a0  
     957 000041d0     b3c0          move    A14,*A0(OZVAL),L
         000041e0     00c0  
     958 000041f0     102e          inc     A14
     959 00004200     3ed0          dsj     B0,SetBPoss
     960                    
     961                            ;* UPDATE POSITION OF FINAL BONE OF SPINE
     962 00004210     b7ab          move    *A13(SPINE),A11,L
         00004220     00c0  
     963 00004230     afa6          movb    *A13(SPINELEN),A6
         00004240     0188  
     964 00004250     ca13          jrz     UpdPX
     965 00004260     1426          dec     A6
     966 00004270     24a6          sll     5,A6
     967 00004280     40cb          add     A6,A11
     968                            ;*Set Coors of Bottom Bone
     969 00004290     876b          move    *A11,A11,L     ;load ptr to final bone
     970 000042a0     0b25          addi    0180000H,A5
         000042b0 00180000  
     971 000042d0     b2ab          move    A5,*A11(OYVAL),L   
         000042e0     00a0  
     972 000042f0     0d03          subi    0E0000H,A3
         00004300 fff1ffff  
     973 00004320     b26b          move    A3,*A11(OXVAL),L   
         00004330     0080  
     974 00004340     0b2e          addi    0100000H,A14
         00004350 00100000  
     975 00004370     b3cb          move    A14,*A11(OZVAL),L  
         00004380     00c0  
     976                    
     977 00004390           UpdPX:
     978 00004390     0960          rets
     979                    **************************************************************************
     980                    
     981                    **************************************************************************
     982 000043a0           UpdSkulP:
     983                    ; UPDATE SKULL POSITION
     984                    ;Based on position of first obj, set coors of all other objs
     985 000043a0     4d4b          move    A10,A11
     986 000043b0     0b0b          addi    SKULL,A11
         000043c0     0060  
     987                    
     988                    ;* get POSITION from first obj..
     989 000043d0     9760          move    *A11+,A0,L
     990 000043e0     b601          move    *A0(OIMG),A1,L
         000043f0     0180  
     991 00004400     b602          move    *A0(OSIZE),A2,L
         00004410     0140  
     992 00004420     b404          move    *A0(OFLAGS),A4,W
         00004430     0100  
     993                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
     994 00004440     0d5f          calla   GANIOF
         00004450 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   24

     995 00004470     b603          move    *A0(OXVAL),A3,L
         00004480     0080  
     996 00004490     40c3          add     A6,A3                   ;A3 XANI pos
     997 000044a0     b605          move    *A0(OYVAL),A5,L
         000044b0     00a0  
     998 000044c0     40e5          add     A7,A5                   ;A5 YANI pos
     999 000044d0     b40e          move    *A0(OZPOS),A14,W
         000044e0     00d0  
    1000                    
    1001 000044f0     af40          movb    *A10(SKLPARTS),A0
         00004500     0210  
    1002 00004510     4e00          move    A0,B0
    1003 00004520     1430          dec     B0              ;update the rest of the parts
    1004 00004530           SetSPoss:
    1005 00004530     9760          move    *A11+,A0,L
    1006 00004540     b601          move    *A0(OIMG),A1,L
         00004550     0180  
    1007 00004560     b602          move    *A0(OSIZE),A2,L
         00004570     0140  
    1008 00004580     b404          move    *A0(OFLAGS),A4,W
         00004590     0100  
    1009                    *GANIOF: A1=OIMG, A2=H:W, A4=OFLAGS -> A6=X ANIOFF<<16, A7=Y ANIOFF<<16
    1010 000045a0     0d5f          calla   GANIOF
         000045b0 00000000! 
    1011 000045d0     4466          sub     A3,A6
    1012 000045e0     03a6          neg     A6
    1013 000045f0     b2c0          move    A6,*A0(OXVAL),L
         00004600     0080  
    1014 00004610     44a7          sub     A5,A7
    1015 00004620     03a7          neg     A7
    1016 00004630     b2e0          move    A7,*A0(OYVAL),L
         00004640     00a0  
    1017 00004650     b1c0          move    A14,*A0(OZPOS),W
         00004660     00d0  
    1018 00004670     3eb0          dsj     B0,SetSPoss
    1019 00004680     0960          rets
    1020                    **************************************************************************
    1021                    
    1022                    
    1023                    **************************************************************************
    1024 00004690           UpdHeadV:
    1025                    ; UPDATE HEAD VELOCITY
    1026                    ;Based on velocity of first obj, set velocity of all other objs
    1027 00004690     4d4b          move    A10,A11
    1028                    
    1029                    ;* get VELOCITIES from first obj..
    1030 000046a0     9760          move    *A11+,A0,L
    1031 000046b0     b601          move    *A0(OXVEL),A1,L
         000046c0     0040  
    1032 000046d0     b602          move    *A0(OYVEL),A2,L
         000046e0     0060  
    1033 000046f0     b603          move    *A0(OZVEL),A3,L
         00004700     00e0  
    1034                    
    1035 00004710     af40          movb    *A10(NUMPARTS),A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   25

         00004720     0200  
    1036 00004730     4e00          move    A0,B0
    1037 00004740     1430          dec     B0              ;update the rest of the parts
    1038 00004750           SetVels:
    1039 00004750     9760          move    *A11+,A0,L
    1040 00004760     b220          move    A1,*A0(OXVEL),L
         00004770     0040  
    1041 00004780     b240          move    A2,*A0(OYVEL),L
         00004790     0060  
    1042 000047a0     b260          move    A3,*A0(OZVEL),L
         000047b0     00e0  
    1043 000047c0     3d10          dsj     B0,SetVels
    1044 000047d0     0960          rets
    1045                    **************************************************************************
    1046                    
    1047                    **************************************************************************
    1048 000047e0           UpdBaseV:
    1049                    ; UPDATE BASE VELOCITY
    1050                    ;Based on velocity of first obj, set velocity of all other objs
    1051 000047e0     4d4b          move    A10,A11
    1052                    
    1053                    ;* get VELOCITIES from first obj..
    1054 000047f0     9760          move    *A11+,A0,L
    1055 00004800     b601          move    *A0(OXVEL),A1,L
         00004810     0040  
    1056 00004820     b602          move    *A0(OYVEL),A2,L
         00004830     0060  
    1057 00004840     b603          move    *A0(OZVEL),A3,L
         00004850     00e0  
    1058                    
    1059 00004860     af40          movb    *A10(BASPARTS),A0
         00004870     0208  
    1060 00004880     4e00          move    A0,B0
    1061 00004890     1430          dec     B0              ;update the rest of the parts
    1062 000048a0           SetBVels:
    1063 000048a0     9760          move    *A11+,A0,L
    1064 000048b0     b220          move    A1,*A0(OXVEL),L
         000048c0     0040  
    1065 000048d0     b240          move    A2,*A0(OYVEL),L
         000048e0     0060  
    1066 000048f0     b260          move    A3,*A0(OZVEL),L
         00004900     00e0  
    1067 00004910     3d10          dsj     B0,SetBVels
    1068                    
    1069                            ;* UPDATE VELS OF FINAL BONE OF SPINE
    1070 00004920     b7ab          move    *A13(SPINE),A11,L
         00004930     00c0  
    1071 00004940     afa6          movb    *A13(SPINELEN),A6
         00004950     0188  
    1072 00004960     ca0a          jrz     UpdVX
    1073 00004970     1426          dec     A6
    1074 00004980     24a6          sll     5,A6
    1075 00004990     40cb          add     A6,A11
    1076                            ;*Set VELS of Bottom Bone
    1077 000049a0     876b          move    *A11,A11,L     ;load ptr to final bone
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   26

    1078 000049b0     b22b          move    A1,*A11(OXVEL),L   
         000049c0     0040  
    1079 000049d0     b24b          move    A2,*A11(OYVEL),L   
         000049e0     0060  
    1080 000049f0     b26b          move    A3,*A11(OZVEL),L  
         00004a00     00e0  
    1081                    
    1082 00004a10           UpdVX:
    1083 00004a10     0960          rets
    1084                    **************************************************************************
    1085                    
    1086                    **************************************************************************
    1087 00004a20           UpdSkulV:
    1088                    ; UPDATE SKULL VELOCITY
    1089                    ;Based on velocity of first obj, set velocity of all other objs
    1090 00004a20     4d4b          move    A10,A11
    1091 00004a30     0b0b          addi    SKULL,A11
         00004a40     0060  
    1092                    
    1093                    ;* get VELOCITIES from first obj..
    1094 00004a50     9760          move    *A11+,A0,L
    1095 00004a60     b601          move    *A0(OXVEL),A1,L
         00004a70     0040  
    1096 00004a80     b602          move    *A0(OYVEL),A2,L
         00004a90     0060  
    1097 00004aa0     b603          move    *A0(OZVEL),A3,L
         00004ab0     00e0  
    1098                    
    1099 00004ac0     af40          movb    *A10(SKLPARTS),A0
         00004ad0     0210  
    1100 00004ae0     4e00          move    A0,B0
    1101 00004af0     1430          dec     B0              ;update the rest of the parts
    1102 00004b00           SetSVels:
    1103 00004b00     9760          move    *A11+,A0,L
    1104 00004b10     b220          move    A1,*A0(OXVEL),L
         00004b20     0040  
    1105 00004b30     b240          move    A2,*A0(OYVEL),L
         00004b40     0060  
    1106 00004b50     b260          move    A3,*A0(OZVEL),L
         00004b60     00e0  
    1107 00004b70     3d10          dsj     B0,SetSVels
    1108 00004b80     0960          rets
    1109                    **************************************************************************
    1110                    
    1111                    
    1112                    
    1113                    **************************************************************************
    1114 00004b90           UpdFlips:
    1115                    ; UPDATE HORIZONTAL FLIP FLAG FOR ALL PARTS
    1116                    ;A0 - byte of which images to flip, highest bit is first image
    1117 00004b90     098f          mmtm    SP,A0
         00004ba0     8000  
    1118 00004bb0     2700          sll     24,A0
    1119 00004bc0     4d4b          move    A10,A11
    1120 00004bd0     af48          movb    *A10(NUMPARTS),A8
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   27

         00004be0     0200  
    1121 00004bf0     4f00          move    A8,B0
    1122 00004c00     af41          movb    *A10(FLIPS),A1
         00004c10     0230  
    1123 00004c20     2701          sll     24,A1
    1124 00004c30           SetFlips:
    1125 00004c30     9768          move    *A11+,A8,L
    1126 00004c40     2420          sll     1,A0
    1127 00004c50     c806          jrc     DoFlp
    1128 00004c60     2421          sll     1,A1
    1129 00004c70     c909          jrnc    NxtFlp
    1130 00004c80     0d5f          calla   NOYFLP
         00004c90 00000000! 
    1131 00004cb0     c005          jruc    NxtFlp
    1132 00004cc0           DoFlp:
    1133 00004cc0     2421          sll     1,A1
    1134 00004cd0     c803          jrc     NxtFlp
    1135 00004ce0     0d5f          calla   YFLP
         00004cf0 00000000! 
    1136 00004d10           NxtFlp:
    1137 00004d10     3df0          dsj     B0,SetFlips
    1138 00004d20     09af          mmfm    SP,A0
         00004d30     0001  
    1139 00004d40     ac0a          movb    A0,*A10(FLIPS)
         00004d50     0230  
    1140 00004d60     8748          move    *A10,A8,L
    1141 00004d70     0960          rets
    1142                    **************************************************************************
    1143                    
    1144                    **************************************************************************
    1145 00004d80           StufAnis:
    1146                    ;* Stuff ANIMATION for each piece
    1147                    ;* Stuff Zpos for each piece, based on first piece
    1148                    ;A0 ptr to table of animations
    1149 00004d80     09c7          movi    ANIS,A7
         00004d90     0100  
    1150 00004da0     4147          add     A10,A7
    1151 00004db0     af43          movb    *A10(NUMPARTS),A3
         00004dc0     0200  
    1152 00004dd0     4e60          move    A3,B0
    1153 00004de0           StufAni:
    1154 00004de0     9a07          move    *A0+,*A7+,L
    1155 00004df0     3c50          dsjs    B0,StufAni
    1156                    
    1157 00004e00     1100          addk    8,A0    ;skip first Z offset
    1158 00004e10     4d4b          move    A10,A11
    1159 00004e20     9761          move    *A11+,A1,L
    1160 00004e30     b622          move    *A1(OZVAL),A2,L
         00004e40     00c0  
    1161 00004e50     af43          movb    *A10(NUMPARTS),A3
         00004e60     0200  
    1162 00004e70     4e60          move    A3,B0
    1163 00004e80     1430          dec     B0              ;update the rest of the parts
    1164 00004e90           StufZ:
    1165 00004e90     9761          move    *A11+,A1,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   28

    1166 00004ea0     8e03          movb    *A0,A3
    1167 00004eb0     1100          addk    8,A0
    1168 00004ec0     4043          add     A2,A3
    1169 00004ed0     b261          move    A3,*A1(OZVAL),L
         00004ee0     00c0  
    1170 00004ef0     3cf0          dsjs    B0,StufZ
    1171                    
    1172 00004f00     8e00          movb    *A0,A0
    1173 00004f10     afa1          movb    *A13(FLIPPED),A1
         00004f20     0110  
    1174 00004f30     ca01          jrz     SkFlpSet
    1175 00004f40     03e0          not     A0
    1176 00004f50           SkFlpSet:
    1177 00004f50     0d3f          callr   UpdFlips
         00004f60     ffc2  
    1178 00004f70     0960          rets
    1179                    **************************************************************************
    1180                    
    1181                    
    1182                    **************************************************************************
    1183 00004f80           AniHead:
    1184 00004f80     9720          move    *A9+,A0,L
    1185 00004f90     cb06          jrnz    GotAnim
    1186 00004fa0     b7a9          move    *A13(ANIMPTR),A9,L
         00004fb0     0120  
    1187 00004fc0     5600          clr     A0
    1188 00004fd0     ac0d          movb    A0,*A13(COLSRVC)
         00004fe0     0118  
    1189 00004ff0     c0f8          jruc    AniHead
    1190 00005000           GotAnim:
    1191 00005000     0d3f          callr   StufAnis
         00005010     ffd6  
    1192                    
    1193                    ;* ANIMATE ALL HEAD PIECES
    1194 00005020     4d4b          move    A10,A11
    1195 00005030     09c7          movi    ANIS,A7
         00005040     0100  
    1196 00005050     4147          add     A10,A7
    1197 00005060     af46          movb    *A10(ONLIST),A6
         00005070     0228  
    1198 00005080     56a5          clr     A5      ;new ONLIST
    1199 00005090     2706          sll     24,A6
    1200 000050a0     af40          movb    *A10(INUSE),A0
         000050b0     0220  
    1201 000050c0     4e01          move    A0,B1
    1202 000050d0     2711          sll     24,B1
    1203 000050e0     af40          movb    *A10(NUMPARTS),A0
         000050f0     0200  
    1204 00005100     4e00          move    A0,B0
    1205 00005110           DoAnis:
    1206 00005110     2425          sll     1,A5
    1207 00005120     9768          move    *A11+,A8,L
    1208 00005130     96e1          move    *A7+,A1,L
    1209 00005140     ca15          jrz     NoAni
    1210 00005150     2431          sll     1,B1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   29

    1211 00005160     c914          jrnc    NotActive
    1212                    
    1213 00005170     1025          inc     A5      ;set Bit for new ONLIST
    1214 00005180     b504          move    *A8(OFLAGS),A4,W
         00005190     0100  
    1215                    * ANI: A1=IMAGE PTR, A4=FLAGS, A8=OBJECT STRUCTURE POINTER TO BE UPDATED                                
    1216 000051a0     0d5f          calla   ANI
         000051b0 00000000! 
    1217                            ;*** MAKE SURE PART IS ON LIST
    1218 000051d0     2426          sll     1,A6    ;was part on list
    1219 000051e0     c818          jrc     NxtAni
    1220 000051f0     4d00          move    A8,A0
    1221 00005200     0d5f          calla   INSOBJ
         00005210 00000000! 
    1222 00005230     09e1          movi    ENEMIES,A1
         00005240 00000000! 
    1223 00005260     0d5f          calla   ADDSUPP
         00005270 00000000! 
    1224 00005290     c00d          jruc    NxtAni
    1225                    
    1226 000052a0           NoAni:
    1227 000052a0     2431          sll     1,B1
    1228 000052b0           NotActive:
    1229 000052b0     2426          sll     1,A6    ;was part on list
    1230 000052c0     c90a          jrnc    NxtAni
    1231 000052d0     4d00          move    A8,A0
    1232 000052e0     0d5f          calla   PULLOBJ
         000052f0 00000000! 
    1233 00005310     09e1          movi    ENEMIES,A1
         00005320 00000000! 
    1234 00005340     0d5f          calla   DELSUPP
         00005350 00000000! 
    1235 00005370           NxtAni:
    1236 00005370     0d90          dsj     B0,DoAnis
         00005380     ffd8  
    1237                    
    1238 00005390     1900          movk    8,A0
    1239 000053a0     af41          movb    *A10(NUMPARTS),A1
         000053b0     0200  
    1240 000053c0     4420          sub     A1,A0
    1241 000053d0     6205          sll     A0,A5
    1242 000053e0     acaa          movb    A5,*A10(ONLIST)
         000053f0     0228  
    1243 00005400     8748          move    *A10,A8,L       ;leave ptr to first part in A8
    1244 00005410     9520          move    *A9+,A0,W       ;load sleep time
    1245 00005420     0960          rets
    1246                    **************************************************************************
    1247                    
    1248                    
    1249                    **************************************************************************
    1250                    *MR. BIG BASE COLOR CYCLE
    1251                    *A10=LEVEL OF 1-8
    1252 00005430           BASCC:
    1253 00005430     ad4d          movb    A10,*A13(COLORLVL)
         00005440     0180  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   30

    1254 00005450     09c0          movi    0FFH,A0
         00005460     00ff  
    1255 00005470     ac0d          movb    A0,*A13(OLDCOLOR)
         00005480     0188  
    1256 00005490     09e0          MOVI    basepal,A0
         000054a0 00000000! 
    1257 000054c0     0d5f          CALLA   FINDPAL
         000054d0 00000000! 
    1258 000054f0     ca80          JAEQ    SUCIDE
         00005500 00000000! 
    1259 00005520     4c08          MOVE    A0,A8           ;KEEP PALETTE POSITION
    1260 00005530     2708          SLL     24,A8
    1261 00005540     2e08          SRL     16,A8
    1262 00005550     0b08          ADDI    243,A8          ;ADD IN EYE COLOR VALUE
         00005560     00f3  
    1263                    
    1264 00005570           BAS0LP
    1265 00005570     afaa          movb    *A13(COLORLVL),A10
         00005580     0180  
    1266 00005590     afa1          movb    *A13(OLDCOLOR),A1
         000055a0     0188  
    1267 000055b0     4941          cmp     A10,A1
    1268 000055c0     ca0c          jrz     ColSame
    1269                            ;* change to new color level
    1270 000055d0     09e9          MOVI    BASCTAB,A9
         000055e0 000059b0' 
    1271 00005600     09e1          MOVI    BCCTAB1-BCCTAB0,A1      
         00005610 000001f0  
    1272 00005630     5f41          MPYU    A10,A1
    1273 00005640     4029          ADD     A1,A9
    1274 00005650     952b          MOVE    *A9+,A11,W      ;GET SLEEP TIME
    1275 00005660     bdad          movb    *A13(COLORLVL),*A13(OLDCOLOR)
         00005670     0180  
         00005680     0188  
    1276 00005690           ColSame:
    1277 00005690     09ca          MOVI    17*16,A10
         000056a0     0110  
    1278 000056b0           BAS1LP
    1279 000056b0     4d01          MOVE    A8,A1
    1280 000056c0     19a2          MOVK    13,A2
    1281 000056d0     4d40          MOVE    A10,A0
    1282 000056e0     4120          ADD     A9,A0
    1283 000056f0     0d5f          CALLA   PALSET
         00005700 00000000! 
    1284 00005720     4d60          MOVE    A11,A0
    1285 00005730     0d5f          CALLA   PRCSLP
         00005740 00000000! 
    1286 00005760     160a          SUBK    16,A10
    1287 00005770     cff3          JRNN    BAS1LP
    1288 00005780     c0de          JRUC    BAS0LP
    1289                    *
    1290                    *MR. BIG EYES COLOR CYCLE
    1291                    *
    1292 00005790           EYECC:
    1293 00005790     09e0          MOVI    headpal,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   31

         000057a0 00000000! 
    1294 000057c0     0d5f          CALLA   FINDPAL
         000057d0 00000000! 
    1295 000057f0     ca80          JAEQ    SUCIDE
         00005800 00000000! 
    1296 00005820     4c08          MOVE    A0,A8           ;KEEP PALETTE POSITION
    1297 00005830     2708          SLL     24,A8
    1298 00005840     2e08          SRL     16,A8
    1299 00005850     0b08          ADDI    252,A8          ;ADD IN EYE COLOR VALUE
         00005860     00fc  
    1300 00005870           EYELP0
    1301 00005870     09e9          MOVI    EYECCTB,A9
         00005880 00006b20' 
    1302 000058a0           EYELP1
    1303 000058a0     4d01          MOVE    A8,A1
    1304 000058b0     1882          MOVK    4,A2
    1305 000058c0     4d20          MOVE    A9,A0
    1306 000058d0     0d5f          CALLA   PALSET
         000058e0 00000000! 
    1307 00005900                   SLEEP   3
    1308 00005940     0b09          ADDI    4*16,A9
         00005950     0040  
    1309 00005960     0b69          CMPI    EYECCTBE,A9
         00005970 ffff93df' 
    1310 00005990     c8f0          JRLO    EYELP1
    1311 000059a0     c0ec          JRUC    EYELP0
    1312                    
    1313                    
    1314                    *
    1315                    *MR. BIG BASE COLOR CYCLE TABLE
    1316                    *COLORS 243-255        
    1317 000059b0           BASCTAB:
    1318 000059b0           BCCTAB0
    1319 000059b0     0004          .WORD   4
    1320 000059c0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1321 00005a80     00e0          .WORD   7*32,9*32,12*32,17*32,25*32,31*32
    1322 00005ae0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1323 00005ba0           BCCTAB1
    1324 00005ba0     0004          .WORD   4
    1325 00005bb0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1326 00005c70     0ce0          .WORD   (7*32)+(3*32*32),(9*32)+(5*32*32),(12*32)+(6*32*32)
    1327 00005ca0     2620          .WORD   (17*32)+(9*32*32),(25*32)+(12*32*32),(31*32)+(16*32*32)
    1328 00005cd0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1329 00005d90           BCCTAB2
    1330 00005d90     0003          .WORD   3
    1331 00005da0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1332 00005e60     14e0          .WORD   (7*32)+(5*32*32),(9*32)+(6*32*32),(12*32)+(9*32*32)
    1333 00005e90     3620          .WORD   (17*32)+(13*32*32),(25*32)+(18*32*32),(31*32)+(24*32*32)
    1334 00005ec0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1335 00005f80           BCCTAB3
    1336 00005f80     0003          .WORD   3
    1337 00005f90     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1338 00006050     18c0          .WORD   (6*32)+(6*32*32),(7*32)+(8*32*32),(10*32)+(11*32*32)
    1339 00006080     3de0          .WORD   (15*32)+(15*32*32),(21*32)+(22*32*32),(27*32)+(28*32*32)
    1340 000060b0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   32

    1341 00006170           BCCTAB4
    1342 00006170     0002          .WORD   2
    1343 00006180     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1344 00006240     1ca0          .WORD   (5*32)+(7*32*32),(6*32)+(9*32*32),(9*32)+(12*32*32)
    1345 00006270     45a0          .WORD   (13*32)+(17*32*32),(18*32)+(25*32*32),(24*32)+(31*32*32)
    1346 000062a0     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1347 00006360           BCCTAB5
    1348 00006360     0002          .WORD   2
    1349 00006370     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1350 00006430     1c60          .WORD   (3*32)+(7*32*32),(5*32)+(9*32*32),(6*32)+(12*32*32)
    1351 00006460     4520          .WORD   (9*32)+(17*32*32),(12*32)+(25*32*32),(16*32)+(31*32*32)
    1352 00006490     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1353 00006550           BCCTAB6
    1354 00006550     0001          .WORD   1
    1355 00006560     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1356 00006620     1c40          .WORD   (2*32)+(7*32*32),(3*32)+(9*32*32),(4*32)+(12*32*32)
    1357 00006650     44a0          .WORD   (5*32)+(17*32*32),(6*32)+(25*32*32),(8*32)+(31*32*32)
    1358 00006680     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1359 00006740           BCCTAB7
    1360 00006740     0001          .WORD   1
    1361 00006750     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1362 00006810     2000          .WORD   8*32*32,13*32*32,19*32*32,25*32*32,31*32*32,31*32*32
    1363 00006870     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1364 00006930           BCCTAB8
    1365 00006930     000f          .WORD   15
    1366 00006940     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1367 00006a00     0000          .WORD   0,0,0,0,0,0
    1368 00006a60     0000          .WORD   0,0,0,0,0,0,0,0,0,0,0,0
    1369                    
    1370                    
    1371                    *
    1372                    *EYE COLOR CYCLE TABLE
    1373                    *
    1374 00006b20           EYECCTB
    1375 00006b20     7c00          .WORD   (31*32*32)+(00*32),(31*32*32)+(14*32)
    1376 00006b40     7ea0          .WORD   (31*32*32)+(21*32),(31*32*32)+(31*32)
    1377                    
    1378 00006b60     7dc0          .WORD   (31*32*32)+(14*32),(31*32*32)+(21*32)
    1379 00006b80     7fe0          .WORD   (31*32*32)+(31*32),(31*32*32)+(00*32)
    1380                    
    1381 00006ba0     7ea0          .WORD   (31*32*32)+(21*32),(31*32*32)+(31*32)
    1382 00006bc0     7c00          .WORD   (31*32*32)+(00*32),(31*32*32)+(14*32)
    1383                    
    1384 00006be0     7fe0          .WORD   (31*32*32)+(31*32),(31*32*32)+(00*32)
    1385 00006c00     7dc0          .WORD   (31*32*32)+(14*32),(31*32*32)+(21*32)
    1386 00006c20           EYECCTBE
    1387                    
    1388                    
    1389                    *
    1390                    *SKULL EYES COLOR CYCLE
    1391                    *
    1392 00006c20           SKEYE:
    1393 00006c20     09e0          MOVI    skelpal,A0
         00006c30 00000000! 
    1394 00006c50     0d5f          CALLA   FINDPAL
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   33

         00006c60 00000000! 
    1395 00006c80     ca80          JAEQ    SUCIDE
         00006c90 00000000! 
    1396 00006cb0     4c08          MOVE    A0,A8           ;KEEP PALETTE POSITION
    1397 00006cc0     2708          SLL     24,A8
    1398 00006cd0     2e08          SRL     16,A8
    1399 00006ce0     0b08          ADDI    248,A8          ;ADD IN EYE COLOR VALUE
         00006cf0     00f8  
    1400 00006d00           SKEYEL0
    1401 00006d00     09e9          MOVI    SKEYERED,A9
         00006d10 00006e40' 
    1402 00006d30           SKEYEL1
    1403 00006d30     4d01          MOVE    A8,A1
    1404 00006d40     18e2          MOVK    7,A2
    1405 00006d50     4d20          MOVE    A9,A0
    1406 00006d60     0d5f          CALLA   PALSET
         00006d70 00000000! 
    1407 00006d90     4d40          move    A10,A0
    1408 00006da0     0d5f          calla   PRCSLP
         00006db0 00000000! 
    1409 00006dd0     0b09          ADDI    7*16,A9
         00006de0     0070  
    1410 00006df0     0b69          CMPI    SKEYERX,A9
         00006e00 ffff8abf' 
    1411 00006e20     c8f0          JRLO    SKEYEL1
    1412 00006e30     c0ec          JRUC    SKEYEL0
    1413 00006e40           SKEYERED
    1414                    *red
    1415 00006e40     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1416 00006e50     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1417 00006e60     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1418 00006e70     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1419 00006e80     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1420 00006e90     6c00        .word   ( 27 *32*32)+(  0 *32)+(  0 )       ; color 253
    1421 00006ea0     7da0        .word   ( 31 *32*32)+( 13 *32)+(  0 )       ; color 254
    1422                    
    1423 00006eb0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1424 00006ec0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1425 00006ed0     6800        .word   ( 26 *32*32)+(  0 *32)+(  0 )       ; color 250
    1426 00006ee0     7c40        .word   ( 31 *32*32)+(  2 *32)+(  0 )       ; color 251
    1427 00006ef0     7d80        .word   ( 31 *32*32)+( 12 *32)+(  0 )       ; color 252
    1428 00006f00     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1429 00006f10     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1430                    
    1431 00006f20     5000        .word   ( 20 *32*32)+(  0 *32)+(  0 )       ; color 248
    1432 00006f30     7c00        .word   ( 31 *32*32)+(  0 *32)+(  0 )       ; color 249
    1433 00006f40     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1434 00006f50     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1435 00006f60     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1436 00006f70     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1437 00006f80     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1438                    
    1439 00006f90     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1440 00006fa0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1441 00006fb0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   34

    1442 00006fc0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1443 00006fd0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1444 00006fe0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1445 00006ff0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1446                    
    1447                    *purple
    1448                    
    1449                    
    1450 00007000     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 248
    1451 00007010     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 249
    1452 00007020     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 250
    1453 00007030     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 251
    1454 00007040     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 252
    1455 00007050     6c1b        .word   ( 27 *32*32)+(  0 *32)+(  27)       ; color 253
    1456 00007060     7dbf        .word   ( 31 *32*32)+( 13 *32)+(  31)       ; color 254
    1457                    
    1458 00007070     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 248
    1459 00007080     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 249
    1460 00007090     681a        .word   ( 26 *32*32)+(  0 *32)+(  26 )      ; color 250
    1461 000070a0     7c5f        .word   ( 31 *32*32)+(  2 *32)+(  31 )      ; color 251
    1462 000070b0     7d9f        .word   ( 31 *32*32)+( 12 *32)+(  31 )      ; color 252
    1463 000070c0     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 253
    1464 000070d0     18c6        .word   (  6 *32*32)+(  6 *32)+(  6 )       ; color 254
    1465                    
    1466 000070e0     5014        .word   ( 20 *32*32)+(  0 *32)+( 20 )       ; color 248
    1467 000070f0     7c1f        .word   ( 31 *32*32)+(  0 *32)+(  31)       ; color 249
    1468 00007100     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1469 00007110     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1470 00007120     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1471 00007130     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1472 00007140     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1473                    
    1474 00007150     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1475 00007160     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1476 00007170     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1477 00007180     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1478 00007190     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1479 000071a0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1480 000071b0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1481                    *blue
    1482 000071c0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1483 000071d0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1484 000071e0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1485 000071f0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1486 00007200     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1487 00007210     001b        .word   ( 0 *32*32)+(  0 *32)+(  27 )       ; color 253
    1488 00007220     01bf        .word   ( 0 *32*32)+( 13 *32)+(  31 )       ; color 254
    1489                    
    1490 00007230     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1491 00007240     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1492 00007250     001a        .word   ( 0 *32*32)+(  0 *32)+(  26 )       ; color 250
    1493 00007260     005f        .word   ( 0 *32*32)+(  2 *32)+(  31 )       ; color 251
    1494 00007270     019f        .word   ( 0 *32*32)+( 12 *32)+(  31 )       ; color 252
    1495 00007280     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1496 00007290     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   35

    1497                    
    1498 000072a0     0014        .word   ( 0 *32*32)+(  0 *32)+(  20 )       ; color 248
    1499 000072b0     001f        .word   ( 0 *32*32)+(  0 *32)+(  31 )       ; color 249
    1500 000072c0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1501 000072d0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1502 000072e0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1503 000072f0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1504 00007300     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1505                    
    1506 00007310     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1507 00007320     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1508 00007330     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1509 00007340     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1510 00007350     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1511 00007360     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1512 00007370     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1513                    
    1514                    
    1515                    *white
    1516 00007380     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1517 00007390     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1518 000073a0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1519 000073b0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1520 000073c0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1521 000073d0     6f7b        .word   ( 27 *32*32)+(  27*32)+(  27 )       ; color 253
    1522 000073e0     7fff        .word   ( 31 *32*32)+( 31 *32)+(  31 )       ; color 254
    1523                    
    1524 000073f0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1525 00007400     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1526 00007410     6b5a        .word   ( 26 *32*32)+(  26 *32)+(  26 )       ; color 250
    1527 00007420     7fff        .word   ( 31 *32*32)+(  31 *32)+(  31 )       ; color 251
    1528 00007430     7fff        .word   ( 31 *32*32)+( 31 *32)+(  31 )       ; color 252
    1529 00007440     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1530 00007450     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1531                    
    1532 00007460     5294        .word   ( 20 *32*32)+(  20 *32)+( 20 )       ; color 248
    1533 00007470     7fff        .word   ( 31 *32*32)+(  31 *32)+(  31 )       ; color 249
    1534 00007480     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1535 00007490     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1536 000074a0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1537 000074b0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1538 000074c0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1539                    
    1540 000074d0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 248
    1541 000074e0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 249
    1542 000074f0     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 250
    1543 00007500     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 251
    1544 00007510     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 252
    1545 00007520     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 253
    1546 00007530     18c7        .word   (  6 *32*32)+(  6 *32)+(  7 )       ; color 254
    1547                    
    1548                    
    1549                    
    1550 00007540           SKEYERX
    1551                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   36

    1552                    
    1553                    
    1554                    **************************************************************************
    1555 00007540           HEADCOLL:
    1556 00007540     0b10          .WORD   B1OID|BULLETID
    1557 00007550 00009210'         .LONG   ClHedBul
    1558 00007570     0b14          .WORD   B1OID|ROCKETID
    1559 00007580 00009800'         .LONG   ClHedRck
    1560 000075a0     0b20          .WORD   B2OID|BULLETID
    1561 000075b0 00009210'         .LONG   ClHedBul
    1562 000075d0     0b24          .WORD   B2OID|ROCKETID
    1563 000075e0 00009800'         .LONG   ClHedRck
    1564 00007600     0000          .WORD   0
    1565 00007610 00000000!         .LONG   DUMRTSG
    1566                    **************************************************************************
    1567                    
    1568                    **************************************************************************
    1569 00007630           TUNGCOLL:
    1570 00007630     0b10          .WORD   B1OID|BULLETID
    1571 00007640 000095e0'         .LONG   ClTngBul
    1572 00007660     0b14          .WORD   B1OID|ROCKETID
    1573 00007670 00009ca0'         .LONG   ClTngRck
    1574 00007690     0b20          .WORD   B2OID|BULLETID
    1575 000076a0 000095e0'         .LONG   ClTngBul
    1576 000076c0     0b24          .WORD   B2OID|ROCKETID
    1577 000076d0 00009ca0'         .LONG   ClTngRck
    1578 000076f0     0000          .WORD   0
    1579 00007700 00000000!         .LONG   DUMRTSG
    1580                    **************************************************************************
    1581                    
    1582                    **************************************************************************
    1583 00007720           BASECOLL:
    1584 00007720     0b10          .WORD   B1OID|BULLETID
    1585 00007730 00009490'         .LONG   ClBasBul
    1586 00007750     0b14          .WORD   B1OID|ROCKETID
    1587 00007760 00009b40'         .LONG   ClBasRck
    1588 00007780     0b20          .WORD   B2OID|BULLETID
    1589 00007790 00009490'         .LONG   ClBasBul
    1590 000077b0     0b24          .WORD   B2OID|ROCKETID
    1591 000077c0 00009b40'         .LONG   ClBasRck
    1592 000077e0     1000          .WORD   P1OID
    1593 000077f0 00009ec0'         .LONG   ClBasPly
    1594 00007810     2000          .WORD   P2OID
    1595 00007820 00009ec0'         .LONG   ClBasPly
    1596 00007840     0000          .WORD   0
    1597 00007850 00000000!         .LONG   DUMRTSG
    1598                    **************************************************************************
    1599                    
    1600                    **************************************************************************
    1601 00007870           Injure:
    1602                    ;A0-amt to decrement from HEAD'S health if possible...
    1603                    ; will not blow off glasses, eyes or kill
    1604 00007870     098f          mmtm    SP,A1,A2,A5
         00007880     6400  
    1605 00007890     b4e2          move    *A7(HEALTH),A2,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   37

         000078a0     0100  
    1606 000078b0     ca2f          jrz     SkDecH
    1607 000078c0     4c45          move    A2,A5
    1608 000078d0     aee1          movb    *A7(HEDSTATE),A1
         000078e0     0180  
    1609 000078f0     0b41          cmpi    GLASSES,A1      ;If glasses still on...
         00007900     fffe  
    1610 00007910     ca07          jreq    HvGlas0
    1611 00007920     0b41          cmpi    FIREEYES,A1     ;If eyballs still on...
         00007930     fffd  
    1612 00007940     ca0b          jreq    HvEyes0
    1613 00007950     4402          sub     A0,A2
    1614 00007960     c10f          jrp     GotHlth0
    1615 00007970     5642          clr     A2
    1616 00007980     c00d          jruc    GotHlth0
    1617 00007990           HvGlas0:
    1618 00007990     4402          sub     A0,A2
    1619 000079a0     0b42          cmpi    192,A2
         000079b0     ff3f  
    1620 000079c0     c509          jrge    GotHlth0
    1621 000079d0     09c2          movi    192,A2
         000079e0     00c0  
    1622 000079f0     c006          jruc    GotHlth0
    1623 00007a00           HvEyes0:
    1624 00007a00     4402          sub     A0,A2
    1625 00007a10     0b42          cmpi    32,A2
         00007a20     ffdf  
    1626 00007a30     c502          jrge    GotHlth0
    1627 00007a40     09c2          movi    32,A2
         00007a50     0020  
    1628                    ;       jruc    GotHlth0
    1629                    
    1630 00007a60           GotHlth0:
    1631 00007a60     b047          move    A2,*A7(HEALTH),W
         00007a70     0100  
    1632                    
    1633                            ;* SET COLOR CYCLE LEVEL OF BASE
    1634 00007a80     2f62          srl     5,A2
    1635 00007a90     2f65          srl     5,A5
    1636 00007aa0     4845          cmp     A2,A5
    1637 00007ab0     ca0f          jreq    NoCC
    1638 00007ac0     18e5          movk    7,A5
    1639 00007ad0     4445          sub     A2,A5
    1640 00007ae0                   NOMATCHP        BASCCPID,0FFFFH,NoCC
    1641 00007b90     aca0          movb    A5,*A0(COLORLVL)
         00007ba0     0180  
    1642 00007bb0           NoCC:
    1643 00007bb0           SkDecH:
    1644 00007bb0     09af          mmfm    SP,A1,A2,A5
         00007bc0     0026  
    1645 00007bd0     0960          rets
    1646                    **************************************************************************
    1647                    
    1648                    **************************************************************************
    1649 00007be0           Injure1:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   38

    1650                    ;A0-amt to decrement from HEAD'S health if possible...
    1651                    ; will blow off glasses, eyes or kill
    1652 00007be0     098f          mmtm    SP,A1,A2,A5
         00007bf0     6400  
    1653 00007c00     b4e2          move    *A7(HEALTH),A2,W
         00007c10     0100  
    1654 00007c20     4c45          move    A2,A5
    1655 00007c30     aee1          movb    *A7(HEDSTATE),A1
         00007c40     0180  
    1656 00007c50     0b41          cmpi    GLASSES,A1      ;If glasses still on...
         00007c60     fffe  
    1657 00007c70     ca07          jreq    HvGlas1
    1658 00007c80     0b41          cmpi    FIREEYES,A1     ;If eyballs still on...
         00007c90     fffd  
    1659 00007ca0     ca00          jreq    HvEyes1
         00007cb0     008d  
    1660 00007cc0     4402          sub     A0,A2
    1661 00007cd0     c000          jruc    GotHlth1
         00007ce0     00df  
    1662 00007cf0           HvGlas1:
    1663 00007cf0     b701          move    *A8(OXVEL),A1,L
         00007d00     0040  
    1664 00007d10     ce06          jrn     BlFrmRgt
    1665                            ;* BULLET IS COMING FROM LEFT
    1666 00007d20     b483          move    *A4(OFLAGS),A3,W
         00007d30     0100  
    1667 00007d40     1f63          btst    B_FLIPH,A3
    1668 00007d50     cb00          jrnz    NoHtGlas
         00007d60     00f3  
    1669 00007d70     c005          jruc    CkGlsHt
    1670 00007d80           BlFrmRgt:
    1671                            ;* BULLET IS COMING FROM RIGHT
    1672 00007d80     b483          move    *A4(OFLAGS),A3,W
         00007d90     0100  
    1673 00007da0     1f63          btst    B_FLIPH,A3
    1674 00007db0     ca00          jrz     NoHtGlas
         00007dc0     00ed  
    1675                    ;       jruc    CkGlsHt
    1676                    
    1677 00007dd0           CkGlsHt:
    1678                            ;* did rocket hit glasses?
    1679 00007dd0     b483          move    *A4(OZPOS),A3,W 
         00007de0     00d0  
    1680 00007df0     b501          move    *A8(OZPOS),A1,W
         00007e00     00d0  
    1681 00007e10     4423          sub     A1,A3
    1682 00007e20     0d5f          calla   DFRMGRND                ;A8 must pt to rock obj
         00007e30 00000000! 
    1683 00007e50     4061          add     A3,A1
    1684 00007e60     0b41          cmpi    052H,A1
         00007e70     ffad  
    1685 00007e80     c400          jrlt    NoHtGlas
         00007e90     00e0  
    1686 00007ea0     0b41          cmpi    075H,A1
         00007eb0     ff8a  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   39

    1687 00007ec0     c700          jrgt    NoHtGlas
         00007ed0     00dc  
    1688                    
    1689 00007ee0     0b40          cmpi    2,A0
         00007ef0     fffd  
    1690 00007f00     c709          jrgt    RckGls
    1691                    
    1692 00007f10     aee1          movb    *A7(GLASSCTR),A1
         00007f20     01d8  
    1693 00007f30     4401          sub     A0,A1
    1694 00007f40     ca05          jrz     RckGls
    1695 00007f50     ce04          jrn     RckGls
    1696 00007f60     ac27          movb    A1,*A7(GLASSCTR)
         00007f70     01d8  
    1697 00007f80     c000          jruc    NoHtGlas
         00007f90     00d0  
    1698                    
    1699 00007fa0           RckGls:
    1700                            ;**** REMOVE THE GLASSES ****
    1701 00007fa0                   PUSH    A0
    1702 00007fb0     4ce0          move    A7,A0
    1703 00007fc0     0d5f          calla   GETA10
         00007fd0 00000000! 
    1704 00007ff0     09e0          movi    UDIE1SND,A0
         00008000 00000520' 
    1705 00008020     0d5f          calla   ONESND
         00008030 00000000! 
    1706                    
    1707 00008050     4cc0          move    A6,A0
    1708 00008060     0d5f          calla   BulToDat
         00008070 00000000! 
    1709 00008090     4c02          move    A0,A2
    1710 000080a0     09e1          movi    025000H,A1
         000080b0 00025000  
    1711 000080d0     0d5f          calla   SCORE
         000080e0 00000000! 
    1712 00008100     0d5f          calla   PUT25K
         00008110 00000000! 
    1713                    
    1714                            ;* SEND GLASSES FLYING
    1715 00008130     b740          move    *A10(GLAS),A0,L
         00008140     00a0  
    1716 00008150     b601          move    *A0(OIMG),A1,L
         00008160     0180  
    1717 00008170     09ee          movi    CHUNKINI,A14
         00008180 00000000! 
    1718 000081a0     1863          movk    3,A3
    1719 000081b0     0d3f          callr   MkHdChnk
         000081c0     04fc  
    1720 000081d0     ca00          jrz     NoHat
         000081e0     02b8  
    1721 000081f0     4d0e          move    A8,A14
    1722 00008200     4c08          move    A0,A8
    1723                    
    1724 00008210                   PUSH    A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   40

    1725 00008220                   CREATE  CHUNKPID,FLYGLAS
    1726 000082a0                   PULL    A7
    1727 000082c0     ca10          jrz     DelGlas
    1728                    
    1729 000082d0     b7c0          move    *A14(OXVEL),A0,L
         000082e0     0040  
    1730 000082f0     2be0          sra     1,A0
    1731 00008300     b208          move    A0,*A8(OXVEL),L
         00008310     0040  
    1732 00008320     09e0          movi    -030000H,A0     ;YVEL
         00008330 fffd0000  
    1733 00008350     b208          move    A0,*A8(OYVEL),L
         00008360     0060  
    1734 00008370     09e0          movi    010000H,A0
         00008380 00010000  
    1735 000083a0     b208          move    A0,*A8(OZVEL),L
         000083b0     00e0  
    1736 000083c0     c007          jruc    GLASFLEW
    1737 000083d0           DelGlas:
    1738 000083d0     4d00          move    A8,A0
    1739 000083e0     0d5f          calla   DELPAL
         000083f0 00000000! 
    1740 00008410     0d5f          calla   DELOBJ
         00008420 00000000! 
    1741 00008440           GLASFLEW:
    1742 00008440     4dc8          move    A14,A8
    1743                    
    1744 00008450                   PULL    A0
    1745 00008470     af41          movb    *A10(INUSE),A1  ;all parts are active
         00008480     0220  
    1746 00008490     0b81          andi    0FBH,A1         ;turn glasses off
         000084a0 ffffff04  
    1747 000084c0     ac2a          movb    A1,*A10(INUSE)
         000084d0     0220  
    1748                    
    1749 000084e0     09c1          movi    FIREEYES,A1     ;Turn eyballs on.
         000084f0     0002  
    1750 00008500     ac27          movb    A1,*A7(HEDSTATE)
         00008510     0180  
    1751                    
    1752 00008520     4402          sub     A0,A2
    1753 00008530     0b42          cmpi    192,A2
         00008540     ff3f  
    1754 00008550     c458          jrlt    GotHlth1
    1755 00008560     09c2          movi    191,A2
         00008570     00bf  
    1756 00008580     c055          jruc    GotHlth1
    1757 00008590           HvEyes1:
    1758 00008590     b701          move    *A8(OXVEL),A1,L
         000085a0     0040  
    1759 000085b0     ce05          jrn     BlFrmRgt1
    1760                            ;* BULLET IS COMING FROM LEFT
    1761 000085c0     b483          move    *A4(OFLAGS),A3,W
         000085d0     0100  
    1762 000085e0     1f63          btst    B_FLIPH,A3
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   41

    1763 000085f0     cb6a          jrnz    NoHtEyes
    1764 00008600     c004          jruc    CkEyeHt
    1765 00008610           BlFrmRgt1:
    1766                            ;* BULLET IS COMING FROM RIGHT
    1767 00008610     b483          move    *A4(OFLAGS),A3,W
         00008620     0100  
    1768 00008630     1f63          btst    B_FLIPH,A3
    1769 00008640     ca65          jrz     NoHtEyes
    1770                    ;       jruc    CkEyeHt
    1771                    
    1772 00008650           CkEyeHt:
    1773                            ;* did rocket hit eyes?
    1774 00008650     b483          move    *A4(OZPOS),A3,W 
         00008660     00d0  
    1775 00008670     b501          move    *A8(OZPOS),A1,W
         00008680     00d0  
    1776 00008690     4423          sub     A1,A3
    1777 000086a0     0d5f          calla   DFRMGRND                ;A8 must pt to rock obj
         000086b0 00000000! 
    1778 000086d0     4061          add     A3,A1
    1779 000086e0     0b41          cmpi    059H,A1
         000086f0     ffa6  
    1780 00008700     c459          jrlt    NoHtEyes
    1781 00008710     0b41          cmpi    071H,A1
         00008720     ff8e  
    1782 00008730     c756          jrgt    NoHtEyes
    1783                    
    1784 00008740     0b40          cmpi    2,A0
         00008750     fffd  
    1785 00008760     c708          jrgt    RckEye
    1786                    
    1787 00008770     aee1          movb    *A7(EYECTR),A1
         00008780     01d0  
    1788 00008790     4401          sub     A0,A1
    1789 000087a0     ca04          jrz     RckEye
    1790 000087b0     ce03          jrn     RckEye
    1791 000087c0     ac27          movb    A1,*A7(EYECTR)
         000087d0     01d0  
    1792 000087e0     c04b          jruc    NoHtEyes
    1793                    
    1794 000087f0           RckEye:
    1795                            ;**** REMOVE THE EYES ****
    1796 000087f0                   PUSH    A0
    1797 00008800                   NOMATCHP        EYECCPID,0FFFFH,NoECC
    1798 000088b0     0d5f          calla   KILL
         000088c0 00000000! 
    1799 000088e0           NoECC:
    1800 000088e0     09e0          movi    UDIE2SND,A0
         000088f0 00000560' 
    1801 00008910     0d5f          calla   ONESND
         00008920 00000000! 
    1802                    
    1803 00008940     4cc0          move    A6,A0
    1804 00008950     0d5f          calla   BulToDat
         00008960 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   42

    1805 00008980     4c02          move    A0,A2
    1806 00008990     09e1          movi    025000H,A1
         000089a0 00025000  
    1807 000089c0     0d5f          calla   SCORE
         000089d0 00000000! 
    1808 000089f0     0d5f          calla   PUT25K
         00008a00 00000000! 
    1809                    
    1810 00008a20                   PULL    A0
    1811                    
    1812 00008a40     09c1          movi    TUNGER,A1       ;Turn tung on.
         00008a50     0003  
    1813 00008a60     ac27          movb    A1,*A7(HEDSTATE)
         00008a70     0180  
    1814 00008a80     4402          sub     A0,A2
    1815 00008a90     0b42          cmpi    64,A2
         00008aa0     ffbf  
    1816 00008ab0     c402          jrlt    GotHlth1
    1817 00008ac0     09c2          movi    63,A2
         00008ad0     003f  
    1818                    ;       jruc    GotHlth1
    1819                    
    1820 00008ae0           GotHlth1:
    1821 00008ae0     b047          move    A2,*A7(HEALTH),W
         00008af0     0100  
    1822 00008b00     4c42          move    A2,A2
    1823 00008b10     c101          jrp     HlvlOk
    1824 00008b20     5642          clr     A2
    1825 00008b30           HlvlOk:
    1826                    
    1827                            ;* SET COLOR CYCLE LEVEL OF BASE
    1828 00008b30     2f62          srl     5,A2
    1829 00008b40     2f65          srl     5,A5
    1830 00008b50     4845          cmp     A2,A5
    1831 00008b60     ca00          jreq    NoCC
         00008b70     ff03  
    1832 00008b80     18e5          movk    7,A5
    1833 00008b90     4445          sub     A2,A5
    1834 00008ba0                   NOMATCHP        BASCCPID,0FFFFH,NoCC1
    1835 00008c50     aca0          movb    A5,*A0(COLORLVL)
         00008c60     0180  
    1836 00008c70           NoCC1:
    1837 00008c70           Injure1X:
    1838 00008c70     09af          mmfm    SP,A1,A2,A5
         00008c80     0026  
    1839 00008c90     0960          rets
    1840                    
    1841 00008ca0           NoHtGlas:
    1842 00008ca0           NoHtEyes:
    1843 00008ca0     0d3f          callr   Injure
         00008cb0     febb  
    1844 00008cc0     c0fa          jruc    Injure1X
    1845                    **************************************************************************
    1846                    
    1847                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   43

    1848 00008cd0           FLYGLAS:
    1849 00008cd0     b700          move    *A8(OYVEL),A0,L
         00008ce0     0060  
    1850 00008cf0     0b20          addi    08000H,A0
         00008d00 00008000  
    1851 00008d20     b208          move    A0,*A8(OYVEL),L
         00008d30     0060  
    1852 00008d40                   SLEEP   3
    1853 00008d80     0d5f          calla   DFRMGRND
         00008d90 00000000! 
    1854 00008db0     0b41          cmpi    5,A1
         00008dc0     fffa  
    1855 00008dd0     c7ef          jrgt    FLYGLAS
    1856                    
    1857 00008de0     0d5f          calla   ClrVel
         00008df0 00000000! 
    1858 00008e10                   SLEEP   10
    1859 00008e50     09e9          movi    [1,1],A9
         00008e60 00010001  
    1860 00008e80                   jsrp    OSINK
    1861 00008ef0     4d00          move    A8,A0
    1862 00008f00     0d5f          calla   DELPAL
         00008f10 00000000! 
    1863 00008f30     0d5f          calla   DELOBJ
         00008f40 00000000! 
    1864 00008f60                   DIE
    1865                    **************************************************************************
    1866                    
    1867                    
    1868                    **************************************************************************
    1869 00008f90           DrivBack:
    1870                    ;A0 - Amt to drive back
    1871                    ;A7 - ptr to head proc
    1872                    ;A6 - ptr to killers obj
    1873                    
    1874 00008f90     b4c1          move    *A6(OXVEL+16),A1,W
         00008fa0     0050  
    1875 00008fb0     cf01          jrnn    SkNgBack
    1876 00008fc0     03a0          neg     A0
    1877 00008fd0           SkNgBack:
    1878 00008fd0     4c05          move    A0,A5
    1879                            
    1880 00008fe0     4ce0          move    A7,A0
    1881 00008ff0     0d5f          calla   GETA10
         00009000 00000000! 
    1882 00009020     8748          move    *A10,A8,L
    1883                    
    1884 00009030     2045          sla     2,A5
    1885 00009040     b501          move    *A8(OXPOS),A1,W
         00009050     0090  
    1886 00009060     40a1          add     A5,A1
    1887 00009070     b028          move    A1,*A8(OXPOS),W
         00009080     0090  
    1888                    
    1889 00009090     07e0          movb    @RAND,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   44

         000090a0 00000000! 
    1890 000090c0     ce01          jrn     SkNgZoff
    1891 000090d0     03a5          neg     A5
    1892 000090e0           SkNgZoff:
    1893 000090e0     2bc5          sra     2,A5
    1894                    
    1895 000090f0     af44          movb    *A10(NUMPARTS),A4
         00009100     0200  
    1896 00009110     4d4b          move    A10,A11
    1897 00009120           ZStLp:
    1898 00009120     9768          move    *A11+,A8,L
    1899 00009130     b501          move    *A8(OZPOS),A1,W
         00009140     00d0  
    1900 00009150     40a1          add     A5,A1
    1901 00009160     b028          move    A1,*A8(OZPOS),W
         00009170     00d0  
    1902 00009180     b501          move    *A8(OYPOS),A1,W
         00009190     00b0  
    1903 000091a0     40a1          add     A5,A1
    1904 000091b0     b028          move    A1,*A8(OYPOS),W
         000091c0     00b0  
    1905 000091d0     3d84          dsjs    A4,ZStLp
    1906                    
    1907 000091e0     0d3f          callr   UpdHeadP
         000091f0     faa6  
    1908 00009200     0960          rets
    1909                    **************************************************************************
    1910                    
    1911                    **************************************************************************
    1912 00009210           ClHedBul:
    1913 00009210     4d06          move    A8,A6                   ;KILLERS OBJ
    1914 00009220     4c04          move    A0,A4                   ;MB OBJ
    1915 00009230     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009240     01f0  
    1916                    
    1917 00009250     09e0          movi    HedBlSND,A0
         00009260 00000040' 
    1918 00009280     0d5f          calla   ONESND
         00009290 00000000! 
    1919                    
    1920 000092b0     aee0          movb    *A7(COLSRVC),A0
         000092c0     0118  
    1921 000092d0     cb10          jrnz    SkBrec
    1922                            
    1923 000092e0     aee0          movb    *A7(DIR),A0
         000092f0     00f8  
    1924 00009300     0b40          cmpi    4,A0
         00009310     fffb  
    1925 00009320     c404          jrlt    RecFlp
    1926 00009330     09e9          movi    BRECOIL,A9
         00009340 00000000! 
    1927 00009360     c003          jruc    GotRcFr
    1928 00009370           RecFlp:
    1929 00009370     09e9          movi    BRECOILF,A9
         00009380 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   45

    1930 000093a0           GotRcFr:
    1931 000093a0     4ce0          move    A7,A0
    1932 000093b0     0d5f          calla   PUTA9
         000093c0 00000000! 
    1933 000093e0           SkBrec:
    1934 000093e0     1820          movk    1,A0
    1935 000093f0     0d3f          callr   Injure1
         00009400     fe7d  
    1936 00009410     b4e0          move    *A7(HEALTH),A0,W
         00009420     0100  
    1937 00009430     ce5a          jrn     BlowUp
    1938                    
    1939 00009440     09c0          movi    1,A0
         00009450     0001  
    1940 00009460     0d3f          callr   DrivBack
         00009470     ffb1  
    1941                    
    1942 00009480     0960          rets
    1943                    **************************************************************************
    1944                    
    1945                    **************************************************************************
    1946 00009490           ClBasBul:
    1947 00009490     4d06          move    A8,A6                   ;KILLERS OBJ
    1948 000094a0     4c04          move    A0,A4                   ;MB OBJ
    1949 000094b0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         000094c0     01f0  
    1950                    
    1951 000094d0     09e0          movi    BasBSND,A0
         000094e0 000005e0' 
    1952 00009500     0d5f          calla   ONESND
         00009510 00000000! 
    1953                    
    1954 00009530     1820          movk    1,A0
    1955 00009540     0d3f          callr   Injure1
         00009550     fe68  
    1956 00009560     b4e0          move    *A7(HEALTH),A0,W
         00009570     0100  
    1957 00009580     ce45          jrn     BlowUp
    1958                    
    1959 00009590     09c0          movi    2,A0
         000095a0     0002  
    1960 000095b0     0d3f          callr   DrivBack
         000095c0     ff9c  
    1961                    
    1962 000095d0     0960          rets
    1963                    **************************************************************************
    1964                    
    1965                    **************************************************************************
    1966 000095e0           ClTngBul:
    1967 000095e0     4d06          move    A8,A6                   ;KILLERS OBJ
    1968 000095f0     4c04          move    A0,A4                   ;MB OBJ
    1969 00009600     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009610     01f0  
    1970 00009620     1820          movk    1,A0
    1971 00009630     ac07          movb    A0,*A7(COLSRVC)
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   46

         00009640     0118  
    1972                    
    1973 00009650     aee0          movb    *A7(DIR),A0
         00009660     00f8  
    1974 00009670     0b40          cmpi    4,A0
         00009680     fffb  
    1975 00009690     c404          jrlt    RecFlp2
    1976 000096a0     09e9          movi    TUNGFLEX,A9
         000096b0 00000000! 
    1977 000096d0     c003          jruc    GotRcFr2
    1978 000096e0           RecFlp2:
    1979 000096e0     09e9          movi    TUNGFLXF,A9
         000096f0 00000000! 
    1980 00009710           GotRcFr2:
    1981 00009710     4ce0          move    A7,A0
    1982 00009720     0d5f          calla   PUTA9
         00009730 00000000! 
    1983                    
    1984 00009750     1900          movk    8,A0
    1985 00009760     0d3f          callr   Injure1
         00009770     fe46  
    1986 00009780     b4e0          move    *A7(HEALTH),A0,W
         00009790     0100  
    1987 000097a0     ce23          jrn     BlowUp
    1988                    
    1989 000097b0     09c0          movi    3,A0
         000097c0     0003  
    1990 000097d0     0d3f          callr   DrivBack
         000097e0     ff7a  
    1991                    
    1992 000097f0     0960          rets
    1993                    **************************************************************************
    1994                    
    1995                    **************************************************************************
    1996 00009800           ClHedRck:
    1997 00009800     4d06          move    A8,A6                   ;KILLERS OBJ
    1998 00009810     4c04          move    A0,A4                   ;MB OBJ
    1999 00009820     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009830     01f0  
    2000                    
    2001 00009840     aee0          movb    *A7(DIR),A0
         00009850     00f8  
    2002 00009860     0b40          cmpi    4,A0
         00009870     fffb  
    2003 00009880     c404          jrlt    RecFlp1
    2004 00009890     09e9          movi    RRECOIL,A9
         000098a0 00000000! 
    2005 000098c0     c003          jruc    GotRcFr1
    2006 000098d0           RecFlp1:
    2007 000098d0     09e9          movi    RRECOILF,A9
         000098e0 00000000! 
    2008 00009900           GotRcFr1:
    2009 00009900     4ce0          move    A7,A0
    2010 00009910     0d5f          calla   PUTA9
         00009920 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   47

    2011                    
    2012 00009940     09c0          movi    16,A0
         00009950     0010  
    2013 00009960     0d3f          callr   Injure1
         00009970     fe26  
    2014 00009980     b4e0          move    *A7(HEALTH),A0,W
         00009990     0100  
    2015 000099a0     ce03          jrn     BlowUp
    2016                    
    2017 000099b0     b4e0          move    *A7(HEALTH),A0,W
         000099c0     0100  
    2018 000099d0     cf11          jrnn    SkBlow
    2019 000099e0           BlowUp:
    2020                    * XFERPROC - A0=PRCPTR, A1=NEW ID, A7=NEW PC, A8-A11=PASSED
    2021 000099e0                   PUSH    A7
    2022 000099f0     4ce0          move    A7,A0
    2023 00009a00     0d5f          calla   GETA10
         00009a10 00000000! 
    2024 00009a30     0d3f          callr   ClrColls
         00009a40     0029  
    2025 00009a50     09c1          movi    HEADXPID,A1
         00009a60     0e9b  
    2026 00009a70     09e7          movi    HedExplo,A7
         00009a80 0000a7b0' 
    2027 00009aa0     0d5f          calla   XFERPROC
         00009ab0 00000000! 
    2028 00009ad0                   PULL    A7
    2029                    
    2030 00009af0           SkBlow:
    2031 00009af0           CollRckX:
    2032 00009af0     09c0          movi    5,A0
         00009b00     0005  
    2033                    ;A0 - Amt to drive back
    2034                    ;A7 - ptr to head proc
    2035                    ;A6 - ptr to killers obj
    2036 00009b10     0d3f          callr   DrivBack
         00009b20     ff46  
    2037                    
    2038 00009b30     0960          rets
    2039                    **************************************************************************
    2040                    
    2041                    **************************************************************************
    2042 00009b40           ClBasRck:
    2043 00009b40     4d06          move    A8,A6                   ;KILLERS OBJ
    2044 00009b50     4c04          move    A0,A4                   ;MB OBJ
    2045 00009b60     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009b70     01f0  
    2046 00009b80     09e9          movi    RRECOIL,A9
         00009b90 00000000! 
    2047 00009bb0     4ce0          move    A7,A0
    2048 00009bc0     0d5f          calla   PUTA9
         00009bd0 00000000! 
    2049                    
    2050 00009bf0     1900          movk    8,A0
    2051 00009c00     0d3f          callr   Injure1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   48

         00009c10     fdfc  
    2052 00009c20     b4e0          move    *A7(HEALTH),A0,W
         00009c30     0100  
    2053 00009c40     ced9          jrn     BlowUp
    2054                    
    2055 00009c50     09c0          movi    10,A0
         00009c60     000a  
    2056 00009c70     0d3f          callr   DrivBack
         00009c80     ff30  
    2057                    
    2058 00009c90     0960          rets
    2059                    **************************************************************************
    2060                    
    2061                    **************************************************************************
    2062 00009ca0           ClTngRck:
    2063 00009ca0     4d06          move    A8,A6                   ;KILLERS OBJ
    2064 00009cb0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009cc0     01f0  
    2065 00009cd0     c0d0          jruc    BlowUp
    2066                    **************************************************************************
    2067                    
    2068                    **************************************************************************
    2069 00009ce0           ClrColls:
    2070 00009ce0     098f          mmtm    SP,A0,A1,A7,A10
         00009cf0     c120  
    2071 00009d00     af47          movb    *A10(NUMPARTS),A7
         00009d10     0200  
    2072 00009d20     09e0          movi    DUMCOLL,A0
         00009d30 00000000! 
    2073 00009d50           ClrColLp:
    2074 00009d50     9741          move    *A10+,A1,L
    2075 00009d60     b201          move    A0,*A1(OCVECT),L
         00009d70     01d0  
    2076 00009d80     3c87          dsjs    A7,ClrColLp
    2077 00009d90     09af          mmfm    SP,A0,A1,A7,A10
         00009da0     0483  
    2078 00009db0     0960          rets
    2079                    **************************************************************************
    2080                    
    2081                    **************************************************************************
    2082 00009dc0           ClrSCols:
    2083 00009dc0     098f          mmtm    SP,A0,A1,A7,A11
         00009dd0     c110  
    2084 00009de0     b6eb          move    *A7(SPINE),A11,L
         00009df0     00c0  
    2085 00009e00     aee7          movb    *A7(SPINELEN),A7
         00009e10     0188  
    2086 00009e20     09e0          movi    DUMCOLL,A0
         00009e30 00000000! 
    2087 00009e50           ClrSCoLp:
    2088 00009e50     9761          move    *A11+,A1,L
    2089 00009e60     b201          move    A0,*A1(OCVECT),L
         00009e70     01d0  
    2090 00009e80     3c87          dsjs    A7,ClrSCoLp
    2091 00009e90     09af          mmfm    SP,A0,A1,A7,A11
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   49

         00009ea0     0883  
    2092 00009eb0     0960          rets
    2093                    **************************************************************************
    2094                    
    2095                    **************************************************************************
    2096 00009ec0           ClBasPly:
    2097 00009ec0     4d06          move    A8,A6                   ;players OBJ
    2098 00009ed0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         00009ee0     01f0  
    2099                    
    2100 00009ef0     0d3f          callr   PlyrBack
         00009f00     002b  
    2101                    
    2102 00009f10     aee0          movb    *A7(BASEFLSH),A0
         00009f20     0190  
    2103 00009f30     c127          jrp     GotFlsh
    2104 00009f40     09e0          movi    BaseSND,A0
         00009f50 00000000' 
    2105 00009f70     0d5f          calla   ONESND
         00009f80 00000000! 
    2106 00009fa0     09e0          movi    SkExpSND,A0
         00009fb0 00000400' 
    2107 00009fd0     0d5f          calla   ONESND
         00009fe0 00000000! 
    2108                    
    2109 0000a000     1a80          movk    20,A0
    2110 0000a010     ac07          movb    A0,*A7(LAUGH)
         0000a020     00e8  
    2111                    
    2112 0000a030     1940          movk    10,A0
    2113 0000a040     ac07          movb    A0,*A7(BASEFLSH)
         0000a050     0190  
    2114                            ;Do a palette transfer to the flash pal
    2115 0000a060     09e0          movi    basepal,A0
         0000a070 00000000! 
    2116 0000a090     0d5f          calla   FINDPAL
         0000a0a0 00000000! 
    2117 0000a0c0     4c01          move    A0,A1
    2118 0000a0d0     2701          SLL     24,A1
    2119 0000a0e0     2e01          SRL     16,A1
    2120 0000a0f0     09e0          movi    baseflsh,A0
         0000a100 00000000! 
    2121 0000a120     9402          move    *A0+,A2,W               
    2122 0000a130     0d5f          calla   PALSET
         0000a140 00000000! 
    2123                    
    2124 0000a160     09c0          movi    SKYFLASH,A0
         0000a170     65ff  
    2125 0000a180     0580          move    A0,@IRQSKYE,W
         0000a190 00000000! 
    2126                    
    2127 0000a1b0           GotFlsh:
    2128 0000a1b0     0960          rets
    2129                    **************************************************************************
    2130                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   50

    2131                    **************************************************************************
    2132 0000a1c0           PlyrBack:
    2133                    ;parms A0-mb obj, A6-players OBJ
    2134 0000a1c0     098f          mmtm    SP,A0,A1,A2
         0000a1d0     e000  
    2135 0000a1e0     1881          movk    4,A1
    2136 0000a1f0     4c08          move    A0,A8
    2137 0000a200     0d5f          calla   GETANIX
         0000a210 00000000! 
    2138 0000a230     4c02          move    A0,A2   ;A2 mb xpos
    2139 0000a240     4cc8          move    A6,A8
    2140 0000a250                   PUSH    A1
    2141 0000a260     0d5f          calla   CKLXBND
         0000a270 00000000! 
    2142 0000a290                   PULL    A1
    2143 0000a2b0     c80d          jrc     PBackX
    2144                    
    2145 0000a2c0     0d5f          calla   GETANIX
         0000a2d0 00000000! 
    2146 0000a2f0     4802          cmp     A0,A2
    2147 0000a300     c401          jrlt    SkNgXD
    2148 0000a310     03a1          neg     A1
    2149 0000a320           SkNgXD:
    2150 0000a320     4cc0          move    A6,A0
    2151 0000a330     0d5f          calla   GetPData
         0000a340 00000000! 
    2152 0000a360     0d5f          calla   MovePlyr
         0000a370 00000000! 
    2153 0000a390           PBackX:
    2154 0000a390     09af          mmfm    SP,A0,A1,A2
         0000a3a0     0007  
    2155 0000a3b0     0960          rets
    2156                    **************************************************************************
    2157                    
    2158                    **************************************************************************
    2159 0000a3c0           CkBFlash:
    2160 0000a3c0     afa1          movb    *A13(BASEFLSH),A1
         0000a3d0     0190  
    2161 0000a3e0     ca1b          jrz     CkBFlshX
    2162 0000a3f0     4401          sub     A0,A1
    2163 0000a400     ac2d          movb    A1,*A13(BASEFLSH)
         0000a410     0190  
    2164 0000a420     c117          jrp     CkBFlshX
    2165 0000a430     5621          clr     A1
    2166 0000a440     ac2d          movb    A1,*A13(BASEFLSH)
         0000a450     0190  
    2167 0000a460     098f          mmtm    SP,A0
         0000a470     8000  
    2168                            ;Do a palette transfer to the flash pal
    2169 0000a480     09e0          movi    basepal,A0
         0000a490 00000000! 
    2170 0000a4b0     0d5f          calla   FINDPAL
         0000a4c0 00000000! 
    2171 0000a4e0     4c01          move    A0,A1
    2172 0000a4f0     2701          SLL     24,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   51

    2173 0000a500     2e01          SRL     16,A1
    2174 0000a510     09e0          movi    basepal,A0
         0000a520 00000000! 
    2175 0000a540     9402          move    *A0+,A2,W               
    2176 0000a550     0d5f          calla   PALSET
         0000a560 00000000! 
    2177                    
    2178 0000a580     09af          mmfm    SP,A0
         0000a590     0001  
    2179 0000a5a0           CkBFlshX:
    2180 0000a5a0     0960          rets
    2181                    **************************************************************************
    2182                    
    2183                    **************************************************************************
    2184 0000a5b0           NewPals:
    2185                    ;THIS FUNCTION CAN SLEEP --- USE JSRP!!!
    2186                    ;Parms:  A6-ptr to pal list 
    2187                    ;* REALLOCATE AND STUFF PALETTES
    2188 0000a5b0                   PUSHP   A9
    2189 0000a5c0     4d4b          move    A10,A11
    2190 0000a5d0     af47          movb    *A10(NUMPARTS),A7
         0000a5e0     0200  
    2191 0000a5f0           LoadPals:
    2192 0000a5f0     9769          move    *A11+,A9,L
    2193 0000a600     b520          move    *A9(OPAL),A0,W
         0000a610     0160  
    2194 0000a620     0d5f          calla   FREEPAL
         0000a630 00000000! 
    2195 0000a650     96c0          move    *A6+,A0,L
    2196 0000a660           TryAllc:
    2197 0000a660     0d5f          calla   GETFPAL
         0000a670 00000000! 
    2198 0000a690     cb09          jrnz    GotNP
    2199 0000a6a0     098c          mmtm    A12,A0,A6,A7
         0000a6b0     8300  
    2200 0000a6c0                   SLEEP   1
    2201 0000a700     09ac          mmfm    A12,A0,A6,A7
         0000a710     00c1  
    2202 0000a720     c0f3          jruc    TryAllc
    2203 0000a730           GotNP:
    2204 0000a730     b009          move    A0,*A9(OPAL),W
         0000a740     0160  
    2205 0000a750     3ee7          dsj     A7,LoadPals
    2206 0000a760                   PULLP   A9
    2207 0000a780                   retp
    2208                    **************************************************************************
    2209                    
    2210                    
    2211                    **************************************************************************
    2212 0000a7b0           HedExplo:
    2213                    ;* PROCESS TO BLOW UP THE HEAD...
    2214 0000a7b0     8748          move    *A10,A8,L
    2215 0000a7c0     0d5f          calla   ClrVel
         0000a7d0 00000000! 
    2216 0000a7f0     0d3f          callr   UpdHeadV
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   52

         0000a800     f9e8  
    2217                    
    2218 0000a810     09e0          movi    AgitSND,A0
         0000a820 00000390' 
    2219 0000a840     0d5f          calla   ONESND
         0000a850 00000000! 
    2220                    
    2221 0000a870     09c0          movi    20,A0
         0000a880     0014  
    2222 0000a890           ShakeLp:
    2223 0000a890                   PUSHP   A0
    2224                    
    2225 0000a8a0     0d3f          callr   AGITATE
         0000a8b0     0de2  
    2226 0000a8c0     0d3f          callr   BaseCent
         0000a8d0     0d05  
    2227 0000a8e0     0d3f          callr   BaseDamp
         0000a8f0     07b3  
    2228 0000a900     0d3f          callr   BaseDamp
         0000a910     07b1  
    2229 0000a920     8748          move    *A10,A8,L
    2230 0000a930     0d3f          callr   ZCHECK
         0000a940     f732  
    2231 0000a950     0d3f          callr   UpdHeadV
         0000a960     f9d2  
    2232 0000a970     0d3f          callr   UpdHeadP
         0000a980     f92d  
    2233 0000a990                   SLEEP   2
    2234 0000a9d0                   PULLP   A0
    2235 0000a9f0     1420          dec     A0
    2236 0000aa00     c1e8          jrp     ShakeLp
    2237                    
    2238 0000aa10     09e0          movi    HdExpSND,A0
         0000aa20 000002a0' 
    2239 0000aa40     0d5f          calla   ONESND
         0000aa50 00000000! 
    2240                    
    2241 0000aa70     09e9          movi    KABOOMF,A9
         0000aa80 00000000! 
    2242 0000aaa0     1861          movk    3,A1
    2243 0000aab0     afa0          movb    *A13(DIR),A0
         0000aac0     00f8  
    2244 0000aad0     0b40          cmpi    4,A0
         0000aae0     fffb  
    2245 0000aaf0     c604          jrle    GotBOOM
    2246 0000ab00     09e9          movi    KABOOM,A9
         0000ab10 00000000! 
    2247 0000ab30     1921          movk    9,A1
    2248 0000ab40           GotBOOM:
    2249 0000ab40     b32d          move    A9,*A13(ANIMPTR),L
         0000ab50     0120  
    2250 0000ab60     ac2d          movb    A1,*A13(DIR)
         0000ab70     00f8  
    2251                    
    2252 0000ab80     09c0          movi    0FFH,A0         
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   53

         0000ab90     00ff  
    2253 0000aba0     ac0a          movb    A0,*A10(INUSE)  ;all parts are active
         0000abb0     0220  
    2254 0000abc0     0d3f          callr   AniHead
         0000abd0     fa3a  
    2255                    
    2256                            ;* CREATE MAJOR HEAD PIECES
    2257 0000abe0     09e1          movi    HED3hat,A1
         0000abf0 00000000! 
    2258 0000ac10     09ee          movi    CHUNKINI,A14
         0000ac20 00000000! 
    2259 0000ac40     1823          movk    1,A3
    2260 0000ac50     0d3f          callr   MkHdChnk
         0000ac60     0252  
    2261 0000ac70     ca0f          jrz     NoHat
    2262 0000ac80     4c01          move    A0,A1
    2263 0000ac90     4c08          move    A0,A8
    2264 0000aca0     0d3f          callr   HatStump
         0000acb0     01f4  
    2265 0000acc0     ca62          jrz     NoFly
    2266 0000acd0     4c0b          move    A0,A11
    2267 0000ace0                   create  CHUNKPID,FlyHat
    2268 0000ad60     ca51          jrz     NoFlyHat
    2269 0000ad70           NoHat:
    2270 0000ad70     09e1          movi    BOOM5a,A1
         0000ad80 00000000! 
    2271 0000ada0     09ee          movi    CHUNKINI,A14
         0000adb0 00000000! 
    2272 0000add0     1863          movk    3,A3
    2273 0000ade0     0d3f          callr   MkHdChnk
         0000adf0     0239  
    2274 0000ae00     ca0a          jrz     NoFace
    2275 0000ae10     4c08          move    A0,A8
    2276 0000ae20                   create  CHUNKPID,FlyFace
    2277 0000aea0     ca44          jrz     NoFly
    2278 0000aeb0           NoFace:
    2279 0000aeb0     09e1          movi    BOOM5b,A1
         0000aec0 00000000! 
    2280 0000aee0     09ee          movi    CHUNKINI,A14
         0000aef0 00000000! 
    2281 0000af10     1843          movk    2,A3
    2282 0000af20     0d3f          callr   MkHdChnk
         0000af30     0225  
    2283 0000af40     ca0a          jrz     NoEar1
    2284 0000af50     4c08          move    A0,A8
    2285 0000af60                   create  CHUNKPID,FlyEar1
    2286 0000afe0     ca30          jrz     NoFly
    2287 0000aff0           NoEar1:
    2288 0000aff0     09e1          movi    BOOM5c,A1
         0000b000 00000000! 
    2289 0000b020     09ee          movi    CHUNKINI,A14
         0000b030 00000000! 
    2290 0000b050     1843          movk    2,A3
    2291 0000b060     0d3f          callr   MkHdChnk
         0000b070     0211  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   54

    2292 0000b080     ca0a          jrz     NoNeck
    2293 0000b090     4c08          move    A0,A8
    2294 0000b0a0                   create  CHUNKPID,FlyNeck
    2295 0000b120     ca1c          jrz     NoFly
    2296 0000b130           NoNeck:
    2297                    ;       movi    BOOM5b,A1
    2298                    ;       movi    CHUNKINI,A14
    2299                    ;       movi    -5,A3
    2300                    ;       callr   MkHdChnk
    2301                    ;       jrz     NoEar2
    2302                    ;       move    A0,A8
    2303                    ;       create  CHUNKPID,FlyEar2
    2304                    ;       jrz     NoFly
    2305                    ;NoEar2:
    2306 0000b130     09e1          movi    BOOM6,A1
         0000b140 00000000! 
    2307 0000b160     09ee          movi    CHUNKINI,A14
         0000b170 00000000! 
    2308 0000b190     1823          movk    1,A3
    2309 0000b1a0     0d3f          callr   MkHdChnk
         0000b1b0     01fd  
    2310 0000b1c0     ca0a          jrz     NoSNck
    2311 0000b1d0     4c08          move    A0,A8
    2312 0000b1e0                   create  CHUNKPID,FlySNck
    2313 0000b260     ca08          jrz     NoFly
    2314 0000b270           NoSNck:
    2315 0000b270     c00e          jruc    GotFlys
    2316                    
    2317 0000b280           NoFlyHat:
    2318 0000b280     4d60          move    A11,A0
    2319 0000b290     0d5f          calla   DELPAL
         0000b2a0 00000000! 
    2320 0000b2c0     0d5f          calla   DELOBJ
         0000b2d0 00000000! 
    2321 0000b2f0           NoFly:
    2322 0000b2f0     4d00          move    A8,A0
    2323 0000b300     0d5f          calla   DELPAL
         0000b310 00000000! 
    2324 0000b330     0d5f          calla   DELOBJ
         0000b340 00000000! 
    2325                    
    2326 0000b360           GotFlys:
    2327 0000b360     09e6          movi    SPalTbl0,A6
         0000b370 00000b30' 
    2328 0000b390                   jsrp    NewPals
    2329 0000b400     0d3f          callr   AniHead         ;Put Out Skull and Jaw
         0000b410     f9b6  
    2330                            ;* restuff skull and jaw with centered ani points
    2331 0000b420     09e1          movi    skull4,A1
         0000b430 00000000! 
    2332 0000b450     b22a          move    A1,*A10(SKULLANI),L
         0000b460     0160  
    2333 0000b470     b740          move    *A10(SKULL),A0,L
         0000b480     0060  
    2334 0000b490     b220          move    A1,*A0(OIMG),L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   55

         0000b4a0     0180  
    2335                    
    2336 0000b4b0     09e1          movi    jaw4,A1
         0000b4c0 00000000! 
    2337 0000b4e0     b22a          move    A1,*A10(JAWANI),L
         0000b4f0     0180  
    2338 0000b500     b740          move    *A10(JAW),A0,L
         0000b510     0080  
    2339 0000b520     b220          move    A1,*A0(OIMG),L
         0000b530     0180  
    2340                    
    2341 0000b540     09e1          movi    stumpskl,A1
         0000b550 00000000! 
    2342 0000b570     b22a          move    A1,*A10(STUMPANI),L
         0000b580     0140  
    2343 0000b590     b740          move    *A10(STUMP),A0,L
         0000b5a0     0040  
    2344 0000b5b0     b220          move    A1,*A0(OIMG),L
         0000b5c0     0180  
    2345                    
    2346 0000b5d0     09e1          movi    BASEskl,A1
         0000b5e0 00000000! 
    2347 0000b600     b22a          move    A1,*A10(BASELANI),L
         0000b610     0100  
    2348 0000b620     b740          move    *A10(BASEL),A0,L
         0000b630     0000  
    2349 0000b640     b220          move    A1,*A0(OIMG),L
         0000b650     0180  
    2350 0000b660     b22a          move    A1,*A10(BASERANI),L
         0000b670     0120  
    2351 0000b680     b740          move    *A10(BASER),A0,L
         0000b690     0020  
    2352 0000b6a0     b220          move    A1,*A0(OIMG),L
         0000b6b0     0180  
    2353                    
    2354 0000b6c0     19e0          movk    15,A0
    2355 0000b6d0                   jsrp    EXPLDSLP
    2356                    
    2357                    ;****** CREATE LOTS OF FRAGMENTS TO BLOW FROM HEAD ********
    2358 0000b740     09e1          movi    CHNKTBL5,A1
         0000b750 00000000! 
    2359 0000b770     09e2          movi    CHUNKINI,A2
         0000b780 00000000! 
    2360 0000b7a0     09e4          movi    CHNKSINK,A4
         0000b7b0 0000da90' 
    2361 0000b7d0     09e6          movi    0580000H,A6 ;Y:X OFFSET of where to start chunks from object
         0000b7e0 00580000  
    2362 0000b800     8748          move    *A10,A8,L
    2363 0000b810     0d3f          callr   DOCHUNKS
         0000b820     01c8  
    2364                    
    2365 0000b830     1940          movk    10,A0
    2366 0000b840                   jsrp    EXPLDSLP
    2367                    
    2368                            ;**** kill eye color cycler
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   56

    2369 0000b8b0                   NOMATCHP        EYECCPID,0FFFFH,NoEyeCC
    2370 0000b960     0d5f          calla   KILL
         0000b970 00000000! 
    2371 0000b990           NoEyeCC:
    2372                    
    2373 0000b990     09e1          movi    CHNKTBL2,A1
         0000b9a0 00000000! 
    2374 0000b9c0     09e2          movi    CHNKTINI,A2
         0000b9d0 00000000! 
    2375 0000b9f0     09e4          movi    CHNKSINK,A4
         0000ba00 0000da90' 
    2376 0000ba20     09e6          movi    0580000H,A6 ;Y:X OFFSET of where to start chunks from object
         0000ba30 00580000  
    2377 0000ba50     8748          move    *A10,A8,L
    2378 0000ba60     0d3f          callr   DOCHUNKS
         0000ba70     01a3  
    2379                    
    2380 0000ba80     19e0          movk    15,A0
    2381 0000ba90                   jsrp    EXPLDSLP
    2382                    
    2383 0000bb00     09e1          movi    CHNKTBL1,A1
         0000bb10 00000000! 
    2384 0000bb30     09e2          movi    CHUNKINI,A2
         0000bb40 00000000! 
    2385 0000bb60     09e4          movi    CHNKSINK,A4
         0000bb70 0000da90' 
    2386 0000bb90     09e6          movi    0580000H,A6 ;Y:X OFFSET of where to start chunks from object
         0000bba0 00580000  
    2387 0000bbc0     8748          move    *A10,A8,L
    2388 0000bbd0     0d3f          callr   DOCHUNKS
         0000bbe0     018c  
    2389                    
    2390 0000bbf0     19e0          movk    15,A0
    2391 0000bc00                   jsrp    EXPLDSLP
    2392                    
    2393 0000bc70     09e1          movi    CHNKTBL1,A1
         0000bc80 00000000! 
    2394 0000bca0     09e2          movi    CHUNKINI,A2
         0000bcb0 00000000! 
    2395 0000bcd0     09e4          movi    CHNKSINK,A4
         0000bce0 0000da90' 
    2396 0000bd00     09e6          movi    0580000H,A6 ;Y:X OFFSET of where to start chunks from object
         0000bd10 00580000  
    2397 0000bd30     8748          move    *A10,A8,L
    2398 0000bd40     0d3f          callr   DOCHUNKS
         0000bd50     0175  
    2399                    
    2400 0000bd60     18a0          movk    5,A0
    2401 0000bd70                   jsrp    EXPLDSLP
    2402                    
    2403                    ;BUGCOLD; A5  - Y:X; A6  - 0:Z;
    2404                    ; A14 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
    2405                    ;       move    *A10(SKULL),A8,L
    2406                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    2407                    ;       calla   GETANIXY
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   57

    2408                    ;       srl     16,A3
    2409                    ;       movx    A3,A5
    2410                    ;       subi    0480000H,A2
    2411                    ;       movy    A2,A5
    2412                    ;       move    *A8(OZPOS),A6,W
    2413                    ;       movi    000330000H|BUGEOID|1,A14
    2414                    ;       calla   BUGCOLD
    2415                    
    2416 0000bde0     18a0          movk    5,A0
    2417 0000bdf0                   jsrp    EXPLDSLP
    2418                    
    2419 0000be60     09e1          movi    CHNKTBL1,A1
         0000be70 00000000! 
    2420 0000be90     09e2          movi    CHUNKINI,A2
         0000bea0 00000000! 
    2421 0000bec0     09e4          movi    CHNKSINK,A4
         0000bed0 0000da90' 
    2422 0000bef0     09e6          movi    0580000H,A6 ;Y:X OFFSET of where to start chunks from object
         0000bf00 00580000  
    2423 0000bf20     8748          move    *A10,A8,L
    2424 0000bf30     0d3f          callr   DOCHUNKS
         0000bf40     0156  
    2425                    
    2426 0000bf50     c000          jruc    Skeleton
         0000bf60     01e1  
    2427                    **************************************************************************
    2428                    
    2429                    **************************************************************************
    2430 0000bf70           EXPLDSLP:
    2431 0000bf70                   PUSHP   A0
    2432 0000bf80           EXPSLP1:
    2433 0000bf80                   PULLP   A0
    2434 0000bfa0     1420          dec     A0
    2435 0000bfb0     ce0c          jrn     SLPX
    2436 0000bfc0                   SLEEP   1
    2437 0000c000                   PUSHP   A0
    2438 0000c010     0d3f          callr   BaseDamp
         0000c020     0640  
    2439 0000c030     0d3f          callr   UpdHeadV
         0000c040     f864  
    2440 0000c050     0d3f          callr   UpdHeadP
         0000c060     f7bf  
    2441 0000c070     c0f0          jruc    EXPSLP1
    2442 0000c080           SLPX:
    2443 0000c080                   retp
    2444                    **************************************************************************
    2445                    
    2446                    **************************************************************************
    2447 0000c0b0           FlyHat:
    2448                    ;* PROCESS TO FLY HAT AND STUMP ..
    2449 0000c0b0     09e0          movi    -080000H,A0
         0000c0c0 fff80000  
    2450 0000c0e0     b208          move    A0,*A8(OYVEL),L
         0000c0f0     0060  
    2451 0000c100     b20b          move    A0,*A11(OYVEL),L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   58

         0000c110     0060  
    2452                    
    2453 0000c120                   SLEEP   25
    2454                    
    2455 0000c160     4d00          move    A8,A0
    2456 0000c170     0d5f          calla   DELPAL
         0000c180 00000000! 
    2457 0000c1a0     0d5f          calla   DELOBJ
         0000c1b0 00000000! 
    2458 0000c1d0     4d60          move    A11,A0
    2459 0000c1e0     0d5f          calla   DELPAL
         0000c1f0 00000000! 
    2460 0000c210     0d5f          calla   DELOBJ
         0000c220 00000000! 
    2461 0000c240                   DIE
    2462                    **************************************************************************
    2463                    
    2464                    **************************************************************************
    2465 0000c270           FlyFace:
    2466 0000c270     1940          movk    10,A0
    2467 0000c280     0d5f          calla   PRCSLP
         0000c290 00000000! 
    2468 0000c2b0     09e0          movi    -080000H,A0
         0000c2c0 fff80000  
    2469 0000c2e0     b501          move    *A8(OFLAGS),A1,W
         0000c2f0     0100  
    2470 0000c300     1f61          btst    B_FLIPH,A1
    2471 0000c310     ca01          jrz     SkNgXV1
    2472 0000c320     03a0          neg     A0
    2473 0000c330           SkNgXV1:
    2474 0000c330     b208          move    A0,*A8(OXVEL),L
         0000c340     0040  
    2475 0000c350     09e0          movi    -040000H,A0
         0000c360 fffc0000  
    2476 0000c380     b208          move    A0,*A8(OYVEL),L
         0000c390     0060  
    2477 0000c3a0     09c0          movi    60,A0
         0000c3b0     003c  
    2478 0000c3c0     0d5f          calla   PRCSLP
         0000c3d0 00000000! 
    2479 0000c3f0     0d3f          callr   DelChnk
         0000c400     0077  
    2480 0000c410                   DIE
    2481                    **************************************************************************
    2482                    
    2483                    **************************************************************************
    2484 0000c440           FlyEar1:
    2485 0000c440     1900          movk    8,A0
    2486 0000c450     0d5f          calla   PRCSLP
         0000c460 00000000! 
    2487 0000c480     09e0          movi    080000H,A0
         0000c490 00080000  
    2488 0000c4b0     b501          move    *A8(OFLAGS),A1,W
         0000c4c0     0100  
    2489 0000c4d0     1f61          btst    B_FLIPH,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   59

    2490 0000c4e0     ca01          jrz     SkNgXV2
    2491 0000c4f0     03a0          neg     A0
    2492 0000c500           SkNgXV2:
    2493 0000c500     b208          move    A0,*A8(OXVEL),L
         0000c510     0040  
    2494 0000c520     09e0          movi    -048000H,A0
         0000c530 fffb8000  
    2495 0000c550     b208          move    A0,*A8(OYVEL),L
         0000c560     0060  
    2496 0000c570     09c0          movi    55,A0
         0000c580     0037  
    2497 0000c590     0d5f          calla   PRCSLP
         0000c5a0 00000000! 
    2498 0000c5c0     0d3f          callr   DelChnk
         0000c5d0     005a  
    2499 0000c5e0                   DIE
    2500                    **************************************************************************
    2501                    
    2502                    **************************************************************************
    2503 0000c610           FlyEar2:
    2504 0000c610     1900          movk    8,A0
    2505 0000c620     0d5f          calla   PRCSLP
         0000c630 00000000! 
    2506 0000c650     09e0          movi    048000H,A0
         0000c660 00048000  
    2507 0000c680     b501          move    *A8(OFLAGS),A1,W
         0000c690     0100  
    2508 0000c6a0     1f61          btst    B_FLIPH,A1
    2509 0000c6b0     ca01          jrz     SkNgXV5
    2510 0000c6c0     03a0          neg     A0
    2511 0000c6d0           SkNgXV5:
    2512 0000c6d0     b208          move    A0,*A8(OXVEL),L
         0000c6e0     0040  
    2513 0000c6f0     09e0          movi    -040000H,A0
         0000c700 fffc0000  
    2514 0000c720     b208          move    A0,*A8(OYVEL),L
         0000c730     0060  
    2515 0000c740     09c0          movi    65,A0
         0000c750     0041  
    2516 0000c760     0d5f          calla   PRCSLP
         0000c770 00000000! 
    2517 0000c790     0d3f          callr   DelChnk
         0000c7a0     003d  
    2518 0000c7b0                   DIE
    2519                    **************************************************************************
    2520                    
    2521                    **************************************************************************
    2522 0000c7e0           FlyNeck:
    2523 0000c7e0     1940          movk    10,A0
    2524 0000c7f0     0d5f          calla   PRCSLP
         0000c800 00000000! 
    2525 0000c820     09e0          movi    020000H,A0
         0000c830 00020000  
    2526 0000c850     b501          move    *A8(OFLAGS),A1,W
         0000c860     0100  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   60

    2527 0000c870     1f61          btst    B_FLIPH,A1
    2528 0000c880     ca01          jrz     SkNgXV3
    2529 0000c890     03a0          neg     A0
    2530 0000c8a0           SkNgXV3:
    2531 0000c8a0     b208          move    A0,*A8(OXVEL),L
         0000c8b0     0040  
    2532 0000c8c0     09e0          movi    -070000H,A0
         0000c8d0 fff90000  
    2533 0000c8f0     b208          move    A0,*A8(OYVEL),L
         0000c900     0060  
    2534 0000c910     09c0          movi    60,A0
         0000c920     003c  
    2535 0000c930     0d5f          calla   PRCSLP
         0000c940 00000000! 
    2536 0000c960     0d3f          callr   DelChnk
         0000c970     0020  
    2537 0000c980                   DIE
    2538                    **************************************************************************
    2539                    
    2540                    **************************************************************************
    2541 0000c9b0           FlySNck:
    2542 0000c9b0     19e0          movk    15,A0
    2543 0000c9c0     0d5f          calla   PRCSLP
         0000c9d0 00000000! 
    2544 0000c9f0     09e0          movi    -020000H,A0
         0000ca00 fffe0000  
    2545 0000ca20     b501          move    *A8(OFLAGS),A1,W
         0000ca30     0100  
    2546 0000ca40     1f61          btst    B_FLIPH,A1
    2547 0000ca50     ca01          jrz     SkNgXV4
    2548 0000ca60     03a0          neg     A0
    2549 0000ca70           SkNgXV4:
    2550 0000ca70     b208          move    A0,*A8(OXVEL),L
         0000ca80     0040  
    2551 0000ca90     09e0          movi    -068000H,A0
         0000caa0 fff98000  
    2552 0000cac0     b208          move    A0,*A8(OYVEL),L
         0000cad0     0060  
    2553 0000cae0     09c0          movi    60,A0
         0000caf0     003c  
    2554 0000cb00     0d5f          calla   PRCSLP
         0000cb10 00000000! 
    2555 0000cb30     0d3f          callr   DelChnk
         0000cb40     0003  
    2556 0000cb50                   DIE
    2557                    **************************************************************************
    2558                    
    2559                    **************************************************************************
    2560 0000cb80           DelChnk:
    2561 0000cb80     4d00          move    A8,A0
    2562 0000cb90     0d5f          calla   DELPAL
         0000cba0 00000000! 
    2563 0000cbc0     0d5f          calla   DELOBJ
         0000cbd0 00000000! 
    2564 0000cbf0     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   61

    2565                    **************************************************************************
    2566                    
    2567                    **************************************************************************
    2568 0000cc00           HatStump:
    2569                    ;* create upside down STUMP object.
    2570                    ;Parms - A1 ptr to hat object
    2571                    ;return ptr to obj in A0
    2572 0000cc00     098f          mmtm    SP,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000cc10     7fe0  
    2573 0000cc20     0d5f          calla   GETOBJ
         0000cc30 00000000! 
    2574 0000cc50     ca4f          jrz     NoStump
    2575 0000cc60     4c03          move    A0,A3
    2576                    
    2577 0000cc70     09e0          movi    headxpal,A0
         0000cc80 00000000! 
    2578 0000cca0     0d5f          calla   GETFPAL
         0000ccb0 00000000! 
    2579 0000ccd0     ca43          jrz     NoHdXPal
    2580 0000cce0     b003          move    A0,*A3(OPAL),W
         0000ccf0     0160  
    2581                    
    2582 0000cd00     b624          move    *A1(OFLAGS),A4,L
         0000cd10     0100  
    2583 0000cd20     0b84          andni   M_FLIPH,A4
         0000cd30 00000010  
    2584 0000cd50     0ba4          ori     M_FLIPV,A4
         0000cd60 00000020  
    2585                    
    2586 0000cd80     4c27          move    A1,A7
    2587 0000cd90     09e1          movi    stump,A1
         0000cda0 00000000! 
    2588 0000cdc0     b223          move    A1,*A3(OIMG),L
         0000cdd0     0180  
    2589 0000cde0     4c6a          move    A3,A10
    2590                    *GSAGOF: A1=OIMG, A4=OBJECT FLAGS -> A2=OSIZE, A3=OSAG, A4=OFFSET:OFLAGS
    2591 0000cdf0     0d5f          calla   GSAGOF
         0000ce00 00000000! 
    2592 0000ce20     b28a          move    A4,*A10(OFLAGS),L
         0000ce30     0100  
    2593 0000ce40     b26a          move    A3,*A10(OSAG),L
         0000ce50     0120  
    2594 0000ce60     b24a          move    A2,*A10(OSIZE),L
         0000ce70     0140  
    2595 0000ce80     4d43          move    A10,A3
    2596                    
    2597 0000ce90     4ce1          move    A7,A1
    2598 0000cea0     b823          move    *A1(OID),*A3(OID),W
         0000ceb0     01a0  
         0000cec0     01a0  
    2599                    
    2600 0000ced0     09e0          movi    DUMCOLL,A0
         0000cee0 00000000! 
    2601 0000cf00     b203          move    A0,*A3(OCVECT),L
         0000cf10     01d0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   62

    2602                    
    2603 0000cf20     b424          move    *A1(OXPOS),A4,W
         0000cf30     0090  
    2604 0000cf40     0b04          addi    10,A4
         0000cf50     000a  
    2605 0000cf60     b083          move    A4,*A3(OXPOS),W
         0000cf70     0090  
    2606                    
    2607 0000cf80     b424          move    *A1(OYPOS),A4,W
         0000cf90     00b0  
    2608 0000cfa0     0b04          addi    30,A4
         0000cfb0     001e  
    2609 0000cfc0     b083          move    A4,*A3(OYPOS),W
         0000cfd0     00b0  
    2610                    
    2611 0000cfe0     b424          move    *A1(OZPOS),A4,W
         0000cff0     00d0  
    2612 0000d000     1024          inc     A4
    2613 0000d010     b083          move    A4,*A3(OZPOS),W
         0000d020     00d0  
    2614                    
    2615 0000d030     5600          clr     A0
    2616 0000d040     b203          move    A0,*A3(OXVEL),L
         0000d050     0040  
    2617 0000d060     b203          move    A0,*A3(OYVEL),L
         0000d070     0060  
    2618 0000d080     b203          move    A0,*A3(OZVEL),L
         0000d090     00e0  
    2619                    
    2620 0000d0a0     4c60          move    A3,A0
    2621 0000d0b0     0d5f          calla   INSOBJ
         0000d0c0 00000000! 
    2622 0000d0e0     09c1          movi    1,A1    ;clr zero flag
         0000d0f0     0001  
    2623 0000d100     c005          jruc    StumpX
    2624                    
    2625 0000d110           NoHdXPal:
    2626 0000d110     4c60          move    A3,A0
    2627 0000d120     0d5f          calla   FREEOBJ
         0000d130 00000000! 
    2628 0000d150           NoStump:
    2629 0000d150     5600          clr     A0
    2630 0000d160           StumpX:
    2631 0000d160     09af          mmfm    SP,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000d170     07fe  
    2632 0000d180     0960          rets
    2633                    **************************************************************************
    2634                    
    2635                    **************************************************************************
    2636 0000d190           MkHdChnk:
    2637                    ;Parms
    2638                    ;A10-ptr to head data
    2639                    ;A1-IMG to create
    2640                    ;A3-Z position offset from base
    2641                    ;A14-init table
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   63

    2642                    ;Rets
    2643                    ;A0 ptr to new obj
    2644                    ;* create a head chunk positioned about the anim pt of the head
    2645 0000d190     098f          mmtm    SP,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000d1a0     7fe0  
    2646 0000d1b0     0d5f          calla   GETOBJ
         0000d1c0 00000000! 
    2647 0000d1e0     ca28          jrz     NoChnk
    2648 0000d1f0     4c02          move    A0,A2
    2649 0000d200     0d5f          calla   STFOBJ
         0000d210 00000000! 
    2650                    
    2651 0000d230     b620          move    *A1(ICMAP),A0,L 
         0000d240     0060  
    2652 0000d250     0d5f          calla   GETFPAL
         0000d260 00000000! 
    2653 0000d280     ca1a          jrz     NoCPal
    2654 0000d290     b002          move    A0,*A2(OPAL),W
         0000d2a0     0160  
    2655                            
    2656 0000d2b0     4c48          move    A2,A8
    2657 0000d2c0     b747          move    *A10(HAT),A7,L
         0000d2d0     0060  
    2658 0000d2e0     b4e4          move    *A7(OFLAGS),A4,W
         0000d2f0     0100  
    2659                    * ANI: A1=IMAGE PTR, A4=FLAGS, A8=OBJECT STRUCTURE POINTER TO BE UPDATED                                
    2660 0000d300     0d5f          calla   ANI
         0000d310 00000000! 
    2661 0000d330     b4e0          move    *A7(OZPOS),A0,W
         0000d340     00d0  
    2662 0000d350     4060          add     A3,A0
    2663 0000d360     b002          move    A0,*A2(OZPOS),W
         0000d370     00d0  
    2664                    
    2665 0000d380     4ce8          move    A7,A8
    2666 0000d390     4c40          move    A2,A0
    2667 0000d3a0     0d5f          calla   SetAniP
         0000d3b0 00000000! 
    2668 0000d3d0     4c40          move    A2,A0
    2669 0000d3e0     0d5f          calla   INSOBJ
         0000d3f0 00000000! 
    2670 0000d410     4c40          move    A2,A0
    2671 0000d420     c005          jruc    MkChnkX
    2672                    
    2673 0000d430           NoCPal:
    2674 0000d430     4c40          move    A2,A0
    2675 0000d440     0d5f          calla   FREEOBJ
         0000d450 00000000! 
    2676 0000d470           NoChnk:
    2677 0000d470     5600          clr     A0
    2678 0000d480           MkChnkX:
    2679 0000d480     09af          mmfm    SP,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000d490     07fe  
    2680 0000d4a0     0960          rets
    2681                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   64

    2682                    
    2683                    
    2684                    **************************************************************************
    2685 0000d4b0           DOCHUNKS:
    2686                    ;* PARMS
    2687                    ;   A1 - ptr to chunk table
    2688                    ;   A2 - ptr to init tbl
    2689                    ;   A4 - ptr to ground hit routine
    2690                    ;   A6 - Y:X OFFSET of where to start chunks from object
    2691                    ;   A8 - ptr to obj to send chunks from
    2692 0000d4b0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14
         0000d4c0     fffe  
    2693                    ;       move    *A10,A8,L
    2694 0000d4d0     4c4a          move    A2,A10          ;ptr to init table
    2695                    
    2696                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    2697 0000d4e0     0d5f          calla   GETANIXY
         0000d4f0 00000000! 
    2698 0000d510     4c6b          move    A3,A11
    2699 0000d520     2e0b          srl     16,A11
    2700 0000d530     ee4b          movy    A2,A11
    2701 0000d540     e0cb          addxy   A6,A11
    2702                    
    2703 0000d550     b503          move    *A8(OZPOS),A3,W
         0000d560     00d0  
    2704 0000d570     1423          dec     A3
    2705 0000d580     b502          move    *A8(OFLAGS),A2,W
         0000d590     0100  
    2706 0000d5a0     2602          sll     16,A2
    2707 0000d5b0     ee43          movy    A2,A3           ;A3 stuff into PDATA
    2708                    
    2709 0000d5c0     4c2e          move    A1,A14
    2710 0000d5d0           CHUNKLP:
    2711 0000d5d0     05a0          move    @FRAGCNT,A0,W
         0000d5e0 00000000- 
    2712 0000d600     0b40          cmpi    70,A0
         0000d610     ffb9  
    2713 0000d620     c737          jrgt    CHUNKX
    2714                    
    2715 0000d630     97c9          move    *A14+,A9,L
    2716 0000d640     ca35          jrz     CHUNKX
    2717                    
    2718                    *       TRAJEC  - CREATES A NEW OBJECT WITH THE GIVEN VEL AND POS PARAMS *
    2719                    *       TRAJEC1 - JUST DOES THE TRAJECTORY WITH AN EXISTING OBJECT       *
    2720                    * A8 = RESERVED FOR OBJECT BLOCK POINTER                                 *
    2721                    * A9 = INITIAL ANIMATION LIST                                            *
    2722                    * A10 = PTR TO OBJECT INITIALIZATION TABLE(IF = 0 THEN DEFAULT IS USED   *
    2723                    * A11 = INITIAL YPOS:XPOS                                                *
    2724                    * PDATA      = [DMA FLAGS,INITIAL Z-POSITION]                            *
    2725                    * PDATA+20H  = INITIAL X-VELOCITY (32 BITS)                              *
    2726                    * PDATA+40H  = INITIAL Y-VELOCITY (32 BITS)                              *
    2727                    * PDATA+60H  = INTIIAL Z-VELOCITY (32 BITS)                              *
    2728                    * PDATA+80H  = SECOND ANIMATION LIST (32 BITS)                           *                              
    2729                    * PDATA+A0H  = PROCESS TO CREATE UPON DEATH (32 BITS)                    *
    2730 0000d650                   CREATE  CHUNKPID,NTRAJEC
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   65

    2731 0000d6d0     ca2c          jrz     CHUNKX
    2732 0000d6e0     4c07          move    A0,A7
    2733 0000d6f0     05a0          move    @FRAGCNT,A0,W
         0000d700 00000000- 
    2734 0000d720     1020          inc     A0
    2735 0000d730     0580          move    A0,@FRAGCNT,W
         0000d740 00000000- 
    2736                    
    2737 0000d760     b267          move    A3,*A7(PDATA),L ;FLAGS:ZPOS
         0000d770     0060  
    2738 0000d780     09e0          movi    040000H,A0      ;XVEL
         0000d790 00040000  
    2739 0000d7b0     0d5f          calla   SRAND
         0000d7c0 00000000! 
    2740 0000d7e0     b207          move    A0,*A7(PDATA+020H),L
         0000d7f0     0080  
    2741 0000d800     09e0          movi    040000H,A0      ;YVEL
         0000d810 00040000  
    2742 0000d830     0d5f          calla   RANDU
         0000d840 00000000! 
    2743 0000d860     03a0          neg     A0
    2744 0000d870     0d00          subi    030000H,A0
         0000d880 fffcffff  
    2745 0000d8a0     b207          move    A0,*A7(PDATA+040H),L
         0000d8b0     00a0  
    2746 0000d8c0     09e0          movi    010000H,A0      ;ZVEL
         0000d8d0 00010000  
    2747 0000d8f0     0d5f          calla   SRAND
         0000d900 00000000! 
    2748 0000d920     b207          move    A0,*A7(PDATA+060H),L
         0000d930     00c0  
    2749 0000d940     5600          clr     A0
    2750 0000d950     b207          move    A0,*A7(PDATA+080H),L
         0000d960     00e0  
    2751 0000d970     b287          move    A4,*A7(PDATA+0A0H),L    ;GRND PROC
         0000d980     0100  
    2752 0000d990     c0c3          jruc    CHUNKLP
    2753                    
    2754 0000d9a0           CHUNKX:
    2755 0000d9a0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14
         0000d9b0     7fff  
    2756 0000d9c0     0960          rets
    2757                    **************************************************************************
    2758                    
    2759                    **************************************************************************
    2760                    ;**** CHNKSINK IS ENTRY POINT...
    2761 0000d9d0           NxtFrm:
    2762 0000d9d0     9520          move    *A9+,A0,W
    2763 0000d9e0     4c01          move    A0,A1
    2764 0000d9f0     0b80          andi    FLIPBITS,A0
         0000da00 ffffbfff  
    2765 0000da20     ca01          jrz     SkAFLP2
    2766 0000da30     9520          move    *A9+,A0,W
    2767 0000da40           SkAFLP2:
    2768 0000da40     0b81          andi    NEWPALET,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   66

         0000da50 ffffdfff  
    2769 0000da70     ca01          jrz     CHNKSINK
    2770 0000da80     9720          move    *A9+,A0,L
    2771                    
    2772 0000da90           CHNKSINK:
    2773 0000da90     9720          move    *A9+,A0,L
    2774 0000daa0     cbf2          jrnz    NxtFrm
    2775                    
    2776 0000dab0     09e0          movi    ChunkSND,A0
         0000dac0 00000080' 
    2777 0000dae0     0d5f          calla   ONESND
         0000daf0 00000000! 
    2778                    
    2779 0000db10     1881          MOVK    4,A1
    2780 0000db20                   JSRP    FRANIM
    2781                    
    2782 0000db90                   sleep   20
    2783 0000dbd0     09e9          movi    [1,1],A9
         0000dbe0 00010001  
    2784 0000dc00                   jsrp    OSINK
    2785 0000dc70     4d00          move    A8,A0
    2786 0000dc80     0d5f          calla   DELPAL
         0000dc90 00000000! 
    2787 0000dcb0     0d5f          calla   DELSOBJ
         0000dcc0 00000000! 
    2788                    
    2789 0000dce0     05a0          move    @FRAGCNT,A0,W
         0000dcf0 00000000- 
    2790 0000dd10     1420          dec     A0
    2791 0000dd20     0580          move    A0,@FRAGCNT,W
         0000dd30 00000000- 
    2792                    
    2793 0000dd50                   DIE
    2794                    **************************************************************************
    2795                    
    2796                    
    2797                    
    2798                    **************************************************************************
    2799                    ;*  SKELETON PORTION OF HEAD
    2800                    **************************************************************************
    2801                    
    2802                    **************************************************************************
    2803 0000dd80           Skeleton:
    2804                    ;* PROCESS TO CONTROL SKELETON
    2805 0000dd80     8748          move    *A10,A8,L
    2806 0000dd90     0d5f          calla   BLIPOFF
         0000dda0 00000000! 
    2807 0000ddc0     09e0          movi    SKULBLIP,A0
         0000ddd0 00000000! 
    2808 0000ddf0     b208          move    A0,*A8(OBLIPIMG),L
         0000de00     0260  
    2809                    
    2810 0000de10     5600          clr     A0
    2811 0000de20     ac0d          movb    A0,*A13(ANIMTIKS)
         0000de30     01a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   67

    2812 0000de40     ac0d          movb    A0,*A13(BRAINTIKS)
         0000de50     01b0  
    2813 0000de60     ac0d          movb    A0,*A13(BITING)
         0000de70     0198  
    2814 0000de80     ac0d          movb    A0,*A13(INBITE)
         0000de90     00e0  
    2815 0000dea0     ac0d          movb    A0,*A13(TUNGDEAD)
         0000deb0     00f0  
    2816                    
    2817 0000dec0     b748          move    *A10(STNG),A8,L
         0000ded0     00a0  
    2818 0000dee0     09e0          movi    STNGCOLL,A0
         0000def0 0000f520' 
    2819 0000df10     b208          move    A0,*A8(OCVECT),L
         0000df20     01d0  
    2820                    
    2821 0000df30     18c0          movk    6,A0
    2822 0000df40     ac0a          movb    A0,*A10(NUMPARTS)
         0000df50     0200  
    2823 0000df60     1860          movk    3,A0
    2824 0000df70     ac0a          movb    A0,*A10(BASPARTS)
         0000df80     0208  
    2825 0000df90     1860          movk    3,A0
    2826 0000dfa0     ac0a          movb    A0,*A10(SKLPARTS)
         0000dfb0     0210  
    2827                    
    2828 0000dfc0     09c0          movi    0FFH,A0         
         0000dfd0     00ff  
    2829 0000dfe0     ac0a          movb    A0,*A10(INUSE)  ;all parts are active
         0000dff0     0220  
    2830 0000e000     af40          movb    *A10(ONLIST),A0 ;list is only for sklparts now
         0000e010     0228  
    2831 0000e020     2460          sll     3,A0
    2832 0000e030     ac0a          movb    A0,*A10(ONLIST) 
         0000e040     0228  
    2833                    
    2834 0000e050     5729          clr     A9
    2835 0000e060     b32d          move    A9,*A13(ANIMPTR),L
         0000e070     0120  
    2836 0000e080     0d3f          callr   GetSAni
         0000e090     060a  
    2837                    
    2838 0000e0a0     19a0          movk    13,A0
    2839 0000e0b0     ac0d          movb    A0,*A13(SPINELEN)
         0000e0c0     0188  
    2840 0000e0d0                   jsrp    MkSpine
    2841                    
    2842 0000e140     8748          move    *A10,A8,L
    2843 0000e150     0d5f          calla   ClrVel
         0000e160 00000000! 
    2844 0000e180     0d3f          callr   UpdBaseV
         0000e190     f664  
    2845                    
    2846 0000e1a0     09e1          movi    SKULCOLL,A1
         0000e1b0 0000f430' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   68

    2847 0000e1d0     b740          move    *A10(SKULL),A0,L
         0000e1e0     0060  
    2848 0000e1f0     b220          move    A1,*A0(OCVECT),L
         0000e200     01d0  
    2849 0000e210     b740          move    *A10(JAW),A0,L
         0000e220     0080  
    2850 0000e230     b220          move    A1,*A0(OCVECT),L
         0000e240     01d0  
    2851                    
    2852 0000e250     09e1          movi    SBSECOLL,A1
         0000e260 0000f700' 
    2853 0000e280     b740          move    *A10(STUMP),A0,L
         0000e290     0040  
    2854 0000e2a0     b220          move    A1,*A0(OCVECT),L
         0000e2b0     01d0  
    2855 0000e2c0     b740          move    *A10(BASEL),A0,L
         0000e2d0     0000  
    2856 0000e2e0     b220          move    A1,*A0(OCVECT),L
         0000e2f0     01d0  
    2857 0000e300     b740          move    *A10(BASER),A0,L
         0000e310     0020  
    2858 0000e320     b220          move    A1,*A0(OCVECT),L
         0000e330     01d0  
    2859                    
    2860 0000e340                   push    A10
    2861 0000e350     18ea          movk    7,A10
    2862 0000e360                   CREATE  SKLCCPID,SKEYE
    2863 0000e3e0                   pull    A10
    2864                    
    2865 0000e400     c000          jruc    SKEL_MV
         0000e410     029c  
    2866                    **************************************************************************
    2867                    
    2868                    **************************************************************************
    2869                    ;MAKE SPINE - jsrp to, retps when spine is ready to go...
    2870                    
    2871 0000e420           WaitSObj:
    2872 0000e420                   SLEEP   1
    2873 0000e460           MkSpine:
    2874 0000e460     0d5f          calla   GETOBJ
         0000e470 00000000! 
    2875 0000e490     caf8          jrz     WaitSObj
    2876 0000e4a0     b20d          move    A0,*A13(SPINE),L
         0000e4b0     00c0  
    2877 0000e4c0     0d5f          calla   CLROBJ          ;Clear out SPINE data object
         0000e4d0 00000000! 
    2878                            
    2879                    ;* ALLOCATE OBJECTS
    2880 0000e4f0     b7ab          move    *A13(SPINE),A11,L       ;load up Xtra data obj with ptrs to parts
         0000e500     00c0  
    2881 0000e510     afa7          movb    *A13(SPINELEN),A7
         0000e520     0188  
    2882 0000e530     c007          jruc    GetSObjs
    2883 0000e540           WtSObj:
    2884 0000e540                   PUSHP   A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   69

    2885 0000e550                   SLEEP   1
    2886 0000e590                   PULLP   A7
    2887 0000e5b0           GetSObjs:
    2888 0000e5b0     0d5f          calla   GETOBJ
         0000e5c0 00000000! 
    2889 0000e5e0     caf5          jrz     WtSObj
    2890 0000e5f0     920b          move    A0,*A11+,L
    2891 0000e600     3cc7          dsjs    A7,GetSObjs
    2892                    
    2893                    ;* INITIALIZE OBJECTS
    2894 0000e610     b7ab          move    *A13(SPINE),A11,L
         0000e620     00c0  
    2895 0000e630     afa7          movb    *A13(SPINELEN),A7
         0000e640     0188  
    2896 0000e650           StuffemS:
    2897 0000e650     09ee          movi    SpineIni,A14,L
         0000e660 00000000! 
    2898 0000e680     9760          move    *A11+,A0,L
    2899 0000e690     0d5f          calla   STFOBJ
         0000e6a0 00000000! 
    2900 0000e6c0     b3a0          move    A13,*A0(OPLINK),L
         0000e6d0     01f0  
    2901 0000e6e0     3d47          dsjs    A7,StuffemS
    2902                    
    2903                    ;* ALLOCATE AND STUFF PALETTES
    2904 0000e6f0     b7ab          move    *A13(SPINE),A11,L
         0000e700     00c0  
    2905 0000e710     afa7          movb    *A13(SPINELEN),A7
         0000e720     0188  
    2906 0000e730           IniSPals:
    2907 0000e730     09e0          movi    skelpal,A0
         0000e740 00000000! 
    2908 0000e760     0d5f          calla   GETFPAL
         0000e770 00000000! 
    2909 0000e790     cb09          jrnz    GotSP
    2910 0000e7a0     098c          mmtm    A12,A6,A7
         0000e7b0     0300  
    2911 0000e7c0                   SLEEP   1
    2912 0000e800     09ac          mmfm    A12,A6,A7
         0000e810     00c0  
    2913 0000e820     c0f0          jruc    IniSPals
    2914 0000e830           GotSP:
    2915 0000e830     9761          move    *A11+,A1,L
    2916 0000e840     b001          move    A0,*A1(OPAL),W
         0000e850     0160  
    2917 0000e860     3e87          dsj     A7,IniSPals
    2918                    
    2919                            ;* set initial position of SPINE
    2920 0000e870     b748          move    *A10(BASEL),A8,L
         0000e880     0000  
    2921 0000e890     0d5f          calla   ClrVel
         0000e8a0 00000000! 
    2922 0000e8c0     0d3f          callr   StSpineV
         0000e8d0     008a  
    2923 0000e8e0     0d3f          callr   StSpineP
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   70

         0000e8f0     009b  
    2924                    
    2925                    ;* INSERT OBJECTS on the obj list and on the ENEMIES list
    2926 0000e900     b7ab          move    *A13(SPINE),A11,L
         0000e910     00c0  
    2927 0000e920     afa7          movb    *A13(SPINELEN),A7
         0000e930     0188  
    2928 0000e940     09e1          movi    ENEMIES,A1
         0000e950 00000000! 
    2929 0000e970           InsertS:
    2930 0000e970     9760          move    *A11+,A0,L
    2931 0000e980     0d5f          calla   INSOBJ
         0000e990 00000000! 
    2932 0000e9b0     0d5f          calla   ADDSUPP
         0000e9c0 00000000! 
    2933 0000e9e0     3d07          dsjs    A7,InsertS
    2934 0000e9f0                   retp
    2935                    **************************************************************************
    2936                    
    2937                    **************************************************************************
    2938 0000ea20           HedSpine:
    2939                    ;MOVE SPINE FROM HEAD
    2940                    ;PARMS
    2941                    ; A0 - multiplier for portion of dist between previous and next bone
    2942                    ;       to place the current bone
    2943                    ;       0=0%, 0FFFFH=99.99%
    2944                    
    2945 0000ea20     098f          mmtm    SP,A9
         0000ea30     0040  
    2946                    
    2947                            ;**** GET COORS OF HEAD
    2948 0000ea40     b748          move    *A10(SKULL),A8,L
         0000ea50     0060  
    2949                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    2950 0000ea60     0d5f          calla   GETANIXY
         0000ea70 00000000! 
    2951 0000ea90     0b22          addi    010000H,A2
         0000eaa0 00010000  
    2952 0000eac0     0d03          subi    0E0000H,A3
         0000ead0 fff1ffff  
    2953 0000eaf0     4c45          move    A2,A5           ;A5 = Y coor of previous piece
    2954 0000eb00     4c67          move    A3,A7           ;A7 = X coor of previous piece
    2955 0000eb10     b709          move    *A8(OZVAL),A9,L ;A9 = Z coor of previous piece
         0000eb20     00c0  
    2956                    
    2957 0000eb30     b7ab          move    *A13(SPINE),A11,L
         0000eb40     00c0  
    2958 0000eb50     afa6          movb    *A13(SPINELEN),A6
         0000eb60     0188  
    2959 0000eb70     ca1d          jrz     HedSpX
    2960 0000eb80     1426          dec     A6                      ;don't update bottom bone
    2961 0000eb90     ca1b          jrz     HedSpX
    2962 0000eba0           SpineLp:
    2963 0000eba0     9761          move    *A11+,A1,L      ;Load ptr to current obj
    2964                            ;**** GET COORS OF NEXT PIECE DOWN
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   71

    2965 0000ebb0     8768          move    *A11,A8,L     ;get next spine bone
    2966 0000ebc0     b702          move    *A8(OYVAL),A2,L
         0000ebd0     00a0  
    2967 0000ebe0     b703          move    *A8(OXVAL),A3,L
         0000ebf0     0080  
    2968 0000ec00     b704          move    *A8(OZVAL),A4,L
         0000ec10     00c0  
    2969 0000ec20     4445          sub     A2,A5           ;A5 = Y ( (P-1) - (P+1) )
    2970 0000ec30     2a05          sra     16,A5
    2971 0000ec40     5c05          mpys    A0,A5
    2972 0000ec50     4045          add     A2,A5
    2973 0000ec60     b2a1          move    A5,*A1(OYVAL),L
         0000ec70     00a0  
    2974 0000ec80     4467          sub     A3,A7           ;A7 = X ( (P-1) - (P+1) )
    2975 0000ec90     2a07          sra     16,A7
    2976 0000eca0     5c07          mpys    A0,A7
    2977 0000ecb0     4067          add     A3,A7
    2978 0000ecc0     b2e1          move    A7,*A1(OXVAL),L
         0000ecd0     0080  
    2979 0000ece0     4489          sub     A4,A9           ;A9 = Z ( (P-1) - (P+1) )
    2980 0000ecf0     2a09          sra     16,A9
    2981 0000ed00     5c09          mpys    A0,A9
    2982 0000ed10     4089          add     A4,A9
    2983 0000ed20     b321          move    A9,*A1(OZVAL),L
         0000ed30     00c0  
    2984 0000ed40     3f66          dsj     A6,SpineLp
    2985                            
    2986 0000ed50           HedSpX:
    2987 0000ed50     09af          mmfm    SP,A9
         0000ed60     0200  
    2988 0000ed70     0960          rets
    2989                    **************************************************************************
    2990                    
    2991                    
    2992                    **************************************************************************
    2993 0000ed80           BasSpine:
    2994                    ;MOVE SPINE FROM BASE
    2995                    ;PARMS
    2996                    ; A0 - multiplier for portion of dist between previous and next bone
    2997                    ;       to place the current bone
    2998                    ;       0=0%, 0FFFFH=99.99%
    2999                    
    3000 0000ed80     098f          mmtm    SP,A9
         0000ed90     0040  
    3001                    
    3002 0000eda0     b7ab          move    *A13(SPINE),A11,L
         0000edb0     00c0  
    3003 0000edc0     afa6          movb    *A13(SPINELEN),A6
         0000edd0     0188  
    3004 0000ede0     4cc4          move    A6,A4
    3005 0000edf0     24a4          sll     5,A4
    3006 0000ee00     408b          add     A4,A11
    3007                    
    3008                            ;*Get Coors of Bottom Bone
    3009 0000ee10     1426          dec     A6      ;LOADING BOTTOM BONE
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   72

    3010 0000ee20     a761          move    -*A11,A1,L     ;at end of list so use the base
    3011 0000ee30     b625          move    *A1(OYVAL),A5,L ;A5 = Y coor of previous piece
         0000ee40     00a0  
    3012 0000ee50     b627          move    *A1(OXVAL),A7,L ;A7 = X coor of previous piece
         0000ee60     0080  
    3013 0000ee70     b629          move    *A1(OZVAL),A9,L ;A9 = Z coor of previous piece
         0000ee80     00c0  
    3014                    
    3015 0000ee90           SpineLp1:
    3016 0000ee90     a761          move    -*A11,A1,L      ;Load ptr to current obj
    3017                            ;**** GET COORS OF PREVIOUS PIECE
    3018 0000eea0     0b46          cmpi    1,A6
         0000eeb0     fffe  
    3019 0000eec0     cb0c          jrnz    SkHd
    3020                            ;**** GET COORS OF HEAD
    3021 0000eed0     b748          move    *A10(SKULL),A8,L
         0000eee0     0060  
    3022                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    3023 0000eef0     0d5f          calla   GETANIXY
         0000ef00 00000000! 
    3024 0000ef20     0b22          addi    010000H,A2
         0000ef30 00010000  
    3025 0000ef50     0d03          subi    0E0000H,A3
         0000ef60 fff1ffff  
    3026 0000ef80     c008          jruc    GtNCoor
    3027 0000ef90           SkHd:
    3028 0000ef90     4d64          move    A11,A4
    3029 0000efa0     a688          move    -*A4,A8,L     ;get previous spine bone
    3030 0000efb0     b702          move    *A8(OYVAL),A2,L
         0000efc0     00a0  
    3031 0000efd0     b703          move    *A8(OXVAL),A3,L
         0000efe0     0080  
    3032 0000eff0     b704          move    *A8(OZVAL),A4,L
         0000f000     00c0  
    3033 0000f010           GtNCoor:
    3034 0000f010     4445          sub     A2,A5           ;A5 = Y ( (P-1) - (P+1) )
    3035 0000f020     2a05          sra     16,A5
    3036 0000f030     5c05          mpys    A0,A5
    3037 0000f040     4045          add     A2,A5
    3038 0000f050     b2a1          move    A5,*A1(OYVAL),L
         0000f060     00a0  
    3039 0000f070     4467          sub     A3,A7           ;A7 = X ( (P-1) - (P+1) )
    3040 0000f080     2a07          sra     16,A7
    3041 0000f090     5c07          mpys    A0,A7
    3042 0000f0a0     4067          add     A3,A7
    3043 0000f0b0     b2e1          move    A7,*A1(OXVAL),L
         0000f0c0     0080  
    3044 0000f0d0     4489          sub     A4,A9           ;A9 = Z ( (P-1) - (P+1) )
    3045 0000f0e0     2a09          sra     16,A9
    3046 0000f0f0     5c09          mpys    A0,A9
    3047 0000f100     4089          add     A4,A9
    3048 0000f110     b321          move    A9,*A1(OZVAL),L
         0000f120     00c0  
    3049                    
    3050 0000f130     0d86          dsj     A6,SpineLp1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   73

         0000f140     ffd4  
    3051                            
    3052 0000f150     09af          mmfm    SP,A9
         0000f160     0200  
    3053 0000f170     0960          rets
    3054                    **************************************************************************
    3055                    
    3056                    
    3057                    **************************************************************************
    3058 0000f180           StSpineV:
    3059 0000f180     b701          move    *A8(OXVEL),A1,L
         0000f190     0040  
    3060 0000f1a0     b702          move    *A8(OYVEL),A2,L
         0000f1b0     0060  
    3061 0000f1c0     b703          move    *A8(OZVEL),A3,L
         0000f1d0     00e0  
    3062                    
    3063 0000f1e0     b7ab          move    *A13(SPINE),A11,L
         0000f1f0     00c0  
    3064 0000f200     afa7          movb    *A13(SPINELEN),A7
         0000f210     0188  
    3065 0000f220           StVels:
    3066 0000f220     9760          move    *A11+,A0,L
    3067 0000f230     b220          move    A1,*A0(OXVEL),L
         0000f240     0040  
    3068 0000f250     b240          move    A2,*A0(OYVEL),L
         0000f260     0060  
    3069 0000f270     b260          move    A3,*A0(OZVEL),L
         0000f280     00e0  
    3070 0000f290     3d07          dsjs    A7,StVels
    3071 0000f2a0     0960          rets
    3072                    **************************************************************************
    3073                    
    3074                    **************************************************************************
    3075 0000f2b0           StSpineP:
    3076                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    3077 0000f2b0     0d5f          calla   GETANIXY
         0000f2c0 00000000! 
    3078 0000f2e0     b701          move    *A8(OZVAL),A1,L
         0000f2f0     00c0  
    3079 0000f300     0d03          subi    0E0000H,A3
         0000f310 fff1ffff  
    3080 0000f330     0b22          addi    010000H,A2
         0000f340 00010000  
    3081                    
    3082 0000f360     b7ab          move    *A13(SPINE),A11,L
         0000f370     00c0  
    3083 0000f380     afa7          movb    *A13(SPINELEN),A7
         0000f390     0188  
    3084 0000f3a0           StPoses:
    3085 0000f3a0     9760          move    *A11+,A0,L
    3086 0000f3b0     b260          move    A3,*A0(OXVAL),L
         0000f3c0     0080  
    3087 0000f3d0     b240          move    A2,*A0(OYVAL),L
         0000f3e0     00a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   74

    3088 0000f3f0     b220          move    A1,*A0(OZVAL),L
         0000f400     00c0  
    3089 0000f410     3d07          dsjs    A7,StPoses
    3090 0000f420     0960          rets
    3091                    **************************************************************************
    3092                    
    3093                    
    3094                    **************************************************************************
    3095 0000f430           SKULCOLL:
    3096 0000f430     0b10          .WORD   B1OID|BULLETID
    3097 0000f440 0000fca0'         .LONG   ClSklBul
    3098 0000f460     0b14          .WORD   B1OID|ROCKETID
    3099 0000f470 0000f8c0'         .LONG   ClSklRck
    3100 0000f490     0b20          .WORD   B2OID|BULLETID
    3101 0000f4a0 0000fca0'         .LONG   ClSklBul
    3102 0000f4c0     0b24          .WORD   B2OID|ROCKETID
    3103 0000f4d0 0000f8c0'         .LONG   ClSklRck
    3104 0000f4f0     0000          .WORD   0
    3105 0000f500 00000000!         .LONG   DUMRTSG
    3106                    **************************************************************************
    3107                    
    3108                    **************************************************************************
    3109 0000f520           STNGCOLL:
    3110 0000f520     0b10          .WORD   B1OID|BULLETID
    3111 0000f530 0000fca0'         .LONG   ClSklBul
    3112 0000f550     0b14          .WORD   B1OID|ROCKETID
    3113 0000f560 0000f850'         .LONG   ClStngRck
    3114 0000f580     0b20          .WORD   B2OID|BULLETID
    3115 0000f590 0000fca0'         .LONG   ClSklBul
    3116 0000f5b0     0b24          .WORD   B2OID|ROCKETID
    3117 0000f5c0 0000f850'         .LONG   ClStngRck
    3118 0000f5e0     0000          .WORD   0
    3119 0000f5f0 00000000!         .LONG   DUMRTSG
    3120                    **************************************************************************
    3121                    
    3122                    **************************************************************************
    3123 0000f610           SPNECOLL:
    3124 0000f610     0b10          .WORD   B1OID|BULLETID
    3125 0000f620 0000fd60'         .LONG   ClSpnBul
    3126 0000f640     0b14          .WORD   B1OID|ROCKETID
    3127 0000f650 0000fa70'         .LONG   ClSpnRck
    3128 0000f670     0b20          .WORD   B2OID|BULLETID
    3129 0000f680 0000fd60'         .LONG   ClSpnBul
    3130 0000f6a0     0b24          .WORD   B2OID|ROCKETID
    3131 0000f6b0 0000fa70'         .LONG   ClSpnRck
    3132 0000f6d0     0000          .WORD   0
    3133 0000f6e0 00000000!         .LONG   DUMRTSG
    3134                    **************************************************************************
    3135                    
    3136                    **************************************************************************
    3137 0000f700           SBSECOLL:
    3138 0000f700     0b10          .WORD   B1OID|BULLETID
    3139 0000f710 0000fe70'         .LONG   ClSbsBul
    3140 0000f730     0b14          .WORD   B1OID|ROCKETID
    3141 0000f740 0000fbd0'         .LONG   ClSbsRck
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   75

    3142 0000f760     0b20          .WORD   B2OID|BULLETID
    3143 0000f770 0000fe70'         .LONG   ClSbsBul
    3144 0000f790     0b24          .WORD   B2OID|ROCKETID
    3145 0000f7a0 0000fbd0'         .LONG   ClSbsRck
    3146 0000f7c0     1000          .WORD   P1OID
    3147 0000f7d0 00009ec0'         .LONG   ClBasPly
    3148 0000f7f0     2000          .WORD   P2OID
    3149 0000f800 00009ec0'         .LONG   ClBasPly
    3150 0000f820     0000          .WORD   0
    3151 0000f830 00000000!         .LONG   DUMRTSG
    3152                    **************************************************************************
    3153                    
    3154                    **************************************************************************
    3155 0000f850           ClStngRck:
    3156 0000f850     4d06          move    A8,A6                   ;KILLERS OBJ
    3157 0000f860     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000f870     01f0  
    3158 0000f880     1820          movk    1,A0
    3159 0000f890     ac27          movb    A1,*A7(TUNGDEAD)
         0000f8a0     00f0  
    3160 0000f8b0     c00c          jruc    TngEntry
    3161                    
    3162                    **************************************************************************
    3163 0000f8c0           ClSklRck:
    3164 0000f8c0     4d06          move    A8,A6                   ;KILLERS OBJ
    3165 0000f8d0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000f8e0     01f0  
    3166                    
    3167 0000f8f0     09c0          movi    100,A0
         0000f900     0064  
    3168 0000f910     0d5f          calla   RANDPER
         0000f920 00000000! 
    3169 0000f940     c903          jrnc    TngEntry
    3170 0000f950     1820          movk    1,A0
    3171 0000f960     ac27          movb    A1,*A7(TUNGDEAD)
         0000f970     00f0  
    3172                    
    3173 0000f980           TngEntry:
    3174 0000f980     09c0          movi    120,A0
         0000f990     0078  
    3175 0000f9a0     ac07          movb    A0,*A7(BRAINTIKS)
         0000f9b0     01b0  
    3176                    
    3177 0000f9c0     09e0          movi    0C0000H,A0
         0000f9d0 000c0000  
    3178 0000f9f0     0d3f          callr   SklBackV
         0000fa00     00fe  
    3179 0000fa10     09e0          movi    030000H,A0
         0000fa20 00030000  
    3180 0000fa40     0d3f          callr   SklUpV
         0000fa50     010c  
    3181                    
    3182 0000fa60     0960          rets
    3183                    **************************************************************************
    3184                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   76

    3185                    **************************************************************************
    3186 0000fa70           ClSpnRck:
    3187 0000fa70     4d06          move    A8,A6                   ;KILLERS OBJ
    3188 0000fa80     4c08          move    A0,A8                   ;MB OBJ
    3189 0000fa90     b607          move    *A0(OPLINK),A7,L        ;MB Proc
         0000faa0     01f0  
    3190 0000fab0     09c0          movi    70,A0
         0000fac0     0046  
    3191 0000fad0     ac07          movb    A0,*A7(BRAINTIKS)
         0000fae0     01b0  
    3192 0000faf0     0d5f          calla   SpineHit
         0000fb00 0000fef0' 
    3193 0000fb20     09e0          movi    060000H,A0
         0000fb30 00060000  
    3194 0000fb50     0d3f          callr   SklBackV
         0000fb60     00e8  
    3195 0000fb70     09e0          movi    020000H,A0
         0000fb80 00020000  
    3196 0000fba0     0d3f          callr   SklUpV
         0000fbb0     00f6  
    3197 0000fbc0     0960          rets
    3198                    **************************************************************************
    3199                    
    3200                    **************************************************************************
    3201 0000fbd0           ClSbsRck:
    3202 0000fbd0     4d06          move    A8,A6                   ;KILLERS OBJ
    3203 0000fbe0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000fbf0     01f0  
    3204 0000fc00     09c0          movi    60,A0
         0000fc10     003c  
    3205 0000fc20     ac07          movb    A0,*A7(BRAINTIKS)
         0000fc30     01b0  
    3206                    
    3207 0000fc40     09e0          movi    090000H,A0
         0000fc50 00090000  
    3208 0000fc70     0d3f          callr   BasBackV
         0000fc80     00c2  
    3209 0000fc90     0960          rets
    3210                    **************************************************************************
    3211                    
    3212                    **************************************************************************
    3213 0000fca0           ClSklBul:
    3214 0000fca0     4d06          move    A8,A6                   ;KILLERS OBJ
    3215 0000fcb0     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000fcc0     01f0  
    3216                    
    3217 0000fcd0     09c0          movi    6,A0
         0000fce0     0006  
    3218 0000fcf0     0d3f          callr   SkulBack
         0000fd00     00f4  
    3219 0000fd10     09c0          movi    04000H,A0
         0000fd20     4000  
    3220 0000fd30     0d3f          callr   SklBackV
         0000fd40     00ca  
    3221                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   77

    3222 0000fd50     0960          rets
    3223                    **************************************************************************
    3224                    
    3225                    **************************************************************************
    3226 0000fd60           ClSpnBul:
    3227 0000fd60     4d06          move    A8,A6                   ;KILLERS OBJ
    3228 0000fd70     4c08          move    A0,A8                   ;MB OBJ
    3229 0000fd80     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000fd90     01f0  
    3230 0000fda0     0d5f          calla   SpineHit
         0000fdb0 0000fef0' 
    3231 0000fdd0     09c0          movi    04000H,A0
         0000fde0     4000  
    3232 0000fdf0     0d3f          callr   SklBackV
         0000fe00     00be  
    3233 0000fe10     09e0          movi    020000H,A0
         0000fe20 00020000  
    3234 0000fe40     0d3f          callr   SklUpV
         0000fe50     00cc  
    3235 0000fe60     0960          rets
    3236                    **************************************************************************
    3237                    
    3238                    **************************************************************************
    3239 0000fe70           ClSbsBul:
    3240 0000fe70     4d06          move    A8,A6                   ;KILLERS OBJ
    3241 0000fe80     b607          move    *A0(OPLINK),A7,L        ;MB OBJ
         0000fe90     01f0  
    3242                    
    3243 0000fea0     09c0          movi    3,A0
         0000feb0     0003  
    3244 0000fec0     0d3f          callr   BaseBack
         0000fed0     0088  
    3245                    
    3246 0000fee0     0960          rets
    3247                    **************************************************************************
    3248                    
    3249                    
    3250                    **************************************************************************
    3251 0000fef0           SpineHit:
    3252                    ;A6 ptr to obj striking bone
    3253                    ;A8 ptr to spine bone struck
    3254                    
    3255 0000fef0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13
         0000ff00     fffc  
    3256 0000ff10     b70d          move    *A8(OPLINK),A13,L 
         0000ff20     01f0  
    3257                    
    3258                            ;SEARCH SPINE LIST FOR BONE
    3259 0000ff30     afa1          movb    *A13(SPINELEN),A1
         0000ff40     0188  
    3260 0000ff50     b7ab          move    *A13(SPINE),A11,L
         0000ff60     00c0  
    3261 0000ff70           SrchSpn:
    3262 0000ff70     9760          move    *A11+,A0,L
    3263 0000ff80     4808          cmp     A0,A8
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   78

    3264 0000ff90     ca02          jreq    GotVB
    3265 0000ffa0     3c81          dsjs    A1,SrchSpn
    3266 0000ffb0     c077          jruc    SpnHitX
    3267                    
    3268                            ;COPY LOWER BONES UP 1, SHORTEN SPINE 1 
    3269 0000ffc0           GotVB:
    3270 0000ffc0     4d62          move    A11,A2
    3271 0000ffd0     0be2          subi    32,A2
         0000ffe0     ffdf  
    3272 0000fff0           CpySpn:
    3273 0000fff0     9b62          move    *A11+,*A2+,L    
    3274 00010000     3c41          dsjs    A1,CpySpn
    3275                    
    3276                            ;*** ADD NUKE FOR DRAMA
    3277 00010010     098f          mmtm    SP,A10,A11
         00010020     0030  
    3278 00010030     574a          clr     A10
    3279 00010040     576b          clr     A11
    3280 00010050                   CREATE  NUKEPID,MkNuke
    3281 000100d0     09af          mmfm    SP,A10,A11
         000100e0     0c00  
    3282                    
    3283                            ;* GIVE SOME BONUS
    3284 000100f0     4cc0          move    A6,A0
    3285 00010100     0d5f          calla   BulToDat
         00010110 00000000! 
    3286 00010130     ca0a          jrz     SkScore
    3287 00010140     4c02          move    A0,A2
    3288 00010150     09e1          movi    025000H,A1
         00010160 00025000  
    3289 00010180     0d5f          calla   SCORE
         00010190 00000000! 
    3290 000101b0     0d5f          calla   PUT25K
         000101c0 00000000! 
    3291 000101e0           SkScore:
    3292                    
    3293                            ;SEND BONE FLYING
    3294 000101e0     09e9          movi    FLYSPINE,A9
         000101f0 00000000! 
    3295 00010210                   CREATE  CHUNKPID,NTRAJEC1
    3296 00010290     ca45          jrz     DelVB
    3297 000102a0     4c07          move    A0,A7
    3298 000102b0     05a0          move    @FRAGCNT,A0,W
         000102c0 00000000- 
    3299 000102e0     1020          inc     A0
    3300 000102f0     0580          move    A0,@FRAGCNT,W
         00010300 00000000- 
    3301                    
    3302 00010320     4d00          move    A8,A0
    3303 00010330     09e1          movi    ENEMIES,A1
         00010340 00000000! 
    3304 00010360     0d5f          calla   DELSUPP
         00010370 00000000! 
    3305                    
    3306 00010390     b6c0          move    *A6(OXVEL),A0,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   79

         000103a0     0040  
    3307 000103b0     2be0          sra     1,A0
    3308 000103c0     b701          move    *A8(OXVEL),A1,L
         000103d0     0040  
    3309 000103e0     4001          add     A0,A1
    3310 000103f0     b228          move    A1,*A8(OXVEL),L
         00010400     0040  
    3311 00010410     09e0          movi    020000H,A0      ;YVEL
         00010420 00020000  
    3312 00010440     0d5f          calla   RANDU
         00010450 00000000! 
    3313 00010470     03a0          neg     A0
    3314 00010480     b208          move    A0,*A8(OYVEL),L
         00010490     0060  
    3315 000104a0     5600          clr     A0
    3316 000104b0     b208          move    A0,*A8(OZVEL),L
         000104c0     00e0  
    3317                    
    3318 000104d0     09e4          movi    BONESINK,A4
         000104e0 00016230' 
    3319 00010500     b287          move    A4,*A7(PDATA+0A0H),L    ;GRND PROC
         00010510     0100  
    3320                    
    3321                            ;IF SPINELEN <= 6 BLOWUP SKULL
    3322 00010520     afa0          movb    *A13(SPINELEN),A0
         00010530     0188  
    3323 00010540     1420          dec     A0
    3324 00010550     ac0d          movb    A0,*A13(SPINELEN)
         00010560     0188  
    3325 00010570     0b40          cmpi    6,A0
         00010580     fff9  
    3326 00010590     cb19          jrnz    SpnHitX
    3327                    
    3328                            ;***** XFER SKEL PROC TO SKEL EXPLO
    3329 000105a0     4da0          move    A13,A0
    3330 000105b0     0d5f          calla   GETA10
         000105c0 00000000! 
    3331 000105e0     18e1          movk    7,A1
    3332 000105f0     ac2a          movb    A1,*A10(NUMPARTS)
         00010600     0200  
    3333 00010610     4da7          move    A13,A7
    3334 00010620     0d3f          callr   ClrColls
         00010630     f96a  
    3335 00010640     0d3f          callr   ClrSCols
         00010650     f976  
    3336 00010660     09c1          movi    HEADXPID,A1
         00010670     0e9b  
    3337 00010680     09e7          movi    SklExplo,A7
         00010690 000148e0' 
    3338                    * XFERPROC - A0=PRCPTR, A1=NEW ID, A7=NEW PC, A8-A11=PASSED
    3339 000106b0     0d5f          calla   XFERPROC
         000106c0 00000000! 
    3340 000106e0     c004          jruc    SpnHitX
    3341                    
    3342 000106f0           DelVB:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   80

    3343 000106f0     4d00          move    A8,A0
    3344 00010700     0d5f          calla   DELENEMY        ;DELETE THE SPINE BONE
         00010710 00000000! 
    3345                    
    3346 00010730           SpnHitX:
    3347 00010730     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13
         00010740     3fff  
    3348 00010750     0960          rets
    3349                    **************************************************************************
    3350                    
    3351                    
    3352                    **************************************************************************
    3353 00010760           BaseBack:
    3354                    ;A0 - Amt to drive back
    3355                    ;A7 - ptr to head proc
    3356                    ;A6 - ptr to killers obj
    3357                    
    3358 00010760     b4c1          move    *A6(OXVEL+16),A1,W
         00010770     0050  
    3359 00010780     cf01          jrnn    SkNgBck
    3360 00010790     03a0          neg     A0
    3361 000107a0           SkNgBck:
    3362 000107a0     4c05          move    A0,A5
    3363 000107b0     2045          sla     2,A5
    3364                    
    3365 000107c0     4ce0          move    A7,A0
    3366 000107d0     0d5f          calla   GETA10
         000107e0 00000000! 
    3367                    
    3368 00010800     b748          move    *A10(BASEL),A8,L
         00010810     0000  
    3369 00010820     b501          move    *A8(OXPOS),A1,W
         00010830     0090  
    3370 00010840     40a1          add     A5,A1
    3371 00010850     b028          move    A1,*A8(OXPOS),W
         00010860     0090  
    3372                    
    3373 00010870     4ced          move    A7,A13
    3374 00010880     0d3f          callr   UpdBaseP
         00010890     f36a  
    3375 000108a0     0960          rets
    3376                    **************************************************************************
    3377                    
    3378                    **************************************************************************
    3379 000108b0           BasBackV:
    3380                    ;A0 - Amt of velocity change
    3381                    ;A7 - ptr to head proc
    3382                    ;A6 - ptr to killers obj
    3383                    
    3384 000108b0     b4c1          move    *A6(OXVEL+16),A1,W
         000108c0     0050  
    3385 000108d0     cf01          jrnn    SkNgBckV
    3386 000108e0     03a0          neg     A0
    3387 000108f0           SkNgBckV:
    3388 000108f0     4c05          move    A0,A5
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   81

    3389 00010900     4ce0          move    A7,A0
    3390 00010910     0d5f          calla   GETA10
         00010920 00000000! 
    3391                    
    3392 00010940     b748          move    *A10(BASEL),A8,L
         00010950     0000  
    3393 00010960     b700          move    *A8(OXVEL),A0,L
         00010970     0040  
    3394 00010980     40a0          add     A5,A0
    3395 00010990     b208          move    A0,*A8(OXVEL),L
         000109a0     0040  
    3396                    
    3397 000109b0     4ced          move    A7,A13
    3398 000109c0     0d3f          callr   UpdBaseV
         000109d0     f3e0  
    3399 000109e0     0960          rets
    3400                    **************************************************************************
    3401                    
    3402                    **************************************************************************
    3403 000109f0           SklBackV:
    3404                    ;A0 - Amt of velocity change
    3405                    ;A7 - ptr to head proc
    3406                    ;A6 - ptr to killers obj
    3407                    
    3408 000109f0     b4c1          move    *A6(OXVEL+16),A1,W
         00010a00     0050  
    3409 00010a10     cf01          jrnn    SklBck1
    3410 00010a20     03a0          neg     A0
    3411 00010a30           SklBck1:
    3412 00010a30     4c05          move    A0,A5
    3413 00010a40     4ce0          move    A7,A0
    3414 00010a50     0d5f          calla   GETA10
         00010a60 00000000! 
    3415                    
    3416 00010a80     b748          move    *A10(SKULL),A8,L
         00010a90     0060  
    3417 00010aa0     b700          move    *A8(OXVEL),A0,L
         00010ab0     0040  
    3418 00010ac0     40a0          add     A5,A0
    3419 00010ad0     b208          move    A0,*A8(OXVEL),L
         00010ae0     0040  
    3420                    
    3421 00010af0     0d3f          callr   UpdSkulV
         00010b00     f3f1  
    3422 00010b10     0960          rets
    3423                    **************************************************************************
    3424                    
    3425                    **************************************************************************
    3426 00010b20           SklUpV:
    3427                    ;A0 - Amt of velocity change
    3428                    ;A7 - ptr to head proc
    3429                    ;A6 - ptr to killers obj
    3430                    
    3431 00010b20     b4c1          move    *A6(OXVEL+16),A1,W
         00010b30     0050  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   82

    3432 00010b40     cf01          jrnn    SklUp1
    3433 00010b50     03a0          neg     A0
    3434 00010b60           SklUp1:
    3435 00010b60     4c05          move    A0,A5
    3436 00010b70     4ce0          move    A7,A0
    3437 00010b80     0d5f          calla   GETA10
         00010b90 00000000! 
    3438                    
    3439 00010bb0     b748          move    *A10(SKULL),A8,L
         00010bc0     0060  
    3440 00010bd0     b700          move    *A8(OYVEL),A0,L
         00010be0     0060  
    3441 00010bf0     40a0          add     A5,A0
    3442 00010c00     b208          move    A0,*A8(OYVEL),L
         00010c10     0060  
    3443                    
    3444 00010c20     0d3f          callr   UpdSkulV
         00010c30     f3de  
    3445 00010c40     0960          rets
    3446                    **************************************************************************
    3447                    
    3448                    **************************************************************************
    3449 00010c50           SkulBack:
    3450                    ;A0 - Amt to drive back
    3451                    ;A7 - ptr to head proc
    3452                    ;A6 - ptr to killers obj
    3453                    
    3454 00010c50     b4c1          move    *A6(OXVEL+16),A1,W
         00010c60     0050  
    3455 00010c70     cf01          jrnn    SkNgBck2
    3456 00010c80     03a0          neg     A0
    3457 00010c90           SkNgBck2:
    3458 00010c90     4c05          move    A0,A5
    3459 00010ca0     2045          sla     2,A5
    3460                    
    3461 00010cb0     4ce0          move    A7,A0
    3462 00010cc0     0d5f          calla   GETA10
         00010cd0 00000000! 
    3463                    
    3464 00010cf0     b748          move    *A10(SKULL),A8,L
         00010d00     0060  
    3465 00010d10     b501          move    *A8(OXPOS),A1,W
         00010d20     0090  
    3466 00010d30     40a1          add     A5,A1
    3467 00010d40     b028          move    A1,*A8(OXPOS),W
         00010d50     0090  
    3468                    
    3469 00010d60     b748          move    *A10(JAW),A8,L
         00010d70     0080  
    3470 00010d80     b501          move    *A8(OXPOS),A1,W
         00010d90     0090  
    3471 00010da0     40a1          add     A5,A1
    3472 00010db0     b028          move    A1,*A8(OXPOS),W
         00010dc0     0090  
    3473                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   83

    3474 00010dd0     0960          rets
    3475                    **************************************************************************
    3476                    
    3477                    
    3478                    **************************************************************************
    3479 00010de0           SKEL_MV:
    3480 00010de0     8748          move    *A10,A8,L
    3481 00010df0     0d3f          callr   ZCHECK
         00010e00     f0e6  
    3482 00010e10     0d3f          callr   XBOUNDS
         00010e20     f0b8  
    3483 00010e30     0d3f          callr   NeckCk
         00010e40     00ea  
    3484                    
    3485 00010e50     afa0          movb    *A13(BRAINTIKS),A0
         00010e60     01b0  
    3486 00010e70     cb06          jrnz    BrainX
    3487 00010e80     09c0          movi    35,A0
         00010e90     0023  
    3488 00010ea0     ac0d          movb    A0,*A13(BRAINTIKS)
         00010eb0     01b0  
    3489 00010ec0     0d3f          callr   SkulAttk
         00010ed0     0048  
    3490 00010ee0           BrainX:
    3491                    
    3492 00010ee0     afa0          movb    *A13(ANIMTIKS),A0
         00010ef0     01a0  
    3493 00010f00     cb0a          jrnz    AnimX
    3494 00010f10     0d3f          callr   GetSDir
         00010f20     02fd  
    3495 00010f30     0d3f          callr   GetSAni
         00010f40     031f  
    3496 00010f50     0d3f          callr   AniSkull
         00010f60     0215  
    3497 00010f70     ac0d          movb    A0,*A13(ANIMTIKS)
         00010f80     01a0  
    3498 00010f90     0d3f          callr   JawBite
         00010fa0     019a  
    3499 00010fb0           AnimX:
    3500                    
    3501 00010fb0     0d3f          callr   BaseDamp
         00010fc0     0146  
    3502 00010fd0     0d3f          callr   SkulDamp
         00010fe0     015c  
    3503 00010ff0     0d3f          callr   UpdSkulP
         00011000     f339  
    3504 00011010     0d3f          callr   UpdJawP
         00011020     0188  
    3505 00011030     0d3f          callr   UpdSkulV
         00011040     f39d  
    3506 00011050     0d3f          callr   UpdBaseP
         00011060     f2ed  
    3507 00011070     0d3f          callr   UpdBaseV
         00011080     f375  
    3508                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   84

    3509 00011090     b748          move    *A10(SKULL),A8,L
         000110a0     0060  
    3510 000110b0     b701          move    *A8(OXVEL),A1,L
         000110c0     0040  
    3511 000110d0     0381          abs     A1
    3512 000110e0     b700          move    *A8(OYVEL),A0,L
         000110f0     0060  
    3513 00011100     0380          abs     A0
    3514 00011110     4020          add     A1,A0
    3515 00011120     2f20          srl     7,A0
    3516 00011130     0b20          addi    000008000H,A0,L
         00011140 00008000  
    3517 00011160     0d3f          callr   HedSpine
         00011170     fd8a  
    3518                    
    3519                    **** Find Next Event ****
    3520 00011180     1845          movk    2,A5                    ;TIME between updating neck
    3521                    
    3522 00011190     afa1          movb    *A13(BRAINTIKS),A1
         000111a0     01b0  
    3523 000111b0     c101          jrp     SkBrain1
    3524 000111c0     1821          movk    1,A1
    3525 000111d0           SkBrain1:
    3526 000111d0     48a1          cmp     A5,A1
    3527 000111e0     c501          jrge    SkMin1
    3528 000111f0     4c25          move    A1,A5
    3529 00011200           SkMin1:
    3530                            
    3531 00011200     afa2          movb    *A13(ANIMTIKS),A2
         00011210     01a0  
    3532 00011220     48a2          cmp     A5,A2
    3533 00011230     c501          jrge    SkMin2
    3534 00011240     4c45          move    A2,A5
    3535 00011250           SkMin2:
    3536                    
    3537 00011250           GotMin:
    3538 00011250     44a1          sub     A5,A1
    3539 00011260     ac2d          movb    A1,*A13(BRAINTIKS)
         00011270     01b0  
    3540 00011280     44a2          sub     A5,A2
    3541 00011290     ac4d          movb    A2,*A13(ANIMTIKS)
         000112a0     01a0  
    3542                    
    3543 000112b0     4ca0          move    A5,A0
    3544 000112c0     0d3f          callr   CkBFlash
         000112d0     f90e  
    3545 000112e0     0d5f          calla   PRCSLP
         000112f0 00000000! 
    3546 00011310     5600          clr     A0
    3547 00011320     0580          move    A0,@IRQSKYE,W
         00011330 00000000! 
    3548                    
    3549 00011350     c0a8          jruc    SKEL_MV
    3550                    **************************************************************************
    3551                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   85

    3552                    
    3553                    **************************************************************************
    3554 00011360           SkulAttk:
    3555                            ;*** Check length of neck to see if skull should extend or recoil
    3556                    ;**** GET TOP NECK PIECE AND BOTTOM NECK PIECE
    3557 00011360     b7ab          move    *A13(SPINE),A11,L  ;load up Xtra data obj with ptrs to parts
         00011370     00c0  
    3558 00011380     4d6e          move    A11,A14
    3559 00011390     afa7          movb    *A13(SPINELEN),A7
         000113a0     0188  
    3560 000113b0     1427          dec     A7
    3561 000113c0     24a7          sll     5,A7
    3562 000113d0     40ee          add     A7,A14
    3563 000113e0     876b          move    *A11,A11,L              ;A11 = first neck bone
    3564 000113f0     87ce          move    *A14,A14,L              ;A14 = last neck bone
    3565                    
    3566 00011400     b745          move    *A10(SKULL),A5,L
         00011410     0060  
    3567 00011420     b746          move    *A10(BASEL),A6,L
         00011430     0000  
    3568                    ;**** GET LENGTH OF NECK IN X ****
    3569 00011440     b561          move    *A11(OXPOS),A1,W
         00011450     0090  
    3570 00011460     b5c2          move    *A14(OXPOS),A2,W
         00011470     0090  
    3571 00011480     4422          sub     A1,A2
    3572 00011490     0382          abs     A2
    3573 000114a0     0b42          cmpi    90,A2
         000114b0     ffa5  
    3574 000114c0     c431          jrlt    AttckP
    3575                    
    3576                            ;********  GO BACK TO BASE *******
    3577 000114d0     b748          move    *A10(SKULL),A8,L
         000114e0     0060  
    3578 000114f0     0d5f          calla   GETANIX
         00011500 00000000! 
    3579 00011520     4c02          move    A0,A2           ;A2 - XPOS of Skull
    3580 00011530     b504          move    *A8(OZPOS),A4,W ;A4 - ZPOS of Skull
         00011540     00d0  
    3581 00011550     b506          move    *A8(OYPOS),A6,W ;A6 - YPOS of Skull
         00011560     00b0  
    3582 00011570     0b06          addi    70,A6
         00011580     0046  
    3583                    
    3584 00011590     b748          move    *A10(BASEL),A8,L
         000115a0     0000  
    3585 000115b0     0d5f          calla   GETANIX
         000115c0 00000000! 
    3586 000115e0     4c03          move    A0,A3           ;A3 - XPOS of Base
    3587 000115f0     b505          move    *A8(OZPOS),A5,W ;A5 - ZPOS of Base
         00011600     00d0  
    3588 00011610     b507          move    *A8(OYPOS),A7,W ;A7 - YPOS of Base
         00011620     00b0  
    3589 00011630     0be7          subi    110,A7
         00011640     ff91  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   86

    3590                            
    3591 00011650     b748          move    *A10(SKULL),A8,L
         00011660     0060  
    3592                    
    3593 00011670     4443          sub     A2,A3
    3594 00011680     2603          sll     16,A3
    3595 00011690     09c0          movi    110,A0          ;TIME FOR SKULL TO REACH BASE
         000116a0     006e  
    3596 000116b0     5803          divs    A0,A3
    3597 000116c0     b268          move    A3,*A8(OXVEL),L
         000116d0     0040  
    3598                    
    3599 000116e0     44c7          sub     A6,A7
    3600 000116f0     2607          sll     16,A7
    3601 00011700     09c0          movi    30,A0           ;TIME FOR SKULL TO REACH BASE
         00011710     001e  
    3602 00011720     5807          divs    A0,A7   ;A7 YVEL
    3603                    
    3604 00011730     4485          sub     A4,A5
    3605 00011740     2605          sll     16,A5
    3606 00011750     09c0          movi    35,A0           ;TIME FOR SKULL TO REACH BASE
         00011760     0023  
    3607 00011770     5805          divs    A0,A5
    3608 00011780     b2a8          move    A5,*A8(OZVEL),L
         00011790     00e0  
    3609 000117a0     40a7          add     A5,A7
    3610 000117b0     b2e8          move    A7,*A8(OYVEL),L
         000117c0     0060  
    3611 000117d0     c050          jruc    AttkX
    3612                            
    3613 000117e0           AttckP:
    3614                            ;************* ATTACK NEAREST PLAYER ***********
    3615 000117e0     b748          move    *A10(SKULL),A8,L
         000117f0     0060  
    3616 00011800     0d5f          calla   ClosestP
         00011810 00000000! 
    3617                    
    3618 00011830     4c07          move    A0,A7
    3619 00011840     0d5f          calla   GETANIX
         00011850 00000000! 
    3620 00011870     4c02          move    A0,A2           ;A2 - XPOS of Skull
    3621 00011880     b504          move    *A8(OZPOS),A4,W ;A4 - ZPOS of Skull
         00011890     00d0  
    3622 000118a0     b506          move    *A8(OYPOS),A6,W ;A6 - YPOS of Skull
         000118b0     00b0  
    3623 000118c0     0b06          addi    70,A6
         000118d0     0046  
    3624 000118e0     4ce8          move    A7,A8
    3625 000118f0     0d5f          calla   GETANIX
         00011900 00000000! 
    3626 00011920     4c03          move    A0,A3           ;A3 - XPOS of player
    3627 00011930     b505          move    *A8(OZPOS),A5,W ;A5 - ZPOS of player
         00011940     00d0  
    3628 00011950     b507          move    *A8(OYPOS),A7,W ;A7 - YPOS of player
         00011960     00b0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   87

    3629                            
    3630 00011970     09ce          movi    25,A14          ;TIME FOR SKULL TO REACH PLAYER
         00011980     0019  
    3631 00011990     b748          move    *A10(SKULL),A8,L
         000119a0     0060  
    3632                    
    3633 000119b0     09c0          movi    40,A0
         000119c0     0028  
    3634 000119d0     4862          cmp     A3,A2
    3635 000119e0     c701          jrgt    SkNgXOff
    3636 000119f0     03a0          neg     A0
    3637 00011a00           SkNgXOff:
    3638 00011a00     4002          add     A0,A2
    3639 00011a10     4443          sub     A2,A3
    3640 00011a20     4c62          move    A3,A2
    3641 00011a30     0382          abs     A2              ;A2 = Xdelt
    3642 00011a40     0b42          cmpi    40,A2
         00011a50     ffd7  
    3643 00011a60     c40b          jrlt    SkAttkX
    3644 00011a70     2603          sll     16,A3
    3645 00011a80     59c3          divs    A14,A3
    3646 00011a90     4c61          move    A3,A1
    3647 00011aa0     09e0          movi    070000H,A0
         00011ab0 00070000  
    3648 00011ad0     0d5f          calla   ABSMAX
         00011ae0 00000000! 
    3649 00011b00     b228          move    A1,*A8(OXVEL),L
         00011b10     0040  
    3650 00011b20           SkAttkX:
    3651                    
    3652 00011b20     44c7          sub     A6,A7
    3653 00011b30     4ce6          move    A7,A6
    3654 00011b40     0386          abs     A6              ;A6 = Ydelt
    3655 00011b50     2607          sll     16,A7
    3656 00011b60     59c7          divs    A14,A7  ;A7 YVEL
    3657 00011b70     4ce1          move    A7,A1
    3658 00011b80     09e0          movi    040000H,A0
         00011b90 00040000  
    3659 00011bb0     0d5f          calla   ABSMAX
         00011bc0 00000000! 
    3660 00011be0     4c27          move    A1,A7
    3661                    
    3662 00011bf0     4485          sub     A4,A5
    3663 00011c00     2605          sll     16,A5
    3664 00011c10     59c5          divs    A14,A5
    3665 00011c20     4ca1          move    A5,A1
    3666 00011c30     09e0          movi    028000H,A0
         00011c40 00028000  
    3667 00011c60     0d5f          calla   ABSMAX
         00011c70 00000000! 
    3668 00011c90     b228          move    A1,*A8(OZVEL),L
         00011ca0     00e0  
    3669 00011cb0     4027          add     A1,A7
    3670 00011cc0     b2e8          move    A7,*A8(OYVEL),L
         00011cd0     0060  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   88

    3671                    
    3672 00011ce0           AttkX:
    3673 00011ce0     0960          rets
    3674                    **************************************************************************
    3675                    
    3676                    **************************************************************************
    3677 00011cf0           NeckCk:
    3678                    ;**** GET TOP NECK PIECE AND BOTTOM NECK PIECE
    3679 00011cf0     b7ab          move    *A13(SPINE),A11,L  ;load up Xtra data obj with ptrs to parts
         00011d00     00c0  
    3680 00011d10     4d6e          move    A11,A14
    3681 00011d20     afa7          movb    *A13(SPINELEN),A7
         00011d30     0188  
    3682 00011d40     1427          dec     A7
    3683 00011d50     24a7          sll     5,A7
    3684 00011d60     40ee          add     A7,A14
    3685 00011d70     876b          move    *A11,A11,L              ;A11 = first neck bone
    3686 00011d80     87ce          move    *A14,A14,L              ;A14 = last neck bone
    3687                    
    3688 00011d90     b745          move    *A10(SKULL),A5,L
         00011da0     0060  
    3689 00011db0     b746          move    *A10(BASEL),A6,L
         00011dc0     0000  
    3690                    
    3691                    ;**** GET LENGTH OF NECK IN X ****
    3692 00011dd0     b561          move    *A11(OXPOS),A1,W
         00011de0     0090  
    3693 00011df0     b5c2          move    *A14(OXPOS),A2,W
         00011e00     0090  
    3694 00011e10     4441          sub     A2,A1
    3695                    ;**** ADJUST X VELOCITY FOR EXCESSIVE X LENGTH  
    3696 00011e20     4c22          move    A1,A2
    3697 00011e30     0382          abs     A2
    3698 00011e40     afa3          movb    *A13(SPINELEN),A3
         00011e50     0188  
    3699 00011e60     0b43          cmpi    6,A3
         00011e70     fff9  
    3700 00011e80     c403          jrlt    SkXMPY
    3701 00011e90     09c4          movi    9,A4
         00011ea0     0009  
    3702 00011eb0     5e83          mpyu    A4,A3
    3703 00011ec0           SkXMPY:
    3704 00011ec0     4862          cmp     A3,A2
    3705 00011ed0     c411          jrlt    SkNkXAdj
    3706 00011ee0     09e2          movi    0A000H,A2
         00011ef0 0000a000  
    3707 00011f10     4c21          move    A1,A1
    3708 00011f20     ce01          jrn     SkNgXAdj
    3709 00011f30     03a2          neg     A2
    3710 00011f40           SkNgXAdj:
    3711 00011f40     b6a1          move    *A5(OXVEL),A1,L
         00011f50     0040  
    3712 00011f60     4041          add     A2,A1
    3713 00011f70     b225          move    A1,*A5(OXVEL),L
         00011f80     0040  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   89

    3714 00011f90     03a2          neg     A2
    3715 00011fa0     b6c1          move    *A6(OXVEL),A1,L
         00011fb0     0040  
    3716 00011fc0     4041          add     A2,A1
    3717 00011fd0     b226          move    A1,*A6(OXVEL),L
         00011fe0     0040  
    3718 00011ff0           SkNkXAdj:
    3719                    
    3720                    
    3721                    ;**** GET LENGTH OF NECK IN Y ****
    3722 00011ff0     b561          move    *A11(OYPOS),A1,W
         00012000     00b0  
    3723 00012010     b5c2          move    *A14(OYPOS),A2,W
         00012020     00b0  
    3724 00012030     4441          sub     A2,A1
    3725                    ;**** ADJUST Y VELOCITY FOR EXCESSIVE Y LENGTH  
    3726 00012040     4c22          move    A1,A2
    3727 00012050     0382          abs     A2
    3728 00012060     afa3          movb    *A13(SPINELEN),A3
         00012070     0188  
    3729 00012080     0b43          cmpi    6,A3
         00012090     fff9  
    3730 000120a0     c403          jrlt    SkYMPY
    3731 000120b0     09c4          movi    5,A4
         000120c0     0005  
    3732 000120d0     5e83          mpyu    A4,A3
    3733 000120e0           SkYMPY
    3734 000120e0     4862          cmp     A3,A2
    3735 000120f0     c40b          jrlt    SkNkYAdj
    3736 00012100     09e2          movi    0A000H,A2
         00012110 0000a000  
    3737 00012130     4c21          move    A1,A1
    3738 00012140     ce01          jrn     SkNgYAdj
    3739 00012150     03a2          neg     A2
    3740 00012160           SkNgYAdj:
    3741 00012160     b6a1          move    *A5(OYVEL),A1,L
         00012170     0060  
    3742 00012180     4041          add     A2,A1
    3743 00012190     b225          move    A1,*A5(OYVEL),L
         000121a0     0060  
    3744 000121b0           SkNkYAdj:
    3745                    
    3746                    
    3747                    ;**** GET LENGTH OF NECK IN Z ****
    3748 000121b0     b561          move    *A11(OZPOS),A1,W
         000121c0     00d0  
    3749 000121d0     b5c2          move    *A14(OZPOS),A2,W
         000121e0     00d0  
    3750 000121f0     4441          sub     A2,A1
    3751                    ;**** ADJUST Z VELOCITY FOR EXCESSIVE Z LENGTH  
    3752 00012200     4c22          move    A1,A2
    3753 00012210     0382          abs     A2
    3754 00012220     afa3          movb    *A13(SPINELEN),A3
         00012230     0188  
    3755 00012240     2423          sll     1,A3
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   90

    3756 00012250     4862          cmp     A3,A2
    3757 00012260     c41b          jrlt    SkNkZAdj
    3758 00012270     09e2          movi    0A000H,A2
         00012280 0000a000  
    3759 000122a0     4c21          move    A1,A1
    3760 000122b0     ce01          jrn     SkNgZAdj
    3761 000122c0     03a2          neg     A2
    3762 000122d0           SkNgZAdj:
    3763 000122d0     b6a1          move    *A5(OZVEL),A1,L
         000122e0     00e0  
    3764 000122f0     4041          add     A2,A1
    3765 00012300     b225          move    A1,*A5(OZVEL),L
         00012310     00e0  
    3766 00012320     b6a1          move    *A5(OYVEL),A1,L
         00012330     0060  
    3767 00012340     4041          add     A2,A1
    3768 00012350     b225          move    A1,*A5(OYVEL),L
         00012360     0060  
    3769 00012370     03a2          neg     A2
    3770 00012380     b6c1          move    *A6(OZVEL),A1,L
         00012390     00e0  
    3771 000123a0     4041          add     A2,A1
    3772 000123b0     b226          move    A1,*A6(OZVEL),L
         000123c0     00e0  
    3773 000123d0     b6c1          move    *A6(OYVEL),A1,L
         000123e0     0060  
    3774 000123f0     4041          add     A2,A1
    3775 00012400     b226          move    A1,*A6(OYVEL),L
         00012410     0060  
    3776 00012420           SkNkZAdj:
    3777                    
    3778 00012420     0960          rets
    3779                    **************************************************************************
    3780                    
    3781                    
    3782                    **************************************************************************
    3783 00012430           BaseDamp:
    3784 00012430     b746          move    *A10(BASEL),A6,L
         00012440     0000  
    3785                            
    3786 00012450     b6c1          move    *A6(OXVEL),A1,L
         00012460     0040  
    3787 00012470     4c22          move    A1,A2
    3788 00012480     2b82          sra     4,A2
    3789 00012490     ca03          jrz     SkXDmp
    3790 000124a0     4441          sub     A2,A1
    3791 000124b0     b226          move    A1,*A6(OXVEL),L
         000124c0     0040  
    3792 000124d0           SkXDmp:
    3793                    
    3794 000124d0     b6c1          move    *A6(OZVEL),A1,L
         000124e0     00e0  
    3795 000124f0     4c22          move    A1,A2
    3796 00012500     2b82          sra     4,A2
    3797 00012510     ca08          jrz     SkZDmp
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   91

    3798 00012520     4441          sub     A2,A1
    3799 00012530     b226          move    A1,*A6(OZVEL),L
         00012540     00e0  
    3800 00012550     b6c1          move    *A6(OYVEL),A1,L
         00012560     0060  
    3801 00012570     4441          sub     A2,A1
    3802 00012580     b226          move    A1,*A6(OYVEL),L
         00012590     0060  
    3803 000125a0           SkZDmp:
    3804                    
    3805 000125a0     0960          rets
    3806                    **************************************************************************
    3807                    
    3808                    **************************************************************************
    3809 000125b0           SkulDamp:
    3810 000125b0     b746          move    *A10(SKULL),A6,L
         000125c0     0060  
    3811                            
    3812 000125d0     b6c1          move    *A6(OXVEL),A1,L
         000125e0     0040  
    3813 000125f0     4c22          move    A1,A2
    3814 00012600     2b22          sra     7,A2
    3815 00012610     ca03          jrz     SkXSDmp
    3816 00012620     4441          sub     A2,A1
    3817 00012630     b226          move    A1,*A6(OXVEL),L
         00012640     0040  
    3818 00012650           SkXSDmp:
    3819                    
    3820 00012650     b748          move    *A10(JAW),A8,L
         00012660     0080  
    3821 00012670     cb01          jrnz    GotBotOb
    3822 00012680     4cc8          move    A6,A8
    3823 00012690           GotBotOb:
    3824 00012690     0d5f          calla   DFRMGRND
         000126a0 00000000! 
    3825 000126c0     c108          jrp     DmpSY
    3826 000126d0     b6c1          move    *A6(OYVEL),A1,L
         000126e0     0060  
    3827 000126f0     ce0d          jrn     SkYSDmp
    3828 00012700     03a1          neg     A1
    3829 00012710     2bc1          sra     2,A1
    3830 00012720     b226          move    A1,*A6(OYVEL),L
         00012730     0060  
    3831 00012740     c008          jruc    SkYSDmp
    3832                    
    3833 00012750           DmpSY:
    3834 00012750     b6c1          move    *A6(OYVEL),A1,L
         00012760     0060  
    3835 00012770     4c22          move    A1,A2
    3836 00012780     2b42          sra     6,A2
    3837 00012790     ca03          jrz     SkYSDmp
    3838 000127a0     4441          sub     A2,A1
    3839 000127b0     b226          move    A1,*A6(OYVEL),L
         000127c0     0060  
    3840 000127d0           SkYSDmp:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   92

    3841                    
    3842 000127d0     b6c1          move    *A6(OZVEL),A1,L
         000127e0     00e0  
    3843 000127f0     4c22          move    A1,A2
    3844 00012800     2b42          sra     6,A2
    3845 00012810     ca08          jrz     SkZSDmp
    3846 00012820     4441          sub     A2,A1
    3847 00012830     b226          move    A1,*A6(OZVEL),L
         00012840     00e0  
    3848 00012850     b6c1          move    *A6(OYVEL),A1,L
         00012860     0060  
    3849 00012870     4441          sub     A2,A1
    3850 00012880     b226          move    A1,*A6(OYVEL),L
         00012890     0060  
    3851 000128a0           SkZSDmp:
    3852                    
    3853 000128a0     0960          rets
    3854                    **************************************************************************
    3855                    
    3856                    **************************************************************************
    3857 000128b0           UpdJawP:
    3858 000128b0     b740          move    *A10(SKULL),A0,L
         000128c0     0060  
    3859 000128d0     b741          move    *A10(JAW),A1,L
         000128e0     0080  
    3860 000128f0     b402          move    *A0(OZPOS),A2,W
         00012900     00d0  
    3861 00012910     10a2          addk    5,A2
    3862 00012920     b041          move    A2,*A1(OZPOS),W
         00012930     00d0  
    3863 00012940     0960          rets
    3864                    **************************************************************************
    3865                    
    3866                    **************************************************************************
    3867 00012950           JawBite:
    3868 00012950     afa0          movb    *A13(BITING),A0
         00012960     0198  
    3869 00012970     0b40          cmpi    SKULBITE,A0
         00012980     fff4  
    3870 00012990     cb28          jrnz    UnBite
    3871 000129a0     8721          move    *A9,A1,L
    3872 000129b0     0b61          cmpi    jawbite,A1
         000129c0 ffffffff! 
    3873 000129e0     ca04          jreq    IsBite
    3874 000129f0     0b61          cmpi    jawbitef,A1
         00012a00 ffffffff! 
    3875 00012a20     cb1f          jrnz    UnBite
    3876 00012a30           IsBite:
    3877                    
    3878 00012a30     afa0          movb    *A13(INBITE),A0
         00012a40     00e0  
    3879 00012a50     cb65          jrnz    JawBiteX
    3880                    
    3881 00012a60     09e0          movi    BiteSND,A0
         00012a70 00000620' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   93

    3882 00012a90     0d5f          calla   ONESND
         00012aa0 00000000! 
    3883                    
    3884 00012ac0     09e1          movi    ENEMIES,A1
         00012ad0 00000000! 
    3885 00012af0     b740          move    *A10(JAW),A0,L
         00012b00     0080  
    3886 00012b10     0d5f          calla   DELSUPP
         00012b20 00000000! 
    3887 00012b40     09e1          movi    EXPLOSIONS,A1
         00012b50 00000000! 
    3888 00012b70     0d5f          calla   ADDSUPP
         00012b80 00000000! 
    3889 00012ba0     09c1          movi    BEOID|EXPLODID,A1
         00012bb0     0be2  
    3890 00012bc0     b020          move    A1,*A0(OID),W
         00012bd0     01a0  
    3891 00012be0     1820          movk    1,A0
    3892 00012bf0     ac0d          movb    A0,*A13(INBITE)
         00012c00     00e0  
    3893 00012c10     c049          jruc    JawBiteX
    3894                    
    3895 00012c20           UnBite:
    3896 00012c20     afa0          movb    *A13(INBITE),A0
         00012c30     00e0  
    3897 00012c40     ca15          jrz     TryFTung
    3898                    
    3899 00012c50     09e1          movi    EXPLOSIONS,A1
         00012c60 00000000! 
    3900 00012c80     b740          move    *A10(JAW),A0,L
         00012c90     0080  
    3901 00012ca0     0d5f          calla   DELSUPP
         00012cb0 00000000! 
    3902 00012cd0     09e1          movi    ENEMIES,A1
         00012ce0 00000000! 
    3903 00012d00     0d5f          calla   ADDSUPP
         00012d10 00000000! 
    3904 00012d30     09c1          movi    HEADEOID|4,A1   ;jaw OID
         00012d40     0e94  
    3905 00012d50     b020          move    A1,*A0(OID),W
         00012d60     01a0  
    3906 00012d70     5600          clr     A0
    3907 00012d80     ac0d          movb    A0,*A13(INBITE)
         00012d90     00e0  
    3908                    
    3909 00012da0           TryFTung:
    3910 00012da0     afa0          movb    *A13(TUNGDEAD),A0
         00012db0     00f0  
    3911 00012dc0     cb2e          jrnz    JawBiteX
    3912                    
    3913 00012dd0     afae          movb    *A13(DIR),A14
         00012de0     00f8  
    3914 00012df0     0b4e          cmpi    3,A14
         00012e00     fffc  
    3915 00012e10     ca04          jreq    TngOk
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   94

    3916 00012e20     0b4e          cmpi    9,A14
         00012e30     fff6  
    3917 00012e40     ca01          jreq    TngOk
    3918 00012e50     c025          jruc    JawBiteX
    3919 00012e60           TngOk:
    3920 00012e60     b740          move    *A10(STNGANI),A0,L
         00012e70     01a0  
    3921 00012e80     ca22          jrz     JawBiteX
    3922                    
    3923 00012e90     0d3f          callr   FindSDir
         00012ea0     0094  
    3924 00012eb0     afa1          movb    *A13(DIR),A1
         00012ec0     00f8  
    3925 00012ed0     4801          cmp     A0,A1
    3926 00012ee0     cb1c          jrnz    JawBiteX
    3927 00012ef0     4ce0          move    A7,A0           ;A7 set by FindDir
    3928 00012f00     0d5f          calla   GetPData
         00012f10 00000000! 
    3929 00012f30     4c0b          move    A0,A11          ;A11 ptr to player data block
    3930                    
    3931 00012f40     1866          movk    3,A6
    3932 00012f50           TungMrv:
    3933 00012f50     09c0          movi    300,A0
         00012f60     012c  
    3934 00012f70     0d5f          calla   RANDPER
         00012f80 00000000! 
    3935 00012fa0     c910          jrnc    JawBiteX
    3936                    
    3937                            ;**** FIRE OFF A TONGUE
    3938 00012fb0     098f          mmtm    SP,A10
         00012fc0     0020  
    3939 00012fd0     b748          move    *A10(STNG),A8,L
         00012fe0     00a0  
    3940 00012ff0     182a          movk    1,A10           ;using a reverse tung
    3941 00013000                   CREATE  TNGPID,FIRETUNG
    3942 00013080     09af          mmfm    SP,A10
         00013090     0400  
    3943 000130a0     3ec6          dsj     A6,TungMrv
    3944                    
    3945 000130b0           JawBiteX:
    3946 000130b0     0960          rets
    3947                    **************************************************************************
    3948                    
    3949                    
    3950                    **************************************************************************
    3951 000130c0           AniSkull:
    3952 000130c0     9720          move    *A9+,A0,L
    3953 000130d0     cb0a          jrnz    GotSAnim
    3954 000130e0     5600          clr     A0
    3955 000130f0     ac0d          movb    A0,*A13(COLSRVC)
         00013100     0118  
    3956 00013110     ac0d          movb    A0,*A13(BITING)
         00013120     0198  
    3957 00013130     0d3f          callr   GetSAni
         00013140     00ff  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   95

    3958 00013150     b7a9          move    *A13(ANIMPTR),A9,L
         00013160     0120  
    3959 00013170     c0f4          jruc    AniSkull
    3960 00013180           GotSAnim:
    3961 00013180     0d3f          callr   StfSAnis
         00013190     0043  
    3962                    
    3963                    ;* ANIMATE ALL SKULL PIECES
    3964 000131a0     09cb          movi    SKULL,A11
         000131b0     0060  
    3965 000131c0     414b          add     A10,A11
    3966 000131d0     09c7          movi    SKLANIS,A7
         000131e0     0160  
    3967 000131f0     4147          add     A10,A7
    3968 00013200     af46          movb    *A10(ONLIST),A6
         00013210     0228  
    3969 00013220     56a5          clr     A5      ;new ONLIST
    3970 00013230     2706          sll     24,A6
    3971 00013240     af40          movb    *A10(INUSE),A0
         00013250     0220  
    3972 00013260     4e01          move    A0,B1
    3973 00013270     2711          sll     24,B1
    3974 00013280     af40          movb    *A10(SKLPARTS),A0
         00013290     0210  
    3975 000132a0     4e00          move    A0,B0
    3976 000132b0           DoSAnis:
    3977 000132b0     2425          sll     1,A5
    3978 000132c0     9768          move    *A11+,A8,L
    3979 000132d0     96e1          move    *A7+,A1,L
    3980 000132e0     ca15          jrz     NoSAni
    3981 000132f0     2431          sll     1,B1
    3982 00013300     c914          jrnc    NotActve
    3983                    
    3984 00013310     1025          inc     A5      ;set Bit for new ONLIST
    3985 00013320     b504          move    *A8(OFLAGS),A4,W
         00013330     0100  
    3986                    * ANI: A1=IMAGE PTR, A4=FLAGS, A8=OBJECT STRUCTURE POINTER TO BE UPDATED                                
    3987 00013340     0d5f          calla   ANI
         00013350 00000000! 
    3988                            ;*** MAKE SURE PART IS ON LIST
    3989 00013370     2426          sll     1,A6    ;was part on list
    3990 00013380     c818          jrc     NxtSAni
    3991 00013390     4d00          move    A8,A0
    3992 000133a0     0d5f          calla   INSOBJ
         000133b0 00000000! 
    3993 000133d0     09e1          movi    ENEMIES,A1
         000133e0 00000000! 
    3994 00013400     0d5f          calla   ADDSUPP
         00013410 00000000! 
    3995 00013430     c00d          jruc    NxtSAni
    3996                    
    3997 00013440           NoSAni:
    3998 00013440     2431          sll     1,B1
    3999 00013450           NotActve:
    4000 00013450     2426          sll     1,A6    ;was part on list
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   96

    4001 00013460     c90a          jrnc    NxtSAni
    4002 00013470     4d00          move    A8,A0
    4003 00013480     0d5f          calla   PULLOBJ
         00013490 00000000! 
    4004 000134b0     09e1          movi    ENEMIES,A1
         000134c0 00000000! 
    4005 000134e0     0d5f          calla   DELSUPP
         000134f0 00000000! 
    4006 00013510           NxtSAni:
    4007 00013510     0d90          dsj     B0,DoSAnis
         00013520     ffd8  
    4008                    
    4009 00013530     1900          movk    8,A0
    4010 00013540     af41          movb    *A10(SKLPARTS),A1
         00013550     0210  
    4011 00013560     4420          sub     A1,A0
    4012 00013570     6205          sll     A0,A5
    4013 00013580     acaa          movb    A5,*A10(ONLIST)
         00013590     0228  
    4014 000135a0     8748          move    *A10,A8,L       ;leave ptr to first part in A8
    4015 000135b0     9520          move    *A9+,A0,W       ;load sleep time
    4016 000135c0     0960          rets
    4017                    **************************************************************************
    4018                    
    4019                    **************************************************************************
    4020 000135d0           StfSAnis:
    4021                    ;* Stuff ANIMATION for each piece
    4022                    ;* Stuff Zpos for each piece, based on first piece
    4023                    ;A0 ptr to table of animations
    4024 000135d0     09c7          movi    SKLANIS,A7
         000135e0     0160  
    4025 000135f0     4147          add     A10,A7
    4026 00013600     af43          movb    *A10(SKLPARTS),A3
         00013610     0210  
    4027 00013620     4e60          move    A3,B0
    4028 00013630           StfSAni:
    4029 00013630     9a07          move    *A0+,*A7+,L
    4030 00013640     3c50          dsjs    B0,StfSAni
    4031                    
    4032 00013650     1100          addk    8,A0    ;skip first Z offset
    4033 00013660     09cb          movi    SKULL,A11
         00013670     0060  
    4034 00013680     414b          add     A10,A11
    4035 00013690     9761          move    *A11+,A1,L
    4036 000136a0     b422          move    *A1(OZPOS),A2,W
         000136b0     00d0  
    4037 000136c0     af43          movb    *A10(SKLPARTS),A3
         000136d0     0210  
    4038 000136e0     4e60          move    A3,B0
    4039 000136f0     1430          dec     B0              ;update the rest of the parts
    4040 00013700     ca07          jrz     SkZs
    4041 00013710           StufSZ:
    4042 00013710     9761          move    *A11+,A1,L
    4043 00013720     8e03          movb    *A0,A3
    4044 00013730     1100          addk    8,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   97

    4045 00013740     4043          add     A2,A3
    4046 00013750     b061          move    A3,*A1(OZPOS),W
         00013760     00d0  
    4047 00013770     3cf0          dsjs    B0,StufSZ
    4048 00013780           SkZs:
    4049 00013780     8e00          movb    *A0,A0
    4050 00013790     afa1          movb    *A13(FLIPPED),A1
         000137a0     0110  
    4051 000137b0     0300          jrz     SkSFlpSet
    4052 000137c0           SkSFlpSet:
    4053 000137c0     0d3f          callr   UpdFlips
         000137d0     f13b  
    4054 000137e0     0960          rets
    4055                    **************************************************************************
    4056                    
    4057                    
    4058                    **************************************************************************
    4059 000137f0           FindSDir:
    4060                    ;* RETURNS
    4061                    ;   A0 - direction to face toward nearest player
    4062                    ;   A7 - ptr to player object
    4063 000137f0     0d5f          calla   ClosestP
         00013800 00000000! 
    4064 00013820     4c08          move    A0,A8
    4065 00013830     0d5f          calla   GETANIX
         00013840 00000000! 
    4066 00013860     4d07          move    A8,A7
    4067 00013870     4c01          move    A0,A1
    4068                    
    4069 00013880     b748          move    *A10(SKULL),A8,L
         00013890     0060  
    4070 000138a0     0d5f          calla   GETANIX
         000138b0 00000000! 
    4071 000138d0     4401          sub     A0,A1           ;A1 = X dist from skull to player
    4072                    
    4073 000138e0     b4e2          move    *A7(OZPOS),A2,W
         000138f0     00d0  
    4074 00013900     b500          move    *A8(OZPOS),A0,W
         00013910     00d0  
    4075 00013920     4402          sub     A0,A2           ;A2 = Z dist from head to player
    4076                    
    4077 00013930     4c43          move    A2,A3
    4078 00013940     4c24          move    A1,A4
    4079 00013950     ca56          jrz     SZEROX
    4080 00013960     0383          abs     A3
    4081 00013970     0384          abs     A4
    4082 00013980     2603          sll     16,A3
    4083 00013990     5a83          divu    A4,A3
    4084 000139a0           SGtZdivX:
    4085                    
    4086 000139a0     4c21          move    A1,A1
    4087 000139b0     ce1c          jrn     SLftDir
    4088                    ;* facing right, 0<=dir<=4
    4089 000139c0     4c42          move    A2,A2
    4090 000139d0     ce0d          jrn     SRgtUDir
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   98

    4091                    ;**facing right and down
    4092 000139e0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         000139f0 ffff6c32  
    4093 00013a10     c438          jrlt    SDir3
    4094 00013a20     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00013a30 fffeffff  
    4095 00013a50     c432          jrlt    SDir2
    4096 00013a60     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00013a70 fffddb01  
    4097 00013a90     c42c          jrlt    SDir1
    4098 00013aa0     c029          jruc    SDir0
    4099 00013ab0           SRgtUDir:
    4100                    ;**facing right and up
    4101 00013ab0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         00013ac0 ffff6c32  
    4102 00013ae0     c42b          jrlt    SDir3
    4103 00013af0     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00013b00 fffeffff  
    4104 00013b20     c429          jrlt    SDir4
    4105 00013b30     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00013b40 fffddb01  
    4106 00013b60     c427          jrlt    SDir5
    4107 00013b70     c028          jruc    SDir6
    4108                    
    4109 00013b80           SLftDir:
    4110                    ;* facing left, 5<=dir<=9
    4111 00013b80     4c42          move    A2,A2
    4112 00013b90     ce0d          jrn     SLftUDir
    4113                    ;**facing left and down
    4114 00013ba0     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         00013bb0 ffff6c32  
    4115 00013bd0     c428          jrlt    SDir9
    4116 00013be0     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00013bf0 fffeffff  
    4117 00013c10     c426          jrlt    SDir10
    4118 00013c20     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00013c30 fffddb01  
    4119 00013c50     c424          jrlt    SDir11
    4120 00013c60     c00d          jruc    SDir0
    4121                    
    4122 00013c70           SLftUDir:
    4123                    ;**facing left and up
    4124 00013c70     0b63          cmpi    093cdH,A3       ;ANG < 30 deg           
         00013c80 ffff6c32  
    4125 00013ca0     c41b          jrlt    SDir9
    4126 00013cb0     0b63          cmpi    010000H,A3      ;ANG < 45 deg           
         00013cc0 fffeffff  
    4127 00013ce0     c415          jrlt    SDir8
    4128 00013cf0     0b63          cmpi    0224FEH,A3      ;ANG < 65 deg           
         00013d00 fffddb01  
    4129 00013d20     c40f          jrlt    SDir7
    4130 00013d30     c00c          jruc    SDir6
    4131                    
    4132 00013d40     5600  SDir0:  clr     A0
    4133 00013d50     c015          jruc    SetSDir
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE   99

    4134 00013d60     1820  SDir1:  movk    1,A0
    4135 00013d70     c013          jruc    SetSDir
    4136 00013d80     1840  SDir2:  movk    2,A0
    4137 00013d90     c011          jruc    SetSDir
    4138 00013da0     1860  SDir3:  movk    3,A0
    4139 00013db0     c00f          jruc    SetSDir
    4140 00013dc0     1880  SDir4:  movk    4,A0
    4141 00013dd0     c00d          jruc    SetSDir
    4142 00013de0     18a0  SDir5:  movk    5,A0
    4143 00013df0     c00b          jruc    SetSDir
    4144 00013e00     18c0  SDir6:  movk    6,A0
    4145 00013e10     c009          jruc    SetSDir
    4146 00013e20     18e0  SDir7:  movk    7,A0
    4147 00013e30     c007          jruc    SetSDir
    4148 00013e40     1900  SDir8:  movk    8,A0
    4149 00013e50     c005          jruc    SetSDir
    4150 00013e60     1920  SDir9:  movk    9,A0
    4151 00013e70     c003          jruc    SetSDir
    4152 00013e80     1940  SDir10: movk    10,A0
    4153 00013e90     c001          jruc    SetSDir
    4154 00013ea0     1960  SDir11: movk    11,A0
    4155                    ;       jruc    SetSDir
    4156                    
    4157 00013eb0           SetSDir:
    4158 00013eb0     0960          rets
    4159 00013ec0           SZEROX:
    4160 00013ec0     09e3          movi    07FFFFFFFH,A3
         00013ed0 7fffffff  
    4161 00013ef0     c0aa          jruc    SGtZdivX
    4162                    **************************************************************************
    4163                    
    4164                    
    4165                    **************************************************************************
    4166 00013f00           GetSDir:
    4167 00013f00     afa0          movb    *A13(INBITE),A0
         00013f10     00e0  
    4168 00013f20     cb20          jrnz    GetSDirX
    4169                    
    4170 00013f30     0d3f          callr   FindSDir
         00013f40     ff8a  
    4171                    
    4172 00013f50     afa4          movb    *A13(DIR),A4
         00013f60     00f8  
    4173 00013f70     4804          cmp     A0,A4
    4174 00013f80     c402          jrlt    IncSDir
    4175 00013f90     c70b          jrgt    DecSDir
    4176 00013fa0     c016          jruc    GotSDir
    4177 00013fb0           IncSDir:
    4178 00013fb0     4480          sub     A4,A0
    4179 00013fc0     0b40          cmpi    6,A0
         00013fd0     fff9  
    4180 00013fe0     c702          jrgt    IncMSDir
    4181 00013ff0     1024          inc     A4
    4182 00014000     c010          jruc    GotSDir
    4183 00014010           IncMSDir:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  100

    4184 00014010     1424          dec     A4
    4185 00014020     cf0e          jrnn    GotSDir
    4186 00014030     1964          movk    11,A4
    4187 00014040     c00c          jruc    GotSDir
    4188                    
    4189 00014050           DecSDir:
    4190 00014050     4480          sub     A4,A0
    4191 00014060     03a0          neg     A0
    4192 00014070     0b40          cmpi    6,A0
         00014080     fff9  
    4193 00014090     c702          jrgt    DecMSDir
    4194 000140a0     1424          dec     A4
    4195 000140b0     c005          jruc    GotSDir
    4196 000140c0           DecMSDir:
    4197 000140c0     1024          inc     A4
    4198 000140d0     0b44          cmpi    11,A4
         000140e0     fff4  
    4199 000140f0     c601          jrle    GotSDir
    4200 00014100     5684          clr     A4
    4201                    ;       jruc    GotSDir
    4202                    
    4203 00014110           GotSDir:
    4204 00014110     ac8d          movb    A4,*A13(DIR)
         00014120     00f8  
    4205 00014130           GetSDirX:
    4206 00014130     0960          rets
    4207                    **************************************************************************
    4208                    
    4209                    **************************************************************************
    4210 00014140           GetSAni:                
    4211 00014140     afa0          movb    *A13(INBITE),A0
         00014150     00e0  
    4212 00014160     cb28          jrnz    SameSAni
    4213                    
    4214 00014170     afa0          movb    *A13(DIR),A0
         00014180     00f8  
    4215 00014190     0b40          cmpi    3,A0
         000141a0     fffc  
    4216 000141b0     ca03          jreq    CkTilt
    4217 000141c0     0b40          cmpi    9,A0
         000141d0     fff6  
    4218 000141e0     cb14          jrnz    GotOffst
    4219                    ;************** SKULL IS FACING LEFT OR RIGHT ******************
    4220 000141f0           CkTilt:
    4221 000141f0     b741          move    *A10(SKULL),A1,L
         00014200     0060  
    4222 00014210     b622          move    *A1(OYVEL),A2,L
         00014220     0060  
    4223 00014230     b623          move    *A1(OZVEL),A3,L
         00014240     00e0  
    4224 00014250     4462          sub     A3,A2
    4225 00014260     0b62          cmpi    -032000H,A2     
         00014270 00031fff  
    4226 00014290     c416          jrlt    TILTUP
    4227 000142a0     0b62          cmpi    028000H,A2      
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  101

         000142b0 fffd7fff  
    4228 000142d0     c714          jrgt    TILTDN
    4229                    
    4230 000142e0     0d3f          callr   TRYBITE
         000142f0     0014  
    4231 00014300     afa2          movb    *A13(BITING),A2
         00014310     0198  
    4232 00014320     4040          add     A2,A0
    4233 00014330           SkBite:
    4234 00014330           GotOffst:
    4235 00014330     24a0          sll     5,A0
    4236 00014340     0b20          addi    SDIRANI,A0
         00014350 00000000! 
    4237 00014370     8600          move    *A0,A0,L
    4238                    
    4239 00014380     b7a1          move    *A13(ANIMPTR),A1,L
         00014390     0120  
    4240 000143a0     4801          cmp     A0,A1
    4241 000143b0     ca03          jreq    SameSAni
    4242 000143c0     b20d          move    A0,*A13(ANIMPTR),L
         000143d0     0120  
    4243 000143e0     4c09          move    A0,A9
    4244 000143f0           SameSAni:
    4245 000143f0     0960          rets
    4246                    
    4247 00014400           TILTUP:
    4248 00014400     1120          addk    9,A0
    4249 00014410     c0f1          jruc    GotOffst
    4250 00014420           TILTDN:
    4251 00014420     1140          addk    10,A0
    4252 00014430     c0ef          jruc    GotOffst
    4253                    **************************************************************************
    4254                    
    4255                    **************************************************************************
    4256 00014440           TRYBITE:
    4257 00014440     098f          mmtm    SP,A0,A2,A3,A7,A8
         00014450     b180  
    4258 00014460     afa0          movb    *A13(BITING),A0
         00014470     0198  
    4259 00014480     cb31          jrnz    TRYBITEX
    4260                    
    4261 00014490     b748          move    *A10(SKULL),A8,L
         000144a0     0060  
    4262 000144b0     0d5f          calla   ClosestP
         000144c0 00000000! 
    4263 000144e0     4c07          move    A0,A7
    4264 000144f0     0d5f          calla   GETANIX
         00014500 00000000! 
    4265 00014520     4c02          move    A0,A2           ;A2 - XPOS of Skull
    4266 00014530     09c3          movi    50,A3
         00014540     0032  
    4267 00014550     b500          move    *A8(OFLAGS),A0,W
         00014560     0100  
    4268 00014570     1f60          btst    B_FLIPH,A0
    4269 00014580     ca01          jrz     SkNgJAdj
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  102

    4270 00014590     03a3          neg     A3
    4271 000145a0           SkNgJAdj:
    4272 000145a0     4062          add     A3,A2
    4273 000145b0     4ce8          move    A7,A8
    4274 000145c0     0d5f          calla   GETANIX
         000145d0 00000000! 
    4275 000145f0     4c03          move    A0,A3           ;A3 - XPOS of player
    4276                    
    4277 00014600     4443          sub     A2,A3
    4278 00014610     0383          abs     A3
    4279 00014620     2463          sll     3,A3
    4280 00014630     09c0          movi    1000,A0
         00014640     03e8  
    4281 00014650     4460          sub     A3,A0
    4282 00014660     ce07          jrn     NoBite
    4283 00014670     0d5f          calla   RANDPER
         00014680 00000000! 
    4284 000146a0     c903          jrnc    NoBite
    4285                    
    4286 000146b0     1960          movk    SKULBITE,A0
    4287 000146c0     ac0d          movb    A0,*A13(BITING)
         000146d0     0198  
    4288 000146e0           NoBite:
    4289 000146e0     afa0          movb    *A13(TUNGDEAD),A0
         000146f0     00f0  
    4290 00014700     cb09          jrnz    TRYBITEX
    4291                    
    4292                            ;*** TRY FIRING A TUNG INSTEAD...
    4293 00014710     09c0          movi    500,A0
         00014720     01f4  
    4294 00014730     0d5f          calla   RANDPER
         00014740 00000000! 
    4295 00014760     c903          jrnc    TRYBITEX
    4296 00014770     1980          movk    SKULTUNG,A0
    4297 00014780     ac0d          movb    A0,*A13(BITING)
         00014790     0198  
    4298                            
    4299 000147a0           TRYBITEX:
    4300 000147a0     09af          mmfm    SP,A0,A2,A3,A7,A8
         000147b0     018d  
    4301 000147c0     0960          rets
    4302                    **************************************************************************
    4303                            
    4304                    **************************************************************************
    4305 000147d0           HDSPIN:
    4306                    ;* First Byte is spine bone to blow (0=none), second byte is tiks
    4307 000147d0       05          .BYTE   5       ;first addk skips this
    4308 000147d8       00          .BYTE   0,5, 0,4, 1,3, 0,3, 0,3, 0,2, 0,2, 3,2, 0,2
    4309 00014868       00          .BYTE   0,1, 0,1, 1,1, 2,1, 0,1, 0,1, 0,0
    4310 000148e0                   .EVEN
    4311                    **************************************************************************
    4312                    
    4313                    **************************************************************************
    4314 000148e0           SklExplo:
    4315                    ;* PROCESS TO BLOW UP THE HEAD...
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  103

    4316                    
    4317                            ;* restuff coll vects for base
    4318 000148e0     09e1          movi    SBSECOLL,A1
         000148f0 0000f700' 
    4319 00014910     b740          move    *A10(STUMP),A0,L
         00014920     0040  
    4320 00014930     b220          move    A1,*A0(OCVECT),L
         00014940     01d0  
    4321 00014950     b740          move    *A10(BASEL),A0,L
         00014960     0000  
    4322 00014970     b220          move    A1,*A0(OCVECT),L
         00014980     01d0  
    4323 00014990     b740          move    *A10(BASER),A0,L
         000149a0     0020  
    4324 000149b0     b220          move    A1,*A0(OCVECT),L
         000149c0     01d0  
    4325                    
    4326 000149d0     1820          movk    1,A0
    4327 000149e0     ac0d          movb    A0,*A13(TUNGDEAD)
         000149f0     00f0  
    4328                    
    4329 00014a00     ac0d          movb    A0,*A13(BITING)
         00014a10     0198  
    4330 00014a20     0d3f          callr   JawBite         ;get jaw off of explosion list
         00014a30     fdf1  
    4331                    
    4332 00014a40     09c1          movi    40,A1
         00014a50     0028  
    4333 00014a60           IncPitch:
    4334 00014a60     09e0          movi    PitchSND,A0
         00014a70 00000200' 
    4335 00014a90     0d5f          calla   ONESND
         00014aa0 00000000! 
    4336 00014ac0     3ce1          dsjs    A1,IncPitch
    4337                    
    4338                    ;********* SPIN HEAD AROUND A BIT ************
    4339 00014ad0     09e0          movi    SpinStSND,A0
         00014ae0 00000180' 
    4340 00014b00     0d5f          calla   ONESND
         00014b10 00000000! 
    4341                    
    4342 00014b30                   SLEEP   2
    4343                    
    4344 00014b70     09e0          movi    SpinSND,A0
         00014b80 000001c0' 
    4345 00014ba0     0d5f          calla   ONESND
         00014bb0 00000000! 
    4346                    
    4347 00014bd0     09e0          movi    HDSPIN,A0       ;table of head spin speeds
         00014be0 000147d0' 
    4348 00014c00                   PUSHP   A0
    4349 00014c10           SpinLp:
    4350 00014c10     8748          move    *A10,A8,L
    4351 00014c20     0d3f          callr   ZCHECK
         00014c30     ed03  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  104

    4352 00014c40     0d3f          callr   XBOUNDS
         00014c50     ecd5  
    4353 00014c60     0d3f          callr   NeckCk
         00014c70     fd07  
    4354                    
    4355 00014c80     afa0          movb    *A13(ANIMTIKS),A0
         00014c90     01a0  
    4356 00014ca0     cb32          jrnz    ANIMX
    4357                    
    4358 00014cb0     afa0          movb    *A13(DIR),A0
         00014cc0     00f8  
    4359 00014cd0     1020          inc     A0
    4360 00014ce0     0b40          cmpi    12,A0
         00014cf0     fff3  
    4361 00014d00     c414          jrlt    DOK
    4362 00014d10                   PULLP   A0
    4363 00014d30     1100          addk    8,A0
    4364 00014d40     8e01          movb    *A0,A1          ;spine bone to blow
    4365 00014d50     ca09          jrz     SkBlowSp
    4366 00014d60     1421          dec     A1
    4367 00014d70     24a1          sll     5,A1
    4368 00014d80     b7a2          move    *A13(SPINE),A2,L
         00014d90     00c0  
    4369 00014da0     4022          add     A1,A2
    4370 00014db0     8648          move    *A2,A8,L
    4371 00014dc0     0d5f          calla   SpineHit
         00014dd0 0000fef0' 
    4372 00014df0           SkBlowSp:
    4373 00014df0     1100          addk    8,A0
    4374 00014e00     8e01          movb    *A0,A1
    4375 00014e10     ca00          jrz     SpinX
         00014e20     008e  
    4376 00014e30                   PUSHP   A0
    4377 00014e40     5600          clr     A0
    4378 00014e50           DOK:
    4379 00014e50     ac0d          movb    A0,*A13(DIR)
         00014e60     00f8  
    4380                    
    4381 00014e70     0d3f          callr   GetSAni
         00014e80     ff2b  
    4382 00014e90     0d3f          callr   AniSkull
         00014ea0     fe21  
    4383                    
    4384 00014eb0     09e0          movi    PitchSND,A0
         00014ec0 00000200' 
    4385 00014ee0     0d5f          calla   ONESND
         00014ef0 00000000! 
    4386 00014f10     09e0          movi    PitchSND,A0
         00014f20 00000200' 
    4387 00014f40     0d5f          calla   ONESND
         00014f50 00000000! 
    4388 00014f70                   PULLP   A1
    4389 00014f90     8e20          movb    *A1,A0
    4390 00014fa0                   PUSHP   A1
    4391 00014fb0     ac0d          movb    A0,*A13(ANIMTIKS)
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  105

         00014fc0     01a0  
    4392 00014fd0           ANIMX:
    4393                    
    4394 00014fd0     24e0          sll     7,A0
    4395 00014fe0     0d3f          callr   BmpSklV
         00014ff0     0274  
    4396                    
    4397 00015000     0d3f          callr   BaseCent
         00015010     0291  
    4398 00015020     0d3f          callr   BaseDamp
         00015030     fd3f  
    4399 00015040     0d3f          callr   SkulDamp
         00015050     fd55  
    4400 00015060     0d3f          callr   UpdSkulP
         00015070     ef32  
    4401 00015080     0d3f          callr   UpdJawP
         00015090     fd81  
    4402 000150a0     0d3f          callr   UpdSkulV
         000150b0     ef96  
    4403 000150c0     0d3f          callr   UpdBaseP
         000150d0     eee6  
    4404 000150e0     0d3f          callr   UpdBaseV
         000150f0     ef6e  
    4405 00015100     09e0          movi    000008800H,A0,L
         00015110 00008800  
    4406 00015130     0d3f          callr   HedSpine
         00015140     f98d  
    4407                    
    4408 00015150     afa0          movb    *A13(ANIMTIKS),A0
         00015160     01a0  
    4409 00015170     1420          subk    1,A0
    4410 00015180     c101          jrp     SkClrAnT
    4411 00015190     5600          clr     A0
    4412 000151a0           SkClrAnT:
    4413 000151a0     ac0d          movb    A0,*A13(ANIMTIKS)
         000151b0     01a0  
    4414                    
    4415                            ;* MAKE SOME RANDOM EXPLOSIONS
    4416 000151c0     09c0          movi    170,A0
         000151d0     00aa  
    4417 000151e0     0d5f          calla   RANDPER
         000151f0 00000000! 
    4418 00015210     c943          jrnc    SkNukes
    4419 00015220     4d48          move    A10,A8
    4420 00015230     098f          mmtm    SP,A10,A11
         00015240     0030  
    4421 00015250     07e0          movb    @RAND,A0
         00015260 00000000! 
    4422 00015280     ce23          jrn     SkSkull
    4423 00015290     0b08          addi    SKULL,A8
         000152a0     0060  
    4424 000152b0     09c0          movi    50,A0
         000152c0     0032  
    4425 000152d0     0d5f          calla   SRAND
         000152e0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  106

    4426 00015300     4c0a          move    A0,A10
    4427 00015310     09c0          movi    40,A0
         00015320     0028  
    4428 00015330     0d5f          calla   SRAND
         00015340 00000000! 
    4429 00015360     0be0          subi    15,A0
         00015370     fff0  
    4430 00015380     4c0b          move    A0,A11
    4431                    
    4432 00015390     098f          mmtm    SP,A8
         000153a0     0080  
    4433 000153b0     09e1          movi    CHNKTBL4,A1
         000153c0 00000000! 
    4434 000153e0     09e2          movi    BONEINI,A2
         000153f0 00000000! 
    4435 00015410     09e4          movi    BONESINK,A4
         00015420 00016230' 
    4436 00015440     09c6          movi    00H,A6   ;Y:X OFFSET of where to start chunks from object
         00015450     0000  
    4437 00015460     8708          move    *A8,A8,L
    4438 00015470     0d3f          callr   DOCHUNKS
         00015480     f802  
    4439 00015490     09af          mmfm    SP,A8
         000154a0     0100  
    4440                    
    4441 000154b0     c00e          jruc    GotNkCrs
    4442 000154c0           SkSkull:
    4443 000154c0     09c0          movi    60,A0
         000154d0     003c  
    4444 000154e0     0d5f          calla   SRAND
         000154f0 00000000! 
    4445 00015510     4c0a          move    A0,A10
    4446 00015520     09c0          movi    40,A0
         00015530     0028  
    4447 00015540     0d5f          calla   SRAND
         00015550 00000000! 
    4448 00015570     0b00          addi    80,A0
         00015580     0050  
    4449 00015590     4c0b          move    A0,A11
    4450 000155a0           GotNkCrs:
    4451 000155a0     8708          move    *A8,A8,L
    4452 000155b0                   CREATE  NUKEPID,MkNuke
    4453 00015630     09af          mmfm    SP,A10,A11
         00015640     0c00  
    4454 00015650           SkNukes:
    4455                    
    4456 00015650     1820          movk    1,A0
    4457 00015660     0d3f          callr   CkBFlash
         00015670     f4d4  
    4458 00015680     0d5f          calla   PRCSLP
         00015690 00000000! 
    4459 000156b0     5600          clr     A0
    4460 000156c0     0580          move    A0,@IRQSKYE,W
         000156d0 00000000! 
    4461                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  107

    4462 000156f0     c000          jruc    SpinLp
         00015700     ff50  
    4463                    
    4464 00015710           SpinX:
    4465 00015710     09e0          movi    PClrSND,A0
         00015720 00000240' 
    4466 00015740     0d5f          calla   ONESND
         00015750 00000000! 
    4467 00015770     09e0          movi    SkExpSND,A0
         00015780 00000400' 
    4468 000157a0     0d5f          calla   ONESND
         000157b0 00000000! 
    4469                    
    4470 000157d0     b748          move    *A10(SKULL),A8,L
         000157e0     0060  
    4471 000157f0     0d5f          calla   ClrVel
         00015800 00000000! 
    4472 00015820     0d3f          callr   UpdSkulV
         00015830     ef1e  
    4473                    
    4474 00015840     8748          move    *A10,A8,L
    4475 00015850     0d5f          calla   ClrVel
         00015860 00000000! 
    4476 00015880     0d3f          callr   UpdBaseV
         00015890     eef4  
    4477                    
    4478 000158a0     0d3f          callr   FlySpine
         000158b0     012d  
    4479                    
    4480                    ;****** CREATE LOTS OF FRAGMENTS TO BLOW FROM HEAD ********
    4481 000158c0     09e1          movi    CHNKTBL3,A1
         000158d0 00000000! 
    4482 000158f0     09e2          movi    BONEINI,A2
         00015900 00000000! 
    4483 00015920     09e4          movi    BONESINK,A4
         00015930 00016230' 
    4484 00015950     09c6          movi    00H,A6   ;Y:X OFFSET of where to start chunks from object
         00015960     0000  
    4485 00015970     b748          move    *A10(SKULL),A8,L
         00015980     0060  
    4486 00015990     0d3f          callr   DOCHUNKS
         000159a0     f7b0  
    4487                    
    4488 000159b0     1920          movk    9,A0
    4489 000159c0     0d5f          calla   PRCSLP
         000159d0 00000000! 
    4490                    
    4491 000159f0     0d3f          callr   FlySkull
         00015a00     0167  
    4492                            
    4493 00015a10     18e0          movk    7,A0
    4494 00015a20     0d5f          calla   PRCSLP
         00015a30 00000000! 
    4495                    
    4496                            ;**** kill eye color cycler
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  108

    4497 00015a50                   NOMATCHP        SKLCCPID,0FFFFH,NoSkulCC
    4498 00015b00     0d5f          calla   KILL
         00015b10 00000000! 
    4499 00015b30           NoSkulCC:
    4500                    
    4501 00015b30     09e1          movi    CHNKTBL2,A1
         00015b40 00000000! 
    4502 00015b60     09e2          movi    CHNKTINI,A2
         00015b70 00000000! 
    4503 00015b90     09e4          movi    CHNKSINK,A4
         00015ba0 0000da90' 
    4504 00015bc0     09c6          movi    00H,A6   ;Y:X OFFSET of where to start chunks from object
         00015bd0     0000  
    4505 00015be0     b748          move    *A10(SKULL),A8,L
         00015bf0     0060  
    4506 00015c00     0d3f          callr   DOCHUNKS
         00015c10     f789  
    4507                    
    4508 00015c20     1940          movk    10,A0
    4509 00015c30     0d5f          calla   PRCSLP
         00015c40 00000000! 
    4510                    
    4511 00015c60     09e1          movi    CHNKTBL3,A1
         00015c70 00000000! 
    4512 00015c90     09e2          movi    BONEINI,A2
         00015ca0 00000000! 
    4513 00015cc0     09e4          movi    BONESINK,A4
         00015cd0 00016230' 
    4514 00015cf0     09c6          movi    00H,A6   ;Y:X OFFSET of where to start chunks from object
         00015d00     0000  
    4515 00015d10     b748          move    *A10(SKULL),A8,L
         00015d20     0060  
    4516 00015d30     0d3f          callr   DOCHUNKS
         00015d40     f776  
    4517                    
    4518 00015d50     09e0          movi    HdExpSND,A0
         00015d60 000002a0' 
    4519 00015d80     0d5f          calla   ONESND
         00015d90 00000000! 
    4520                    
    4521                            ;* JUST THE BASE IS LEFT
    4522                            ;* set color cycler to black
    4523 00015db0                   NOMATCHP        BASCCPID,0FFFFH,NoBCC
    4524 00015e60     1901          movk    8,A1
    4525 00015e70     ac20          movb    A1,*A0(COLORLVL)
         00015e80     0180  
    4526 00015e90           NoBCC:
    4527                    
    4528 00015e90           BaseLp:
    4529 00015e90     05a0          move    @GOTCARD,A0,W
         00015ea0 00000010- 
    4530 00015ec0     ca10          jrz     SkDrop
    4531 00015ed0     8748          move    *A10,A8,L
    4532 00015ee0     09c9          movi    GOLD,A9
         00015ef0     0003  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  109

    4533 00015f00                   CREATE  0EAH,DROPCARD
    4534 00015f80     ca04          jrz     SkDrop
    4535 00015f90     5600          clr     A0
    4536 00015fa0     0580          move    A0,@GOTCARD,W
         00015fb0 00000010- 
    4537 00015fd0           SkDrop:
    4538                    
    4539 00015fd0     0d3f          callr   XBOUNDS
         00015fe0     eb9c  
    4540 00015ff0     0d3f          callr   BaseDamp
         00016000     fc42  
    4541 00016010     0d3f          callr   BaseDamp
         00016020     fc40  
    4542 00016030     0d3f          callr   BaseDamp
         00016040     fc3e  
    4543 00016050     0d3f          callr   UpdBaseP
         00016060     eded  
    4544 00016070     0d3f          callr   UpdBaseV
         00016080     ee75  
    4545                    
    4546 00016090     1860          movk    3,A0
    4547 000160a0     0d3f          callr   CkBFlash
         000160b0     f430  
    4548 000160c0     0d5f          calla   PRCSLP
         000160d0 00000000! 
    4549 000160f0     5600          clr     A0
    4550 00016100     0580          move    A0,@IRQSKYE,W
         00016110 00000000! 
    4551                    
    4552 00016130     c0d5          jruc    BaseLp
    4553                    
    4554 00016140                   DIE
    4555                    **************************************************************************
    4556                    
    4557                    **************************************************************************
    4558                    ;**** BONESINK IS ENTRY POINT...
    4559 00016170           NxtBFrm:
    4560 00016170     9520          move    *A9+,A0,W
    4561 00016180     4c01          move    A0,A1
    4562 00016190     0b80          andi    FLIPBITS,A0
         000161a0 ffffbfff  
    4563 000161c0     ca01          jrz     SkAFLP
    4564 000161d0     9520          move    *A9+,A0,W
    4565 000161e0           SkAFLP:
    4566 000161e0     0b81          andi    NEWPALET,A1
         000161f0 ffffdfff  
    4567 00016210     ca01          jrz     BONESINK
    4568 00016220     9720          move    *A9+,A0,L
    4569 00016230           BONESINK:
    4570 00016230     9720          move    *A9+,A0,L
    4571 00016240     cbf2          jrnz    NxtBFrm
    4572                    
    4573 00016250     9720          move    *A9+,A0,L
    4574 00016260     9520          move    *A9+,A0,W
    4575 00016270     0b80          andi    FLIPBITS,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  110

         00016280 ffffbfff  
    4576 000162a0     ca01          jrz     SkBFlps
    4577 000162b0     9520          move    *A9+,A0,W
    4578 000162c0           SkBFlps:
    4579                    
    4580 000162c0     09e0          movi    Bone1SND,A0
         000162d0 000000c0' 
    4581 000162f0     07e1          movb    @RAND,A1
         00016300 00000000! 
    4582 00016320     ce0a          jrn     GotSnd
    4583 00016330     09e0          movi    Bone2SND,A0
         00016340 00000100' 
    4584 00016360     05a1          move    @RAND,A1,W
         00016370 00000000! 
    4585 00016390     ce03          jrn     GotSnd
    4586 000163a0     09e0          movi    Bone3SND,A0
         000163b0 00000140' 
    4587 000163d0           GotSnd:
    4588 000163d0     0d5f          calla   ONESND
         000163e0 00000000! 
    4589                    
    4590 00016400     1881          MOVK    4,A1
    4591 00016410                   JSRP    FRANIM
    4592                    
    4593 00016480                   sleep   20
    4594 000164c0     09e9          movi    [1,1],A9
         000164d0 00010001  
    4595 000164f0                   jsrp    OSINK
    4596 00016560     4d00          move    A8,A0
    4597 00016570     0d5f          calla   DELPAL
         00016580 00000000! 
    4598 000165a0     0d5f          calla   DELSOBJ
         000165b0 00000000! 
    4599 000165d0     05a0          move    @FRAGCNT,A0,W
         000165e0 00000000- 
    4600 00016600     1420          dec     A0
    4601 00016610     0580          move    A0,@FRAGCNT,W
         00016620 00000000- 
    4602 00016640                   DIE
    4603                    **************************************************************************
    4604                    
    4605                    **************************************************************************
    4606 00016670           GRNDSKUL:
    4607                    ;       jruc    NoBnce
    4608                    ;
    4609                    ;       movi    -030000H,A0
    4610                    ;       move    A0,*A8(OYVEL),L
    4611                    ;
    4612                    ;BnceCk:
    4613                    ;       movi    Bone3SND,A0
    4614                    ;       calla   ONESND
    4615                    ;
    4616                    ;       move    *A8(OYVEL),A0,L
    4617                    ;       sra     1,A0
    4618                    ;       cmpi    05000H,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  111

    4619                    ;       jrlt    NoBnce
    4620                    ;       neg     A0
    4621                    ;       move    A0,*A8(OYVEL),L
    4622                    ;
    4623                    ;BnceLp:
    4624                    ;       SLEEP   1
    4625                    ;       move    *A8(OYVEL),A0,L
    4626                    ;       addi    03000H,A0
    4627                    ;       move    A0,*A8(OYVEL),L
    4628                    ;       jrn     BnceLp
    4629                    ;       calla   DFRMGRND
    4630                    ;       cmpi    5,A1
    4631                    ;       jrlt    BnceCk
    4632                    ;       jruc    BnceLp
    4633                    ;NoBnce:
    4634                    ;
    4635 00016670     5600          clr     A0
    4636 00016680     b208          move    A0,*A8(OPLINK),L
         00016690     01f0  
    4637 000166a0     4d00          move    A8,A0
    4638 000166b0     09e1          movi    BACKSLST,A1
         000166c0 00000000! 
    4639 000166e0     0d5f          calla   ADDSUPP
         000166f0 00000000! 
    4640 00016710     09c0          movi    BGDMPID,A0
         00016720     0bc9  
    4641 00016730     b008          move    A0,*A8(OID),W
         00016740     01a0  
    4642 00016750     1821          movk    1,A1
    4643 00016760     4d00          move    A8,A0
    4644 00016770     0d5f          calla   ADDBB
         00016780 00000000! 
    4645 000167a0     09e0          movi    DUMPCOLL,A0
         000167b0 00000000! 
    4646 000167d0     b208          move    A0,*A8(OCVECT),L
         000167e0     01d0  
    4647 000167f0     09e0          movi    000010012H,A0
         00016800 00010012  
    4648 00016820     b208          move    A0,*A8(OZSIZ),L
         00016830     01b0  
    4649                    
    4650 00016840           CarcLp:
    4651 00016840     09c0          movi    250,A0
         00016850     00fa  
    4652 00016860     0d5f          calla   RANDU
         00016870 00000000! 
    4653 00016890     0b00          addi    15,A0
         000168a0     000f  
    4654 000168b0     0d5f          calla   PRCSLP
         000168c0 00000000! 
    4655                    
    4656                    ;BUGCOLD; A5  - Y:X; A6  - 0:Z;
    4657                    ; A14 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
    4658                    * GETANIXY - A8=OBJ -> A2=ANIPT OYVAL, A3=ANIPT OXVAL
    4659 000168e0     0d5f          calla   GETANIXY
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  112

         000168f0 00000000! 
    4660 00016910     2e03          srl     16,A3
    4661 00016920     ec65          movx    A3,A5
    4662 00016930     0d02          subi    080000H,A2
         00016940 fff7ffff  
    4663 00016960     ee45          movy    A2,A5
    4664 00016970     b506          move    *A8(OZPOS),A6,W
         00016980     00d0  
    4665 00016990     14a6          subk    5,A6
    4666 000169a0     09ee          movi    000100000H|BUGEOID|1,A14
         000169b0 00100e01  
    4667 000169d0     0d5f          calla   BUGCOLD
         000169e0 00000000! 
    4668                    
    4669 00016a00     c0e3          jruc    CarcLp
    4670                    
    4671 00016a10                   sleep   20
    4672 00016a50     09e9          movi    [1,1],A9
         00016a60 00010001  
    4673 00016a80                   jsrp    OSINK
    4674 00016af0     4d00          move    A8,A0
    4675 00016b00     0d5f          calla   DELPAL
         00016b10 00000000! 
    4676 00016b30     0d5f          calla   DELSOBJ
         00016b40 00000000! 
    4677 00016b60                   DIE
    4678                    **************************************************************************
    4679                    
    4680                    **************************************************************************
    4681 00016b90           FlySpine:
    4682 00016b90     09e9          movi    FLYSPINE,A9
         00016ba0 00000000! 
    4683 00016bc0     09e4          movi    BONESINK,A4
         00016bd0 00016230' 
    4684 00016bf0     b7ab          move    *A13(SPINE),A11,L
         00016c00     00c0  
    4685 00016c10     afa6          movb    *A13(SPINELEN),A6
         00016c20     0188  
    4686 00016c30     ca43          jrz     FSpineX
    4687 00016c40     5600          clr     A0
    4688 00016c50     ac0d          movb    A0,*A13(SPINELEN)
         00016c60     0188  
    4689 00016c70           BlowemS:
    4690 00016c70     9768          move    *A11+,A8,L
    4691                    
    4692                    *       TRAJEC1 - JUST DOES THE TRAJECTORY WITH AN EXISTING OBJECT       *
    4693                    * A8 = RESERVED FOR OBJECT BLOCK POINTER                                 *
    4694                    * A9 = INITIAL ANIMATION LIST                                            *
    4695                    * PDATA+A0H  = PROCESS TO CREATE UPON DEATH (32 BITS)                    *
    4696 00016c80                   CREATE  CHUNKPID,NTRAJEC1
    4697 00016d00     ca31          jrz     NoFlySpn
    4698 00016d10     4c07          move    A0,A7
    4699 00016d20     05a0          move    @FRAGCNT,A0,W
         00016d30 00000000- 
    4700 00016d50     1020          inc     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  113

    4701 00016d60     0580          move    A0,@FRAGCNT,W
         00016d70 00000000- 
    4702                    
    4703 00016d90     4d00          move    A8,A0
    4704 00016da0     09e1          movi    ENEMIES,A1
         00016db0 00000000! 
    4705 00016dd0     0d5f          calla   DELSUPP
         00016de0 00000000! 
    4706                    
    4707 00016e00     09e0          movi    050000H,A0      ;XVEL
         00016e10 00050000  
    4708 00016e30     0d5f          calla   SRAND
         00016e40 00000000! 
    4709 00016e60     b208          move    A0,*A8(OXVEL),L
         00016e70     0040  
    4710 00016e80     09e0          movi    050000H,A0      ;YVEL
         00016e90 00050000  
    4711 00016eb0     0d5f          calla   RANDU
         00016ec0 00000000! 
    4712 00016ee0     03a0          neg     A0
    4713 00016ef0     0d00          subi    040000H,A0
         00016f00 fffbffff  
    4714 00016f20     b208          move    A0,*A8(OYVEL),L
         00016f30     0060  
    4715 00016f40     09e0          movi    018000H,A0      ;ZVEL
         00016f50 00018000  
    4716 00016f70     0d5f          calla   SRAND
         00016f80 00000000! 
    4717 00016fa0     b208          move    A0,*A8(OZVEL),L
         00016fb0     00e0  
    4718                    
    4719 00016fc0     b287          move    A4,*A7(PDATA+0A0H),L    ;GRND PROC
         00016fd0     0100  
    4720 00016fe0     0d86          dsj     A6,BlowemS
         00016ff0     ffc7  
    4721 00017000     c006          jruc    FSpineX
    4722                            
    4723 00017010           DelSpn:
    4724 00017010     9768          move    *A11+,A8,L
    4725 00017020           NoFlySpn:
    4726 00017020     4d00          move    A8,A0
    4727 00017030     0d5f          calla   DELENEMY        ;DELETE THE SPINE BONE
         00017040 00000000! 
    4728 00017060     3cc6          dsjs    A6,DelSpn
    4729                    
    4730 00017070           FSpineX:
    4731 00017070     0960          rets
    4732                    **************************************************************************
    4733                    
    4734                    
    4735                    **************************************************************************
    4736 00017080           FlySkull:
    4737 00017080     1820          movk    1,A0
    4738 00017090     ac0d          movb    A0,*A13(TUNGDEAD)
         000170a0     00f0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  114

    4739 000170b0     1880          movk    4,A0
    4740 000170c0     ac0a          movb    A0,*A10(SKLPARTS)
         000170d0     0210  
    4741 000170e0     09e9          movi    BlowSkul,A9
         000170f0 00000000! 
    4742 00017110     0d3f          callr   AniSkull
         00017120     fbf9  
    4743 00017130     0d3f          callr   UpdSkulP
         00017140     ed25  
    4744 00017150     5600          clr     A0
    4745 00017160     ac0d          movb    A0,*A13(BITING)
         00017170     0198  
    4746 00017180     0d3f          callr   JawBite         ;get jaw off of explosion list
         00017190     fb7b  
    4747                    
    4748 000171a0     09e4          movi    GrndTbl,A4
         000171b0 00017640' 
    4749 000171d0     09e5          movi    AnimTbl,A5
         000171e0 000176c0' 
    4750 00017200     4d4b          move    A10,A11
    4751 00017210     0b0b          addi    SKULL,A11
         00017220     0060  
    4752 00017230     af46          movb    *A10(SKLPARTS),A6
         00017240     0210  
    4753 00017250           BlowSkLp:
    4754 00017250     96a9          move    *A5+,A9,L
    4755 00017260     9768          move    *A11+,A8,L
    4756                    
    4757                    *       TRAJEC1 - JUST DOES THE TRAJECTORY WITH AN EXISTING OBJECT       *
    4758                    * A8 = RESERVED FOR OBJECT BLOCK POINTER                                 *
    4759                    * A9 = INITIAL ANIMATION LIST                                            *
    4760                    * PDATA+A0H  = PROCESS TO CREATE UPON DEATH (32 BITS)                    *
    4761 00017270                   CREATE  CHUNKPID,NTRAJEC1
    4762 000172f0     ca2e          jrz     NoFlySkl
    4763 00017300     9681          move    *A4+,A1,L
    4764 00017310     b220          move    A1,*A0(PDATA+0A0H),L    ;GRND PROC
         00017320     0100  
    4765 00017330     05a0          move    @FRAGCNT,A0,W
         00017340 00000000- 
    4766 00017360     1020          inc     A0
    4767 00017370     0580          move    A0,@FRAGCNT,W
         00017380 00000000- 
    4768                    
    4769 000173a0     09e1          movi    ENEMIES,A1
         000173b0 00000000! 
    4770 000173d0     4d00          move    A8,A0
    4771 000173e0     0d5f          calla   DELSUPP
         000173f0 00000000! 
    4772                    
    4773 00017410     09e0          movi    010000H,A0      ;XVEL
         00017420 00010000  
    4774 00017440     0d5f          calla   SRAND
         00017450 00000000! 
    4775 00017470     b208          move    A0,*A8(OXVEL),L
         00017480     0040  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  115

    4776 00017490     09e0          movi    030000H,A0      ;YVEL
         000174a0 00030000  
    4777 000174c0     0d5f          calla   RANDU
         000174d0 00000000! 
    4778 000174f0     03a0          neg     A0
    4779 00017500     0d00          subi    050000H,A0
         00017510 fffaffff  
    4780 00017530     b208          move    A0,*A8(OYVEL),L
         00017540     0060  
    4781 00017550     09e0          movi    -010000H,A0     ;ZVEL
         00017560 ffff0000  
    4782 00017580     b208          move    A0,*A8(OZVEL),L
         00017590     00e0  
    4783                    
    4784 000175a0     0d86          dsj     A6,BlowSkLp
         000175b0     ffc9  
    4785 000175c0     c006          jruc    FlySklX
    4786                            
    4787 000175d0           DelSkl:
    4788 000175d0     9768          move    *A11+,A8,L
    4789 000175e0           NoFlySkl:
    4790 000175e0     4d00          move    A8,A0
    4791 000175f0     0d5f          calla   DELENEMY        ;DELETE THE SKULL PIECE
         00017600 00000000! 
    4792 00017620     3cc6          dsjs    A6,DelSkl
    4793                    
    4794 00017630           FlySklX:
    4795 00017630     0960          rets
    4796                    
    4797 00017640           GrndTbl:
    4798 00017640 00016670'         .long   GRNDSKUL,BONESINK,BONESINK,BONESINK
    4799 000176c0           AnimTbl:
    4800 000176c0 00000000!         .long   FLYSKULL,FLYSPINE,FLYSPINE,FLYSPINE
    4801                    **************************************************************************
    4802                    
    4803                    
    4804                    **************************************************************************
    4805 00017740           BmpSklV:
    4806                    ;* PASS A0, % chance of bumping Y vel
    4807 00017740     0b00          addi    30,A0
         00017750     001e  
    4808 00017760     b748          move    *A10(SKULL),A8,L
         00017770     0060  
    4809 00017780     0d5f          calla   RANDPER
         00017790 00000000! 
    4810 000177b0     c90b          jrnc    SkBmpY
    4811 000177c0     09e0          movi    010000H,A0
         000177d0 00010000  
    4812 000177f0     0d5f          calla   RANDU
         00017800 00000000! 
    4813 00017820     b701          move    *A8(OYVEL),A1,L
         00017830     0060  
    4814 00017840     4401          sub     A0,A1
    4815 00017850     b228          move    A1,*A8(OYVEL),L
         00017860     0060  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  116

    4816 00017870           SkBmpY:
    4817 00017870     09e0          movi    018000H,A0
         00017880 00018000  
    4818 000178a0     0d5f          calla   SRAND
         000178b0 00000000! 
    4819 000178d0     b701          move    *A8(OXVEL),A1,L
         000178e0     0040  
    4820 000178f0     4001          add     A0,A1
    4821 00017900     b228          move    A1,*A8(OXVEL),L
         00017910     0040  
    4822 00017920     0960          rets
    4823                    **************************************************************************
    4824                    
    4825                    **************************************************************************
    4826 00017930           BaseCent:
    4827 00017930     8748          move    *A10,A8,L
    4828 00017940     b500          move    *A8(OXPOS),A0,W
         00017950     0090  
    4829 00017960     05a1          move    @(WORLDTLX+16),A1,W                              
         00017970 00000010! 
    4830 00017990     0b01          addi    256,A1
         000179a0     0100  
    4831                    
    4832 000179b0     4401          sub     A0,A1
    4833 000179c0     2101          sla     8,A1
    4834                    
    4835                    ;       movi    06000H,A2
    4836                    ;       cmp     A0,A1
    4837                    ;       jrgt    SkNgBXV
    4838                    ;       neg     A2
    4839                    ;SkNgBXV:
    4840 000179d0     b700          move    *A8(OXVEL),A0,L
         000179e0     0040  
    4841 000179f0     4020          add     A1,A0
    4842 00017a00     b208          move    A0,*A8(OXVEL),L
         00017a10     0040  
    4843                    
    4844 00017a20     b700          move    *A8(OYVEL),A0,L
         00017a30     0060  
    4845 00017a40     0b00          addi    0400H,A0
         00017a50     0400  
    4846 00017a60     b208          move    A0,*A8(OYVEL),L
         00017a70     0060  
    4847 00017a80     b700          move    *A8(OZVEL),A0,L
         00017a90     00e0  
    4848 00017aa0     0b00          addi    0400H,A0
         00017ab0     0400  
    4849 00017ac0     b208          move    A0,*A8(OZVEL),L
         00017ad0     00e0  
    4850 00017ae0     0960          rets
    4851                    **************************************************************************
    4852                    
    4853                    
    4854 00017af0           TRAJINIT
    4855 00017af0 00000000          .LONG   0,0,0,0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  117

    4856 00017b70     0000          .WORD   0,0
    4857 00017b90 00000000!         .LONG   jaw4,0,DUMCOLL
    4858 00017bf0     8002          .WORD   DMAWNZ,0
    4859 00017c10 00000000          .LONG   0
    4860                    **************************************************************************
    4861                    * TRAJECTORY PROCESS, CREATES AN OBJECT SENDING IT ALONG THE TRAJECTORY  *
    4862                    * DETERMINED BY THE GIVEN INITIAL X AND Y VELOCITIES. TWO ANIMATION LIST *
    4863                    * POINTERS MUST BE PASSED, ONE FOR THE FLYING ANIMATION AND ONE FOR THE  *
    4864                    * ANIMATION WHEN IT HITS THE GROUND.                                     *
    4865                    * WHEN THE FIRST LIST IS ANIMATED, THE FIRST TIME THROUGH SLEEP = 1,     *
    4866                    * THE 2nd, SLEEP = 2 ... THIS IS FOR SPINNING ANIMATIONS.                *
    4867                    * ENTRYPOINTS                                                            *
    4868                    *       TRAJEC  - CREATES A NEW OBJECT WITH THE GIVEN VEL AND POS PARAMS *
    4869                    *       TRAJEC1 - JUST DOES THE TRAJECTORY WITH AN EXISTING OBJECT       *
    4870                    * A8 = RESERVED FOR OBJECT BLOCK POINTER                                 *
    4871                    * A9 = INITIAL ANIMATION LIST                                            *
    4872                    * A10 = PTR TO OBJECT INITIALIZATION TABLE(IF = 0 THEN DEFAULT IS USED   *
    4873                    * A11 = INITIAL YPOS:XPOS                                                *
    4874                    * PDATA      = [DMA FLAGS,INITIAL Z-POSITION]                            *
    4875                    * PDATA+20H  = INITIAL X-VELOCITY (32 BITS)                              *
    4876                    * PDATA+40H  = INITIAL Y-VELOCITY (32 BITS)                              *
    4877                    * PDATA+60H  = INTIIAL Z-VELOCITY (32 BITS)                              *
    4878                    * PDATA+80H  = SECOND ANIMATION LIST (32 BITS)                           *                              
    4879                    * PDATA+A0H  = PROCESS TO CREATE UPON DEATH (32 BITS)                    *
    4880 00017c30           NTRAJEC
    4881 00017c30     4d4e          MOVE    A10,A14                 ;GET INIT TAB
    4882 00017c40     cb03          JRNE    TRAJECS                 ;BR = NON-EXISTANT
    4883 00017c50     09ee          MOVI    TRAJINIT,A14
         00017c60 00017af0' 
    4884 00017c80           TRAJECS
    4885 00017c80     0d5f          CALLA   GPALOBJ                 ;TRY FOR A PALETTE
         00017c90 00000000! 
    4886 00017cb0     ca80          JAZ     DUMDIE                  ;BR = NO PLACE FOR THIS FRAGMENT
         00017cc0 00000000! 
    4887 00017ce0     0d5f          CALLA   STFOBJ
         00017cf0 00000000! 
    4888                    
    4889 00017d10     4dae          MOVE    A13,A14
    4890 00017d20     0b0e          ADDI    PDATA,A14
         00017d30     0060  
    4891 00017d40     09ae          MMFM    A14,A3,A4,A5,A6         ;LOAD X&Y VELOCITIES,ZPOS,FLAGS
         00017d50     0078  
    4892                    
    4893 00017d60     b2a0          MOVE    A5,*A0(OXVEL),L
         00017d70     0040  
    4894 00017d80     b280          MOVE    A4,*A0(OYVEL),L
         00017d90     0060  
    4895 00017da0     b260          MOVE    A3,*A0(OZVEL),L         ;STUFF X,Y & Z VELOCITIES
         00017db0     00e0  
    4896                    
    4897 00017dc0     b0c0          MOVE    A6,*A0(OZPOS),W
         00017dd0     00d0  
    4898 00017de0     4cc4          MOVE    A6,A4
    4899 00017df0     2e04          SRL     16,A4                   ;FLAGS FOR GANISAG
    4900                            
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  118

    4901 00017e00     5642          CLR     A2
    4902 00017e10     ef62          MOVY    A11,A2
    4903 00017e20     ed63          MOVX    A11,A3
    4904 00017e30     2603          SLL     16,A3                   ;INITIAL X & Y APOINT POSITIONS
    4905                    
    4906 00017e40     bb20          MOVE    *A9(0),*A0(OIMG),L
         00017e50     0000  
         00017e60     0180  
    4907 00017e70     0d5f          CALLA   GANISAG                 ;SETUP EVERYTHING
         00017e80 00000000! 
    4908                                                                                             
    4909 00017ea0     b3a0          MOVE    A13,*A0(OPLINK),L       ;PROCESS LINK                    
         00017eb0     01f0  
    4910                                                                                             
    4911 00017ec0     0d5f          CALLA   INSOBJ                                                   
         00017ed0 00000000! 
    4912 00017ef0     4c08          MOVE    A0,A8
    4913 00017f00     0d5f          CALLA   SHADST                  ;GIVE US A SHADOW PREEEZE
         00017f10 00000000! 
    4914                    
    4915                    *SECOND ENTRY, NOTE: INITIAL VELOCITIES MUST BE IN PLACE AT THIS POINT
    4916 00017f30           NTRAJEC1
    4917 00017f30     b32d          MOVE    A9,*A13(PDATA+0C0H),L   ;KEEP FOR MULTIPLE ANIMATIONS
         00017f40     0120  
    4918 00017f50     184b          MOVK    2,A11
    4919 00017f60     574a          clr     A10
    4920 00017f70           TrajLp:
    4921 00017f70     0d3f          callr   XCHECK
         00017f80     005c  
    4922 00017f90     c84a          jrc     TrajX
    4923 00017fa0     4d40          move    A10,A0
    4924 00017fb0     c10f          jrp     SkAnim
    4925 00017fc0     1881          MOVK    4,A1
    4926 00017fd0                   JSRP    FRANIM
    4927 00018040     8720          move    *A9,A0,L
    4928 00018050     cb03          jrnz    ListLft
    4929 00018060     b7a9          MOVE    *A13(PDATA+0C0H),A9,L   ;POINT TO THE HEAD OF THE LIST
         00018070     0120  
    4930 00018080     102b          INC     A11                     ;INCREMENT SLEEP TIME
    4931 00018090           ListLft:
    4932 00018090     4d6a          move    A11,A10
    4933 000180a0     4d40          move    A10,A0
    4934 000180b0           SkAnim:
    4935 000180b0     0b40          cmpi    3,A0
         000180c0     fffc  
    4936 000180d0     c601          jrle    GotSlpT
    4937 000180e0     1860          movk    3,A0
    4938 000180f0           GotSlpT:
    4939 000180f0     440a          sub     A0,A10
    4940 00018100                   PUSHP   A0              ;push sleep count
    4941 00018110     0d5f          calla   PRCSLP
         00018120 00000000! 
    4942                    
    4943 00018140     0d5f          calla   ZCHEK
         00018150 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  119

    4944                    
    4945 00018170     b705          MOVE    *A8(OYVEL),A5,L         ;GET THE CURRENT Y VELOCITY
         00018180     0060  
    4946 00018190     ce06          jrn     GoingUp
    4947 000181a0     0d5f          calla   DFRMGRND                ;DID HE HIT THE GROUND?
         000181b0 00000000! 
    4948 000181d0     0b41          cmpi    6,A1
         000181e0     fff9  
    4949 000181f0     c608          jrle    HitGrnd
    4950 00018200           GoingUp:
    4951 00018200                   PULLP   A7              ;pull sleep count
    4952 00018220           AddGrav:
    4953 00018220     0b05          ADDI    01A00H,A5
         00018230     1a00  
    4954 00018240     3c67          dsjs    A7,AddGrav
    4955 00018250     b2a8          MOVE    A5,*A8(OYVEL),L
         00018260     0060  
    4956 00018270     c0cf          JRUC    TrajLp
    4957                    
    4958 00018280           HitGrnd:
    4959 00018280     0d5f          CALLA   ClrVel
         00018290 00000000! 
    4960 000182b0     0d5f          CALLA   GETANIXY                ;GET THE ANIMATION POINT
         000182c0 00000000! 
    4961 000182e0     b504          MOVE    *A8(OFLAGS),A4,W                                         
         000182f0     0100  
    4962 00018300     0b84          ANDNI   M_FLIPV,A4              ;NO UPSIDE-DOWNERS ALLOWED       
         00018310 00000020  
    4963 00018330     4d00          MOVE    A8,A0
    4964 00018340     0d5f          CALLA   GANISAG         ;SHOW THE NEW ADJUSTMENTS
         00018350 00000000! 
    4965 00018370     0d5f          CALLA   SETZPOS         ;RESET THE Z POSITION            
         00018380 00000000! 
    4966 000183a0     0d5f          CALLA   DELSHAD         ;DELETE THE SHADOW
         000183b0 00000000! 
    4967 000183d0     0d5f          CALLA   ZCHEK           ;MAKE SURE IT IS IN BOUNDS
         000183e0 00000000! 
    4968                    
    4969                    ;       MOVE    *A13(PDATA+80H),A9,L    ;GET THE SECOND ANIMATION LIST
    4970                    ;       JRZ     SkAni2                  ;NON-EXISTANT
    4971                    
    4972                    ;       MOVK    1,A1
    4973                    ;       JSRP    FRANIM                  ;ANIMATE FROM TOP TO BOTTOM
    4974                    
    4975 00018400           SkAni2:
    4976 00018400     b7a7          MOVE    *A13(PDATA+0A0H),A7,L   ;PROCESS TO CREATE TO HANDLE DELETION
         00018410     0100  
    4977 00018420     ca01          JRZ     NoDthPrc
    4978 00018430     0167          JUMP    A7                      ;SO JUMP THERE                  
    4979                    
    4980 00018440           TrajX:
    4981 00018440           NoDthPrc:
    4982 00018440     05a0          move    @FRAGCNT,A0,W
         00018450 00000000- 
    4983 00018470     1420          dec     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  120

    4984 00018480     0580          move    A0,@FRAGCNT,W
         00018490 00000000- 
    4985                    
    4986 000184b0     4d00          MOVE    A8,A0                   ;DEFAULT SIMPLE DELETE
    4987 000184c0     0d5f          CALLA   DELPAL
         000184d0 00000000! 
    4988 000184f0     0d5f          CALLA   DELSOBJ
         00018500 00000000! 
    4989 00018520                   DIE
    4990                    **************************************************************************
    4991                    
    4992                    **************************************************************************
    4993 00018550           XCHECK:
    4994 00018550     b500          move    *A8(OXPOS),A0,W
         00018560     0090  
    4995 00018570     05a1          move    @WORLDTL,A1,W
         00018580 00000000! 
    4996 000185a0     4420          sub     A1,A0                   ;SUBTRACT OUT WORLD BASE
    4997                    
    4998 000185b0     05a2          move    @SCRNLR,A2,W            ;GET SCREEN RT.
         000185c0 00000000! 
    4999 000185e0     11e2          addk    15,A2   ;a little buffer
    5000 000185f0     4840          cmp     A2,A0                   ;IS IT PAST THE RT?
    5001 00018600     c70b          jrgt    OffRite
    5002                    
    5003 00018610     05a2          move    @SCRNTL,A2,W            ;GET SCREEN LEFT
         00018620 00000000! 
    5004 00018640     15e2          subk    15,A2   ;a little buffer
    5005 00018650     b501          move    *A8(OSIZE),A1,W
         00018660     0140  
    5006 00018670     4001          add     A0,A1                   ;RIGHT EDGE OF OBJECT
    5007 00018680     4841          cmp     A2,A1
    5008 00018690     c402          jrlt    OffLeft
    5009 000186a0     0320          clrc
    5010 000186b0     0960          rets
    5011 000186c0           OffRite:
    5012 000186c0           OffLeft:
    5013 000186c0     0de0          setc
    5014 000186d0     0960          rets
    5015                    **************************************************************************
    5016                    
    5017                    **************************************************************************
    5018 000186e0           AGITATE:
    5019 000186e0     8748          move    *A10,A8,L
    5020 000186f0     09c0          movi    20,A0
         00018700     0014  
    5021 00018710     0d5f          calla   SRAND
         00018720 00000000! 
    5022 00018740     1941          movk    10,A1
    5023 00018750     0d5f          calla   ABSADD
         00018760 00000000! 
    5024 00018780     b501          move    *A8(OXPOS),A1,W
         00018790     0090  
    5025 000187a0     4001          add     A0,A1
    5026 000187b0     b028          move    A1,*A8(OXPOS),W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:18 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

<<< N  A  R  C  --  HEADMAN >>>                                      PAGE  121

         000187c0     0090  
    5027 000187d0     09c0          movi    5,A0
         000187e0     0005  
    5028 000187f0     0d5f          calla   SRAND
         00018800 00000000! 
    5029 00018820     18a1          movk    5,A1
    5030 00018830     0d5f          calla   ABSADD
         00018840 00000000! 
    5031 00018860     b501          move    *A8(OZPOS),A1,W
         00018870     00d0  
    5032 00018880     4001          add     A0,A1
    5033 00018890     b028          move    A1,*A8(OZPOS),W
         000188a0     00d0  
    5034 000188b0     b501          move    *A8(OYPOS),A1,W
         000188c0     00b0  
    5035 000188d0     4001          add     A0,A1
    5036 000188e0     b028          move    A1,*A8(OYPOS),W
         000188f0     00b0  
    5037 00018900     0960          rets
    5038                    **************************************************************************
    5039                    

 No Errors,  No Warnings
