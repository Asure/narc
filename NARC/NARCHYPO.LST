TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .FILE   "NARCHYPO.ASM"
       3                    
       4                    **************************************************************************
       5                    *                                                                        *
       6                    *       COPYRIGHT (C) 1988 WILLIAMS ELECTRONICS GAMES, INC.              *
       7                    *       ALL RIGHTS RESERVED.                                             *
       8                    *                                                                        *
       9                    **************************************************************************
      10                    
      11                            .WIDTH  132
      12                            .OPTION B,D,L
      13                            .MNOLIST
      14                    
      15                    ; To change from Delta movement to skaters, check the following
      16                    ;       funcs tbl GoDestD to GoDestV
      17                    ;       call to Zoff
      18                    ;       animation scripts for walkslow, walkmed, walkfast
      19                    ;       velocity set in functions goslow, gomed, gofast
      20                    
      21                    
      22                    *       GET THE SYSTEM STUFF
      23                            .INCLUDE        "\video\mprocEQU.ASM"   ;MPROC equates
      24                            .INCLUDE        "\video\DISPEQU.ASM"    ;Display processor equates
      25                            .INCLUDE        "\video\GSP.INC"        ;GSP assembler equates
      26                            .INCLUDE        "\video\SYS.INC"        ;Zunit system equates
      27                            .INCLUDE        "\video\MACROS.HDR"     ;Macros, Yeah!
      28                    *       LOCAL STUFF
      29                            .INCLUDE        "NARCEQU.ASM"           ;NARC Equates
      30                            .INCLUDE        "NARCTEQU.ASM"
      31                            .include        "imgtbl.glo"
      32                            .INCLUDE        "NARCFRAG.GLO"
      33                            .include        "narchypo.tbl"
      34                            .include        "narchypo.glo"
      35                    
      36                            .GLOBL  HYPOCRM1
      37                    
      38                    *
      39                    *EXTERNALS
      40                            .GLOBAL LOFDEXP,LOFDEXP1,LOFRAG1,LOFRAG2,LOFRAG3,LOFRAG4,LOFDFLA
      41                            .GLOBAL LOFDROCK,LDEXP1
      42                    
      43 00000000                   .bss    hypocol,16,1
      44                    
      45                    ;EXTRA OBJECT VARS
      46              0000  HEADOBJ .set    00H     ;long, ptr to Head object block, 0->no Head
      47              0020  SFIRTIKS .set   020H    ;"spinning fire" word ctr
      48              0030  MODE    .set    030H    ;current Action - byte
      49              0040  LIFECTR .set    040H    ;WORD
      50              0050  sfirrate .set   050H    ;word
      51              0060  firerate .set   060H    ;word
      52                    
      53                    ;* values for MODE field
      54              0000  NoMode  .set    0
      55              0001  MStop   .set    1
      56              0002  MStand  .set    2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    2

      57              0003  MCharge .set    3
      58              0004  MBkwrd  .set    4
      59              0005  MRun    .set    5
      60              0006  MThrow  .set    6
      61              0007  MDrug   .set    7
      62                    
      63                    
      64                    ********** GEORGE -- COMMENT THIS STUFF OUT **************
      65                    ;* Also uncomment RETS in GVARINIT
      66                    ;       .BSS    hypomax,16,16           ;U - max # of active hypomen
      67                    ;       .BSS    hypodrug,16,16          ;U - chance/1000 of hypoman having drugs
      68                    ;       .BSS    hypobrain,16,16         ;U - sleep between homing on players
      69                    ;       .BSS    hypofire,16,16          ;U - time between regular shots
      70                    ;       .BSS    hyposfir,16,16          ;U - time between spinners
      71                    
      72 00000000                   .TEXT
      73 00000000           VARINIT:
      74 00000000     0960          rets               ;* <---------------------- remove ;
      75 00000010     09c0          movi    3,A0
         00000020     0003  
      76 00000030     0580          move    A0,@hypomax,W
         00000040 00000000! 
      77 00000060     09c0          movi    350,A0
         00000070     015e  
      78 00000080     0580          move    A0,@hypodrug,W
         00000090 00000000! 
      79 000000b0     09c0          movi    9,A0
         000000c0     0009  
      80 000000d0     0580          move    A0,@hypobrain,W
         000000e0 00000000! 
      81 00000100     09c0          movi    393,A0
         00000110     0189  
      82 00000120     0580          move    A0,@hyposfir,W
         00000130 00000000! 
      83 00000150     09c0          movi    125,A0
         00000160     007d  
      84 00000170     0580          move    A0,@hypofire,W
         00000180 00000000! 
      85 000001a0     0960          rets
      86                    **********************************************************
      87                    
      88                    ***************************************************************************
      89                    ; HYPO SUB_TYPES
      90                    ; 0 - w/ no coors starts at PLZMIN and 1 to 2 full screens away from
      91                    ;       players in X.  90% chance of coming up to the right.
      92                    ; 1 - w/ no coors comes out any available door, else it reverts to type 0
      93                    ;
      94                    ; 2 - Type 0, but also can throw spinners
      95                    ; 3 - Type 1, but also can throw spinners
      96                    ; 4-7 same as types 0-3 but easier (don't duck or jump)
      97 000001b0           DTBL:
      98 000001b0 000012f0'         .long   D0,D1,D2,D3
      99 00000230 000012f0'         .long   D0,D1,D2,D3
     100 000002b0 00000dd0'         .long   D1,D1,D1,D1,D1,D1,D1,D1
     101                    ***************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    3

     102                    
     103                    ************************* FUNCTION TABLE ***************************
     104 000003b0           JR_FUNCS:
     105 000003b0 00000450'         .long   BOOF
     106 000003d0 00000000!         .long   GoDestV
     107 000003f0 00007360'         .long   GetXVel
     108 00000410 0000b000          .long   0B000H  ;MaxXZAngle
     109 00000430 0000001e          .long   30      ;FlipTiks
     110                    ********************************************************************
     111                    
     112                    ********************************************************************
     113                    ;To catch a nulled dereference through JR_FUNCS
     114 00000450     c000  BOOF:   jruc    $
         00000460     fffe  
     115                    ********************************************************************
     116                    
     117                    **************************************************************************
     118                    *INIT TABLE
     119                    *       .LONG   OXVEL,OYVEL,OXVAL,XYVAL
     120                    *       .WORD   OZPOS,OZVEL
     121                    *       .LONG   OIMG,OZSIZ,OCVECT
     122                    *       .WORD   OFLAGS,OID
     123 00000470           JRINIT:
     124 00000470 00000000          .LONG   0,0,0,0
     125 000004f0     0000          .WORD   0,0
     126 00000510 00000480"         .LONG   JRW1,JRZSIZ,DUMCOLL
     127 00000570     8002          .WORD   DMAWNZ,HYPOEOID
     128 00000590 00000000!         .LONG   HYPOBLIP
     129 000005b0           HeadInit:
     130 000005b0 00000000          .LONG   0,0,0,0
     131 00000630     0000          .WORD   0,0
     132 00000650 00001180"         .LONG   JRHEAD1,JRZSIZ,JRCOLL
     133 000006b0     8002          .WORD   DMAWNZ,HYPOEOID
     134 000006d0 00000000          .LONG   0
     135                    **************************************************************************
     136                    
     137                    **************************************************************************
     138                    ;FRANCHEK:
     139                    ;       cmpi    FRANMIN,A9
     140                    ;       jrlt    $
     141                    ;       cmpi    FRANMAX,A9
     142                    ;       jrgt    $
     143                    ;       rets
     144                    **************************************************************************
     145                    
     146                    **************************************************************************
     147 000006f0           HYPOCOLD:
     148                    ;* PARMS
     149                    ; A5  - Y:X
     150                    ; A6  - 0:Z     ;if A5 and A6=0 then Random Position
     151                    ; A14 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
     152                    
     153 000006f0     098f          mmtm    SP,A0,A1,A2,A7,A9,A10,A11
         00000700     e170  
     154 00000710     0d3f          callr   VARINIT
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    4

         00000720     ff8d  
     155                            
     156 00000730     05a0          move    @SLPHYPOS,A0,W
         00000740 00000000! 
     157 00000760     0b40          cmpi    5,A0
         00000770     fffa  
     158 00000780     c518          jrge    ColdX
     159                    
     160 00000790     4ca9          move    A5,A9           ;Y:X in A9
     161 000007a0     4cca          move    A6,A10          ;0:Z in A10
     162 000007b0     4dcb          move    A14,A11         ;ID in A11
     163                    
     164 000007c0     4dc0          move    A14,A0
     165 000007d0     2580          sll     12,A0
     166 000007e0     2c80          srl     28,A0
     167 000007f0     ca03          jrz     SkRndCnt
     168 00000800     0d5f          calla   RANDU
         00000810 00000000! 
     169 00000830           SkRndCnt:
     170 00000830     4dc2          move    A14,A2
     171 00000840     2502          sll     8,A2
     172 00000850     2c82          srl     28,A2
     173 00000860     4002          add     A0,A2
     174 00000870           ColdLp: 
     175 00000870                   CREATE  HYPOEPID,HYPOMAN ;allocate process?     (bashes A1,A7)
     176 000008f0     ca01          jrz     ColdX
     177 00000900     3d42          dsjs    A2,ColdLp
     178 00000910           ColdX:
     179 00000910     09af          mmfm    SP,A0,A1,A2,A7,A9,A10,A11
         00000920     0e87  
     180 00000930     0960          rets
     181                    **************************************************************************
     182                    
     183                    **************************************************************************
     184 00000940           CkPal:
     185 00000940     05a0          move    @hypocol,A0,W
         00000950 00000000- 
     186 00000970     ca11          jrz     CkPalX
     187 00000980     24a0          sll     5,A0
     188 00000990     0b20          addi    HYPOPALS,A0
         000009a0 0000d0d0' 
     189 000009c0     8600          move    *A0,A0,L
     190 000009d0     0d5f          calla   GETFPAL
         000009e0 00000000! 
     191 00000a00     ca08          jrz     CkPalX
     192 00000a10     4c01          move    A0,A1
     193 00000a20     b500          move    *A8(OPAL),A0,W
         00000a30     0160  
     194 00000a40     0d5f          calla   FREEPAL
         00000a50 00000000! 
     195 00000a70     b028          move    A1,*A8(OPAL),W
         00000a80     0160  
     196 00000a90           CkPalX:
     197 00000a90     0960          rets
     198                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    5

     199                    
     200                    *********************  START OF HYPOMAN PROCESS  *************************
     201 00000aa0           HYPOMAN:
     202                    * A9  - Y:X
     203                    * A10 - 0:Z     ;if A9,A10 = 0 generate random start pos.
     204                    * A11 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
     205                    ;based on sub-type, jump to appropriate routine
     206                    
     207 00000aa0                   INCW    @SLPHYPOS
     208 00000b10           MaxWait:
     209 00000b10     05a0          move    @hypomax,A0,W
         00000b20 00000000! 
     210 00000b40     05a1          move    @JRHYCNT,A1,W
         00000b50 00000000! 
     211 00000b70     4801          cmp     A0,A1
     212 00000b80     c405          jrlt    MaxWaitX
     213 00000b90                   SLEEP   30
     214 00000bd0     c0f3          jruc    MaxWait
     215 00000be0           MaxWaitX:
     216 00000be0                   DECW    @SLPHYPOS
     217 00000c50                   INCW    @JRHYCNT
     218                    
     219 00000cc0     5600          clr     A0
     220 00000cd0     0580          move    A0,@hypocol,W
         00000ce0 00000000- 
     221                    
     222 00000d00     4d60          move    A11,A0
     223 00000d10     2780          sll     28,A0
     224 00000d20     2c80          srl     28,A0
     225 00000d30     24a0          sll     5,A0
     226 00000d40     0b20          addi    DTBL,A0
         00000d50 000001b0' 
     227 00000d70     8600          move    *A0,A0,L
     228 00000d80     0160          jump    A0
     229                    
     230                    **************************************************************************
     231 00000d90           D3:
     232 00000d90     1820          movk    1,A0
     233 00000da0     0580          move    A0,@hypocol,W
         00000db0 00000000- 
     234 00000dd0           D1:
     235                    ;DISPATCH FROM A DOOR   
     236 00000dd0     4d20          move    A9,A0
     237 00000de0     5540          or      A10,A0
     238 00000df0     cb70          jrnz    GotCoors
     239 00000e00     09c0          movi    10,A0
         00000e10     000a  
     240 00000e20           DoorWait:
     241 00000e20     0d5f          calla   GETDOOR
         00000e30 00000000! 
     242 00000e50     cb0e          jrnz    GotDoor
     243 00000e60                   PUSHP   A0
     244 00000e70     09c0          movi    60,A0
         00000e80     003c  
     245 00000e90     0d5f          calla   RANDU
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    6

         00000ea0 00000000! 
     246 00000ec0     0d5f          calla   PRCSLP
         00000ed0 00000000! 
     247 00000ef0                   PULLP   A0
     248 00000f10     1420          dec     A0
     249 00000f20     c1ef          jrp     DoorWait
     250 00000f30     c03b          jruc    D0
     251 00000f40           GotDoor:
     252 00000f40                   JSRP    DOOROPEN                ;OPEN SEZ-A-ME
     253 00000fb0                   CREATE  INDPID,CLOZDOOR         ;CLOSE THE DOOR
     254 00001030     09ee          movi    JRINIT,A14
         00001040 00000470' 
     255 00001060     0d5f          calla   DOORRITE        ;rets upper Y,X start pos in A1
         00001070 00000000! 
     256 00001090     09e6          movi    [3,0],A6        ;make sure hypo man is in front of door
         000010a0 00030000  
     257 000010c0     e0c1          addxy   A6,A1
     258 000010d0     09e6          movi    JRTAB,A6
         000010e0 0000a4a0' 
     259 00001100     098f          mmtm    SP,A11
         00001110     0010  
     260 00001120     0d5f          calla   ESINITUL        ;CREATE HYPOMAN
         00001130 00000000! 
     261 00001150     09af          mmfm    SP,A11
         00001160     0800  
     262 00001170     ca00          jrz     JR_DIE1         ;CREATE BOMBED
         00001180     0864  
     263 00001190     0d3f          callr   CkPal
         000011a0     ff79  
     264                    
     265 000011b0     b168          move    A11,*A8(OID),W
         000011c0     01a0  
     266 000011d0     09e2          movi    -020000H,A2     ;X VELOCITY
         000011e0 fffe0000  
     267 00001200     09e9          movi    WALKOUT,A9      ;GET ANIMATION SCRIPT
         00001210 0000abc0' 
     268 00001230                   JSRP    OUTDOOR
     269 000012a0     c04a          jruc    InitEnmy
     270                    
     271                    
     272                    **************************************************************************
     273 000012b0           D2:
     274 000012b0     1820          movk    1,A0
     275 000012c0     0580          move    A0,@hypocol,W
         000012d0 00000000- 
     276 000012f0           D0:     
     277 000012f0     4d20          move    A9,A0
     278 00001300     5540          or      A10,A0
     279 00001310     cb1e          jrnz    GotCoors
     280                    
     281                    *Enemy object initialization
     282 00001320     05a9          move    @(WORLDTLX+16),A9,W                              
         00001330 00000010! 
     283 00001350     0be9          subi    300,A9
         00001360     fed3  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    7

     284 00001370     09c0          movi    950,A0
         00001380     03b6  
     285 00001390     0d5f          calla   RANDPER
         000013a0 00000000! 
     286 000013c0     c902          jrnc    StrtLft
     287 000013d0     0b09          addi    1000,A9
         000013e0     03e8  
     288 000013f0           StrtLft:
     289 000013f0     09c0          movi    150,A0
         00001400     0096  
     290 00001410     0d5f          calla   RANDU
         00001420 00000000! 
     291 00001440     4009          add     A0,A9
     292                    
     293 00001450     05aa          move    @PLZMIN,A10,W                                                                    
         00001460 00000000! 
     294 00001480     05a0          move    @PLZMAX,A0,W                                                                     
         00001490 00000000! 
     295 000014b0     4540          sub     A10,A0
     296 000014c0     0d5f          calla   RANDU
         000014d0 00000000! 
     297 000014f0     400a          add     A0,A10  ;* initial Z position                                                    
     298                    
     299 00001500           GotCoors:
     300 00001500     4d21          move    A9,A1
     301 00001510     09e6          movi    JRTAB,A6
         00001520 0000a4a0' 
     302 00001540     09ee          movi    JRINIT,A14      
         00001550 00000470' 
     303 00001570     098f          mmtm    SP,A9,A10,A11
         00001580     0070  
     304 00001590     0d5f          calla   ESINITLL                ;CREATE HYPOMAN
         000015a0 00000000! 
     305 000015c0     09af          mmfm    SP,A9,A10,A11
         000015d0     0e00  
     306 000015e0     ca00          jrz     JR_DIE1         ;create bombed
         000015f0     081d  
     307                    ;Y:X in A9
     308                    ;0:Z in A10
     309 00001600     4d4a          move    A10,A10
     310 00001610     cb04          jrnz    GotZC
     311 00001620     ef2a          movy    A9,A10
     312 00001630     2e0a          srl     16,A10
     313 00001640     0bea          subi    ZORIGIN,A10
         00001650     ff37  
     314 00001660           GotZC:
     315 00001660     b128          move    A9,*A8(OXPOS),W
         00001670     0090  
     316 00001680     b148          move    A10,*A8(OZPOS),W
         00001690     00d0  
     317 000016a0     0b0a          addi    ZORIGIN,A10
         000016b0     00c8  
     318 000016c0     b500          move    *A8(OSIZEY),A0,W
         000016d0     0150  
     319 000016e0     440a          sub     A0,A10
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    8

     320 000016f0     b148          move    A10,*A8(OYPOS),W
         00001700     00b0  
     321 00001710     b168          move    A11,*A8(OID),W
         00001720     01a0  
     322                    
     323 00001730     0d3f          callr   CkPal
         00001740     ff1f  
     324                    ;       jruc    InitEnmy
     325                    
     326                    
     327                    ****************************************************************************
     328 00001750           InitEnmy:
     329                            ;* allocate extra data space
     330 00001750     0d5f          calla   GETOBJ
         00001760 00000000! 
     331 00001780     ca00          jrz     JR_DIE2         
         00001790     07ff  
     332 000017a0     4c0a          move    A0,A10  ;A10 will Always point to extra Data Space
     333 000017b0     0d5f          calla   CLROBJ
         000017c0 00000000! 
     334                    
     335 000017e0     0d5f          calla   ClrVel
         000017f0 00000000! 
     336 00001810     5600          clr     A0
     337 00001820     b20d          move    A0,*A13(COLLOBJ),L
         00001830     00c0  
     338 00001840     b20d          move    A0,*A13(DEST),L
         00001850     01e0  
     339 00001860     b20d          move    A0,*A13(TEMPDEST),L
         00001870     0200  
     340 00001880     ac0d          movb    A0,*A13(DEST_TAG)
         00001890     01c0  
     341                    ;       movb    A0,*A13(ZPER)
     342 000018a0     ac0d          movb    A0,*A13(SNOOZE)
         000018b0     01d0  
     343 000018c0     ac0d          movb    A0,*A13(FLIPTIKS)
         000018d0     01d8  
     344 000018e0     b20d          move    A0,*A13(WANTOBJ),L
         000018f0     0220  
     345 00001900     b20d          move    A0,*A13(TIKCTRS),L
         00001910     01a0  
     346 00001920     b20d          move    A0,*A13(EBYTES),L
         00001930     0180  
     347 00001940     09e0          movi    JR_FUNCS,A0
         00001950 000003b0' 
     348 00001970     b20d          move    A0,*A13(FUNCS),L
         00001980     00e0  
     349                    
     350 00001990     1860          movk    3,A0
     351 000019a0     0d5f          calla   RANDU
         000019b0 00000000! 
     352 000019d0     1420          dec     A0
     353 000019e0     2460          sll     3,A0
     354 000019f0     0b20          addi    StrtMode,A0
         00001a00 00001d70' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE    9

     355 00001a20     8e00          movb    *A0,A0
     356 00001a30     ac0a          movb    A0,*A10(MODE)
         00001a40     0030  
     357                    
     358 00001a50     5621          clr     A1
     359 00001a60     b500          move    *A8(OID),A0,W
         00001a70     01a0  
     360 00001a80     0b80          andi    2,A0
         00001a90 fffffffd  
     361 00001ab0     ca01          jrz     DrgLp
     362 00001ac0     1861          movk    3,A1
     363 00001ad0           DrgLp:
     364 00001ad0     05a0          move    @hypodrug,A0,W
         00001ae0 00000000! 
     365 00001b00     0d5f          calla   RANDPER
         00001b10 00000000! 
     366 00001b30     c904          jrnc    DrgX
     367 00001b40     1021          inc     A1
     368 00001b50     0b41          cmpi    6,A1
         00001b60     fff9  
     369 00001b70     c4f5          jrlt    DrgLp
     370 00001b80           DrgX:
     371 00001b80     4c20          move    A1,A0
     372 00001b90     ca03          jrz     NoDrg
     373 00001ba0     0d5f          calla   ADDDRUGS
         00001bb0 00000000! 
     374 00001bd0           NoDrg:
     375 00001bd0     0d3f          callr   SetFireR
         00001be0     001a  
     376 00001bf0     b540          move    *A10(sfirrate),A0,W
         00001c00     0050  
     377 00001c10     0d5f          calla   RANDU
         00001c20 00000000! 
     378 00001c40     b00a          move    A0,*A10(SFIRTIKS),W
         00001c50     0020  
     379 00001c60     b540          move    *A10(firerate),A0,W
         00001c70     0060  
     380 00001c80     0d5f          calla   RANDU
         00001c90 00000000! 
     381 00001cb0     b00d          move    A0,*A13(FIRETIKS),W
         00001cc0     0180  
     382                            
     383 00001cd0     09e0          movi    JRCOLL,A0
         00001ce0 0000a1e0' 
     384 00001d00     b208          move    A0,*A8(OCVECT),L
         00001d10     01d0  
     385                    
     386 00001d20     5729          clr     A9
     387 00001d30     0d3f          callr   GoMed
         00001d40     05b3  
     388                    
     389 00001d50     c000          jruc    HYPO_MV
         00001d60     02de  
     390                    
     391 00001d70           StrtMode:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   10

     392                    ;       .byte   NoMode,NoMode,NoMode,NoMode
     393 00001d70       00          .byte   NoMode,MStop,MCharge
     394                    ;       .byte   MThrow
     395 00001d90                   .even
     396                    **************************************************************************
     397                    
     398                    **************************************************************************
     399 00001d90           SetFireR:
     400                            ;* set rate of fire based on amt of drugs carried
     401 00001d90     098f          mmtm    SP,A0,A1
         00001da0     c000  
     402 00001db0     afa1          movb    *A13(EDRUG),A1
         00001dc0     0148  
     403 00001dd0     1021          inc     A1
     404 00001de0     05a0          move    @hyposfir,A0,W
         00001df0 00000000! 
     405 00001e10     5a20          divu    A1,A0
     406 00001e20     b00a          move    A0,*A10(sfirrate),W
         00001e30     0050  
     407                    
     408 00001e40     afa1          movb    *A13(EDRUG),A1
         00001e50     0148  
     409 00001e60     1021          inc     A1
     410 00001e70     05a0          move    @hypofire,A0,W
         00001e80 00000000! 
     411 00001ea0     5a20          divu    A1,A0
     412 00001eb0     b00a          move    A0,*A10(firerate),W
         00001ec0     0060  
     413 00001ed0     09af          mmfm    SP,A0,A1
         00001ee0     0003  
     414 00001ef0     0960          rets
     415                    **************************************************************************
     416                    
     417                    
     418                    **************************************************************************
     419 00001f00           DelHead:
     420 00001f00     098f          mmtm    SP,A0,A1
         00001f10     c000  
     421 00001f20     b740          move    *A10(HEADOBJ),A0,L
         00001f30     0000  
     422 00001f40     ca0e          jrz     NoDelH
     423 00001f50     09e1          movi    ENEMIES,A1
         00001f60 00000000! 
     424 00001f80     0d5f          calla   DELSUPP
         00001f90 00000000! 
     425 00001fb0     0d5f          calla   DELSOBJ
         00001fc0 00000000! 
     426 00001fe0     5600          clr     A0
     427 00001ff0     b20a          move    A0,*A10(HEADOBJ),L
         00002000     0000  
     428 00002010     0de0          setc
     429 00002020     c001          jruc    DelHeadX
     430 00002030           NoDelH:
     431 00002030     0320          clrc
     432 00002040           DelHeadX:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   11

     433 00002040     09af          mmfm    SP,A0,A1
         00002050     0003  
     434 00002060     0960          rets
     435                    **************************************************************************
     436                    
     437                    **************************************************************************
     438 00002070           GetHead:
     439                    ;* rets CLRC if unable to get a Head.
     440 00002070     b740          move    *A10(HEADOBJ),A0,L
         00002080     0000  
     441 00002090     cb2d          jrnz    GotHead
     442 000020a0     afa0          movb    *A13(SNOOZE),A0         ;don't need head to snooze
         000020b0     01d0  
     443 000020c0     cb2a          jrnz    GotHead
     444 000020d0     0d5f          calla   GETOBJ
         000020e0 00000000! 
     445 00002100     ca28          jrz     NoHead
     446 00002110     b20a          move    A0,*A10(HEADOBJ),L
         00002120     0000  
     447 00002130     09ee          movi    HeadInit,A14
         00002140 000005b0' 
     448 00002160     0d5f          calla   STFOBJ
         00002170 00000000! 
     449 00002190     b3a0          move    A13,*A0(OPLINK),L
         000021a0     01f0  
     450 000021b0     b900          move    *A8(OPAL),*A0(OPAL),W
         000021c0     0160  
         000021d0     0160  
     451                    
     452                            ;* Set coors of Head
     453 000021e0     0d5f          calla   GETANIXY
         000021f0 00000000! 
     454 00002210     b601          move    *A0(OXVAL),A1,L 
         00002220     0080  
     455 00002230     4061          add     A3,A1
     456 00002240     b220          move    A1,*A0(OXVAL),L
         00002250     0080  
     457 00002260     b601          move    *A0(OYVAL),A1,L 
         00002270     00a0  
     458 00002280     4041          add     A2,A1
     459 00002290     b220          move    A1,*A0(OYVAL),L
         000022a0     00a0  
     460 000022b0     bb00          move    *A8(OZVAL),*A0(OZVAL),L
         000022c0     00c0  
         000022d0     00c0  
     461                    
     462 000022e0     0d5f          calla   INSOBJ
         000022f0 00000000! 
     463 00002310     09e1          movi    ENEMIES,A1
         00002320 00000000! 
     464 00002340     0d5f          calla   ADDSUPP
         00002350 00000000! 
     465 00002370           GotHead:
     466 00002370     0de0          setc
     467 00002380     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   12

     468 00002390           NoHead:
     469 00002390     0320          clrc
     470 000023a0     0960          rets
     471                    **************************************************************************
     472                    
     473                    **************************************************************************
     474 000023b0           GetHdF:
     475                    ;select head frame
     476 000023b0     0d5f          calla   ClosestP
         000023c0 00000000! 
     477 000023e0     b400          move    *A0(OXPOS),A0,W
         000023f0     0090  
     478 00002400     b501          move    *A8(OXPOS),A1,W
         00002410     0090  
     479 00002420     1822          movk    1,A2            ;look frame selected
     480 00002430     4420          sub     A1,A0
     481 00002440     0b40          cmpi    -150,A0
         00002450     0095  
     482 00002460     c60d          jrle    GotHdF
     483 00002470     1022          inc     A2
     484 00002480     0b40          cmpi    -50,A0
         00002490     0031  
     485 000024a0     c609          jrle    GotHdF
     486 000024b0     1022          inc     A2
     487 000024c0     0b40          cmpi    50,A0
         000024d0     ffcd  
     488 000024e0     c605          jrle    GotHdF
     489 000024f0     1022          inc     A2
     490 00002500     0b40          cmpi    150,A0
         00002510     ff69  
     491 00002520     c601          jrle    GotHdF
     492 00002530     1022          inc     A2
     493 00002540           GotHdF:
     494 00002540     1860          movk    3,A0
     495 00002550     0d5f          calla   RANDU
         00002560 00000000! 
     496 00002580     1440          subk    2,A0
     497 00002590     4040          add     A2,A0
     498 000025a0     24c0          sll     6,A0
     499 000025b0     09e9          movi    JRHEADS,A9
         000025c0 0000adb0' 
     500 000025e0     4009          add     A0,A9
     501                    ;       callr   FRANCHEK
     502 000025f0     0960          rets
     503                    **************************************************************************
     504                    
     505                    **************************************************************************
     506 00002600           DoStop:
     507                    ;* rets clrc if unable to stand
     508 00002600     09e9          movi    JRSTAND,A9
         00002610 0000ad60' 
     509 00002630     1881          movk    4,A1
     510 00002640                   jsrp    FRANIM          ;Put out Body
     511                    
     512 000026b0     0d3f          callr   GetHead
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   13

         000026c0     ff9a  
     513 000026d0     c922          jrnc    NoStop
     514 000026e0     0d5f          calla   ClrVel
         000026f0 00000000! 
     515 00002710     0d5f          calla   UpdShadV
         00002720 00000000! 
     516 00002740     1bc0          movk    30,A0
     517 00002750     ac0d          movb    A0,*A13(DESTTIKS)
         00002760     01a8  
     518                    
     519 00002770     b747          move    *A10(HEADOBJ),A7,L
         00002780     0000  
     520 00002790     ca0e          jrz     SkHdAni
     521 000027a0     0d3f          callr   GetHdF
         000027b0     ffbf  
     522 000027c0     1881          movk    4,A1
     523 000027d0                   PUSHP   A8
     524 000027e0     4ce8          move    A7,A8
     525                    ;       callr   FRANCHEK
     526 000027f0                   jsrp    FRANIM          ;Put out Head
     527 00002860                   PULLP   A8
     528 00002880           SkHdAni:
     529                    
     530 00002880     5600          clr     A0
     531 00002890     ac0d          movb    A0,*A13(DEST_TAG)
         000028a0     01c0  
     532 000028b0     1840          movk    MStand,A0
     533 000028c0     ac0a          movb    A0,*A10(MODE)
         000028d0     0030  
     534 000028e0     0de0          setc
     535 000028f0     0960          rets
     536                    
     537 00002900           NoStop:
     538 00002900     0320          clrc
     539 00002910     0960          rets
     540                    **************************************************************************
     541                    
     542                    **************************************************************************
     543 00002920           DoStand:
     544 00002920     1bc0          movk    30,A0
     545 00002930     ac0d          movb    A0,*A13(DESTTIKS)
         00002940     01a8  
     546                    
     547 00002950     09c0          movi    100,A0
         00002960     0064  
     548 00002970     0d5f          calla   RANDPER
         00002980 00000000! 
     549 000029a0     c911          jrnc    BeStill
     550                    
     551 000029b0     b747          move    *A10(HEADOBJ),A7,L
         000029c0     0000  
     552 000029d0     ca0e          jrz     NoHdAni
     553 000029e0     0d3f          callr   GetHdF
         000029f0     ff9b  
     554 00002a00     1881          movk    4,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   14

     555 00002a10                   PUSHP   A8
     556 00002a20     4ce8          move    A7,A8
     557                    ;       callr   FRANCHEK
     558 00002a30                   jsrp    FRANIM          ;Put out Head
     559 00002aa0                   PULLP   A8
     560 00002ac0           NoHdAni:
     561                    
     562 00002ac0           BeStill:
     563 00002ac0     0960          rets
     564                    **************************************************************************
     565                    
     566                    **************************************************************************
     567 00002ad0           UnStand:
     568 00002ad0     098f          mmtm    SP,A0
         00002ae0     8000  
     569 00002af0     0d5f          calla   DelHead
         00002b00 00001f00' 
     570 00002b20     c903          jrnc    UnStandX
     571 00002b30     5600          clr     A0
     572 00002b40     ac0d          movb    A0,*A13(ANIMTIKS)
         00002b50     01a0  
     573 00002b60           UnStandX:
     574 00002b60     09af          mmfm    SP,A0
         00002b70     0001  
     575 00002b80     0960          rets
     576                    **************************************************************************
     577                    
     578                    **************************************************************************
     579 00002b90           AnimRst:
     580 00002b90     5600          clr     A0
     581 00002ba0     ac0a          movb    A0,*A10(MODE)
         00002bb0     0030  
     582 00002bc0     ac0d          movb    A0,*A13(DEST_TAG)
         00002bd0     01c0  
     583 00002be0     ac0d          movb    A0,*A13(BRAINTIKS)
         00002bf0     01b0  
     584 00002c00     ac0d          movb    A0,*A13(ANIMTIKS)
         00002c10     01a0  
     585                    ;       callr   FRANCHEK
     586 00002c20     0960          rets
     587                    **************************************************************************
     588                    
     589                    **************************************************************************
     590 00002c30           CanFire:
     591                    ;* rets setc if hypo can fire.
     592                    ;* if ANIMPTR is not set, will have to choose one..
     593 00002c30     098f          mmtm    SP,A0,A1,A2,A3,A7
         00002c40     f100  
     594 00002c50     0d5f          calla   NEARPLYR        ;Get disp obj of someone to shoot at
         00002c60 00000000! 
     595 00002c80     cb04          jrnz    GotTarg
     596 00002c90     0d5f          calla   ClosestP
         00002ca0 00000000! 
     597 00002cc0     ca21          jrz     CantFire
     598 00002cd0           GotTarg:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   15

     599 00002cd0     4c07          move    A0,A7
     600 00002ce0     b4e1          move    *A7(OZPOS),A1,W
         00002cf0     00d0  
     601 00002d00     b502          move    *A8(OZPOS),A2,W
         00002d10     00d0  
     602 00002d20     4441          sub     A2,A1
     603 00002d30     0381          abs     A1
     604 00002d40     b4e3          move    *A7(OXPOS),A3,W
         00002d50     0090  
     605 00002d60     b502          move    *A8(OXPOS),A2,W
         00002d70     0090  
     606 00002d80     4443          sub     A2,A3
     607 00002d90     0383          abs     A3
     608 00002da0     2fe3          srl     1,A3
     609 00002db0     4861          cmp     A3,A1
     610 00002dc0     c711          jrgt    CantFire
     611                    
     612 00002dd0     0d5f          calla   CentDist
         00002de0 00000000! 
     613 00002e00     0b40          cmpi    300,A0
         00002e10     fed3  
     614 00002e20     c70b          jrgt    CantFire
     615                    
     616 00002e30     4ce0          move    A7,A0
     617 00002e40     0d5f          calla   FaceObj
         00002e50 00000000! 
     618 00002e70     c906          jrnc    CantFire
     619                    
     620 00002e80     b2ed          move    A7,*A13(WANTOBJ),L
         00002e90     0220  
     621 00002ea0     09af          mmfm    SP,A0,A1,A2,A3,A7
         00002eb0     008f  
     622 00002ec0     0de0          setc
     623 00002ed0     0960          rets
     624                    
     625 00002ee0           CantFire:
     626 00002ee0     09af          mmfm    SP,A0,A1,A2,A3,A7
         00002ef0     008f  
     627 00002f00     0320          clrc
     628 00002f10     0960          rets
     629                    **************************************************************************
     630                    
     631                    **************************************************************************
     632 00002f20           Fire:
     633 00002f20     0d3f          callr   CanFire
         00002f30     ffcf  
     634 00002f40     c912          jrnc    FireX
     635 00002f50     0d3f          callr   UnStand
         00002f60     ffb6  
     636 00002f70     09e9          movi    JRTH,A9
         00002f80 0000b2a0' 
     637 00002fa0     1821          movk    1,A1            ;do whole script
     638 00002fb0     0d5f          calla   ClrVel
         00002fc0 00000000! 
     639 00002fe0                   jsrp    FRANIM
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   16

     640 00003050     0d3f          callr   AnimRst
         00003060     ffb2  
     641 00003070           FireX:
     642 00003070                   retp
     643                    **************************************************************************
     644                    
     645                    **************************************************************************
     646 000030a0           Sfire:
     647                    ;* if ANIMPTR is not set, will have to choose one..
     648 000030a0     0d5f          calla   ClosestP                ;Get disp obj of someone to shoot at
         000030b0 00000000! 
     649 000030d0     b401          move    *A0(OZPOS),A1,W
         000030e0     00d0  
     650 000030f0     b502          move    *A8(OZPOS),A2,W
         00003100     00d0  
     651 00003110     4441          sub     A2,A1
     652 00003120     0381          abs     A1
     653 00003130     b403          move    *A0(OXPOS),A3,W
         00003140     0090  
     654 00003150     b502          move    *A8(OXPOS),A2,W
         00003160     0090  
     655 00003170     4443          sub     A2,A3
     656 00003180     0383          abs     A3
     657 00003190     2fe3          srl     1,A3
     658 000031a0     4861          cmp     A3,A1
     659 000031b0     c724          jrgt    P_NO_SSH
     660                    
     661 000031c0     b20d          move    A0,*A13(WANTOBJ),L
         000031d0     0220  
     662 000031e0     0d5f          calla   FACEOBJ
         000031f0 00000000! 
     663                    
     664 00003210     05a0          move    @RAND,A0,W              ;SELECT way to fire
         00003220 00000000! 
     665 00003240     ce1e          jrn     DO_JUMP
     666                    
     667 00003250     0d3f          callr   UnStand
         00003260     ff86  
     668                    
     669 00003270     09e9          movi    JRTH,A9,L
         00003280 0000b2a0' 
     670 000032a0     b501          move    *A8(OID),A1,W
         000032b0     01a0  
     671 000032c0     0b81          andi    2,A1
         000032d0 fffffffd  
     672 000032f0     ca03          jrz     SkSpn3
     673 00003300     09e9          movi    JRTHS,A9,L
         00003310 0000b460' 
     674 00003330           SkSpn3: 
     675                    
     676 00003330     1821          movk    1,A1            ;do whole script
     677 00003340     0d5f          calla   ClrVel
         00003350 00000000! 
     678 00003370                   jsrp    FRANIM
     679 000033e0     0d3f          callr   AnimRst
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   17

         000033f0     ff79  
     680 00003400           P_NO_SSH:
     681 00003400                   retp
     682                    **************************************************************************
     683                    
     684                    **************************************************************************
     685 00003430           DO_JUMP:
     686 00003430     0d5f          calla   ShadOn
         00003440 00000000! 
     687                    
     688 00003460     0d5f          calla   ClosestFP
         00003470 00000000! 
     689 00003490     b20d          move    A0,*A13(WANTOBJ),L
         000034a0     0220  
     690                    
     691 000034b0     0d3f          callr   UnStand
         000034c0     ff60  
     692 000034d0     0d5f          calla   ClrVel
         000034e0 00000000! 
     693 00003500     1820          movk    1,A0
     694 00003510     b501          move    *A8(OFLAGS),A1,W
         00003520     0100  
     695 00003530     1f61          btst    B_FLIPH,A1
     696 00003540     ca01          jrz     SkJLeft
     697 00003550     03a0          neg     A0
     698 00003560           SkJLeft:
     699 00003560     b008          move    A0,*A8(OXVEL+16),W
         00003570     0050  
     700 00003580     0d5f          calla   UpdShadV
         00003590 00000000! 
     701 000035b0     09e0          movi    -090000H,A0
         000035c0 fff70000  
     702 000035e0     b208          move    A0,*A8(OYVEL),L
         000035f0     0060  
     703                    
     704 00003600     b7a0          move    *A13(COLLOBJ),A0,L
         00003610     00c0  
     705 00003620     ca0d          jrz     SkXBump
     706 00003630     0d5f          calla   FACEOBJ
         00003640 00000000! 
     707 00003660     b7a0          move    *A13(COLLOBJ),A0,L
         00003670     00c0  
     708 00003680     b600          move    *A0(OXVEL),A0,L
         00003690     0040  
     709 000036a0     2be0          sra     1,A0
     710 000036b0     b701          move    *A8(OXVEL),A1,L
         000036c0     0040  
     711 000036d0     4001          add     A0,A1
     712 000036e0     b228          move    A1,*A8(OXVEL),L
         000036f0     0040  
     713 00003700           SkXBump:
     714                    
     715 00003700     09e9          movi    JRJMPTH,A9,L
         00003710 0000b620' 
     716 00003730     b501          move    *A8(OID),A1,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   18

         00003740     01a0  
     717 00003750     0b81          andi    2,A1
         00003760 fffffffd  
     718 00003780     ca03          jrz     SkSpn2
     719 00003790     09e9          movi    JRJMPTHS,A9,L
         000037a0 0000b780' 
     720 000037c0           SkSpn2: 
     721                    
     722 000037c0     1881          movk    4,A1
     723 000037d0                   jsrp    FRANIM
     724 00003840           JRFLY0:
     725 00003840     1820          movk    1,A0
     726 00003850     0d5f          calla   PRCSLP
         00003860 00000000! 
     727 00003880     0d5f          calla   DFRMGRND
         00003890 00000000! 
     728 000038b0     0b41          cmpi    30,A1
         000038c0     ffe1  
     729 000038d0     c709          jrgt    JRFLY1a
     730 000038e0     b700          move    *A8(OYVEL),A0,L
         000038f0     0060  
     731 00003900     c106          jrp     JRFLY1a
     732 00003910     0b20          addi    0C000H,A0
         00003920 0000c000  
     733 00003940     b208          move    A0,*A8(OYVEL),L
         00003950     0060  
     734 00003960     c0ed          jruc    JRFLY0
     735 00003970           JRFLY1a:
     736 00003970     1881          movk    4,A1
     737 00003980                   jsrp    FRANIM     ;* throw it
     738 000039f0           JRFLY1:
     739 000039f0     1820          movk    1,A0
     740 00003a00     0d5f          calla   PRCSLP
         00003a10 00000000! 
     741 00003a30     0d5f          calla   DFRMGRND
         00003a40 00000000! 
     742 00003a60     0b41          cmpi    55,A1
         00003a70     ffc8  
     743 00003a80     c709          jrgt    JRFLY2a
     744 00003a90     b700          move    *A8(OYVEL),A0,L
         00003aa0     0060  
     745 00003ab0     c106          jrp     JRFLY2a
     746 00003ac0     0b20          addi    0A000H,A0
         00003ad0 0000a000  
     747 00003af0     b208          move    A0,*A8(OYVEL),L
         00003b00     0060  
     748 00003b10     c0ed          jruc    JRFLY1
     749 00003b20           JRFLY2a:
     750 00003b20     1881          movk    4,A1
     751 00003b30                   jsrp    FRANIM
     752 00003ba0           JRFLY2:
     753 00003ba0     1820          movk    1,A0
     754 00003bb0     0d5f          calla   PRCSLP
         00003bc0 00000000! 
     755 00003be0     b700          move    *A8(OYVEL),A0,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   19

         00003bf0     0060  
     756 00003c00     0b20          addi    0A000H,A0
         00003c10 0000a000  
     757 00003c30     b208          move    A0,*A8(OYVEL),L
         00003c40     0060  
     758 00003c50     cef4          jrn     JRFLY2
     759                    ;* Peak altitude hit
     760 00003c60           JRFLY3a:
     761 00003c60     1881          movk    4,A1
     762 00003c70                   jsrp    FRANIM
     763 00003ce0           JRFLY3:
     764 00003ce0     1820          movk    1,A0
     765 00003cf0     0d5f          calla   PRCSLP
         00003d00 00000000! 
     766 00003d20     0d5f          calla   DFRMGRND
         00003d30 00000000! 
     767 00003d50     0b41          cmpi    50,A1
         00003d60     ffcd  
     768 00003d70     c408          jrlt    JRFLY4a
     769 00003d80     b700          move    *A8(OYVEL),A0,L
         00003d90     0060  
     770 00003da0     0b20          addi    08000H,A0
         00003db0 00008000  
     771 00003dd0     b208          move    A0,*A8(OYVEL),L
         00003de0     0060  
     772 00003df0     c0ee          jruc    JRFLY3
     773 00003e00           JRFLY4a:
     774 00003e00     1881          movk    4,A1
     775 00003e10                   jsrp    FRANIM
     776 00003e80           JRFLY4:
     777 00003e80     1820          movk    1,A0
     778 00003e90     0d5f          calla   PRCSLP
         00003ea0 00000000! 
     779 00003ec0     b700          move    *A8(OYVEL),A0,L
         00003ed0     0060  
     780 00003ee0     0b20          addi    08000H,A0
         00003ef0 00008000  
     781 00003f10     b208          move    A0,*A8(OYVEL),L
         00003f20     0060  
     782 00003f30     0d5f          calla   DFRMGRND
         00003f40 00000000! 
     783                    ;       subk    5,A1
     784 00003f60     c1f1          jrp     JRFLY4
     785                    
     786                    ;* we have hit the ground..
     787 00003f70     0d5f          calla   ShadOff
         00003f80 00000000! 
     788 00003fa0     0d5f          calla   ClrVel
         00003fb0 00000000! 
     789 00003fd0     4d00          move    A8,A0
     790 00003fe0     0d5f          calla   SETZPOS
         00003ff0 00000000! 
     791 00004010     0d3f          callr   AnimRst
         00004020     feb6  
     792 00004030     5600          clr     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   20

     793 00004040     b20d          move    A0,*A13(COLLOBJ),L
         00004050     00c0  
     794 00004060                   retp
     795                    **************************************************************************
     796                    
     797                    **************************************************************************
     798 00004090           JR_XCHECK:
     799 00004090     b500          move    *A8(OXPOS),A0,W
         000040a0     0090  
     800 000040b0     05a1          move    @WORLDTL,A1,W
         000040c0 00000000! 
     801 000040e0     4420          sub     A1,A0                   ;SUBTRACT OUT WORLD BASE
     802                    
     803 000040f0     05a2          move    @SCRNTL,A2,W            ;GET SCREEN LEFT
         00004100 00000000! 
     804 00004120     05a1          move    @SCROLLX,A1,W
         00004130 00000000! 
     805 00004150     2a81          sra     12,A1   
     806 00004160     ce01          jrn     SkLftAdj
     807 00004170     4022          add     A1,A2
     808 00004180           SkLftAdj:
     809 00004180     4840          cmp     A2,A0
     810 00004190     c40d          jrlt    OffLeft
     811                    
     812 000041a0     05a2          move    @SCRNLR,A2,W            ;GET SCREEN RT.
         000041b0 00000000! 
     813 000041d0     4c21          move    A1,A1
     814 000041e0     c101          jrp     SkRgtAdj
     815 000041f0     4022          add     A1,A2
     816 00004200           SkRgtAdj:
     817 00004200     b501          move    *A8(OSIZEX),A1,W
         00004210     0140  
     818 00004220     4020          add     A1,A0                   ;RIGHT EDGE OF OBJECT
     819 00004230     4840          cmp     A2,A0                   ;IS IT PAST THE RT?
     820 00004240     c702          jrgt    OffRite
     821                    
     822 00004250     0320          clrc
     823 00004260     0960          rets
     824                    
     825 00004270           OffRite:
     826 00004270           OffLeft:
     827 00004270     0de0          setc
     828 00004280     0960          rets
     829                    **************************************************************************
     830                    
     831                    **************************************************************************
     832 00004290           ZCHECK:
     833 00004290     b501          move    *A8(OZPOS),A1,W
         000042a0     00d0  
     834 000042b0     05a0          move    @PLZMIN,A0,W
         000042c0 00000000! 
     835 000042e0     10a0          addk    5,A0
     836 000042f0     4401          sub     A0,A1
     837 00004300     cf0b          jrnn    ZMinOK
     838 00004310     b008          move    A0,*A8(OZPOS),W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   21

         00004320     00d0  
     839 00004330     b500          move    *A8(OYPOS),A0,W
         00004340     00b0  
     840 00004350     4420          sub     A1,A0
     841 00004360     b008          move    A0,*A8(OYPOS),W
         00004370     00b0  
     842 00004380     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         00004390     00e0  
     843 000043a0     cf1c          jrnn    ZMaxOK
     844 000043b0     c013          jruc    SETZV
     845 000043c0           ZMinOK:
     846 000043c0     b501          move    *A8(OZPOS),A1,W
         000043d0     00d0  
     847 000043e0     05a0          move    @PLZMAX,A0,W
         000043f0 00000000! 
     848 00004410     1460          subk    3,A0
     849 00004420     4401          sub     A0,A1
     850 00004430     ce13          jrn     ZMaxOK
     851 00004440     b008          move    A0,*A8(OZPOS),W
         00004450     00d0  
     852 00004460     b500          move    *A8(OYPOS),A0,W
         00004470     00b0  
     853 00004480     4420          sub     A1,A0
     854 00004490     b008          move    A0,*A8(OYPOS),W
         000044a0     00b0  
     855 000044b0     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         000044c0     00e0  
     856 000044d0     ce09          jrn     ZMaxOK
     857 000044e0     ca08          jrz     ZMaxOK
     858 000044f0           SETZV:
     859 000044f0     b701          move    *A8(OYVEL),A1,L
         00004500     0060  
     860 00004510     4401          sub     A0,A1
     861 00004520     b228          move    A1,*A8(OYVEL),L
         00004530     0060  
     862 00004540     5600          clr     A0
     863 00004550     b208          move    A0,*A8(OZVEL),L ;set Z velocity
         00004560     00e0  
     864 00004570           ZMaxOK:
     865 00004570     0960          rets
     866                    **************************************************************************
     867                    
     868                    
     869                    **************************************************************************
     870 00004580           CkXDIST:
     871 00004580     05a1          move    @(WORLDTLX+16),A1,W
         00004590 00000010! 
     872 000045b0     0b01          addi    256,A1
         000045c0     0100  
     873 000045d0     0d5f          calla   GETANIX
         000045e0 00000000! 
     874 00004600     4420          sub     A1,A0
     875 00004610     0b40          cmpi    600,A0
         00004620     fda7  
     876 00004630     c722          jrgt    DeepRght
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   22

     877 00004640     0b40          cmpi    300,A0
         00004650     fed3  
     878 00004660     c72d          jrgt    NearRght
     879 00004670     0b40          cmpi    -600,A0
         00004680     0257  
     880 00004690     c407          jrlt    DeepLeft
     881 000046a0     0b40          cmpi    -300,A0
         000046b0     012b  
     882 000046c0     c432          jrlt    NearLeft
     883                    
     884                            ;* on screen
     885 000046d0     5600          clr     A0
     886 000046e0     ac0d          movb    A0,*A13(SNOOZE)
         000046f0     01d0  
     887 00004700     c038          jruc    CkXDISTX
     888                    
     889 00004710           DeepLeft:
     890 00004710                   jsrp    CkQuit
     891 00004780     afa0          movb    *A13(SNOOZE),A0
         00004790     01d0  
     892 000047a0     cb2e          jrnz    CkXDISTX
     893 000047b0     1820          movk    1,A0
     894 000047c0     ac0d          movb    A0,*A13(SNOOZE)
         000047d0     01d0  
     895 000047e0     af40          movb    *A10(MODE),A0
         000047f0     0030  
     896 00004800     0b40          cmpi    MStand,A0
         00004810     fffd  
     897 00004820     cb26          jrnz    CkXDISTX
     898 00004830     0d3f          callr   DelHead
         00004840     fd6b  
     899 00004850     c023          jruc    CkXDISTX
     900 00004860           DeepRght:
     901 00004860     afa0          movb    *A13(SNOOZE),A0
         00004870     01d0  
     902 00004880     cb20          jrnz    CkXDISTX
     903 00004890     1820          movk    1,A0
     904 000048a0     ac0d          movb    A0,*A13(SNOOZE)
         000048b0     01d0  
     905 000048c0     af40          movb    *A10(MODE),A0
         000048d0     0030  
     906 000048e0     0b40          cmpi    MStand,A0
         000048f0     fffd  
     907 00004900     cb18          jrnz    CkXDISTX
     908 00004910     0d3f          callr   DelHead
         00004920     fd5d  
     909 00004930     c015          jruc    CkXDISTX
     910 00004940           NearRght:
     911 00004940     5600          clr     A0
     912 00004950     ac0d          movb    A0,*A13(SNOOZE)
         00004960     01d0  
     913 00004970     af40          movb    *A10(MODE),A0
         00004980     0030  
     914 00004990     0b40          cmpi    MStand,A0
         000049a0     fffd  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   23

     915 000049b0     cb0d          jrnz    CkXDISTX
     916 000049c0     0d3f          callr   GetHead
         000049d0     fd69  
     917 000049e0     c00a          jruc    CkXDISTX
     918 000049f0           NearLeft:
     919 000049f0     5600          clr     A0
     920 00004a00     ac0d          movb    A0,*A13(SNOOZE)
         00004a10     01d0  
     921 00004a20     af40          movb    *A10(MODE),A0
         00004a30     0030  
     922 00004a40     0b40          cmpi    MStand,A0
         00004a50     fffd  
     923 00004a60     cb02          jrnz    CkXDISTX
     924 00004a70     0d3f          callr   GetHead
         00004a80     fd5e  
     925                    ;       jruc    CkXDISTX
     926 00004a90           CkXDISTX:
     927 00004a90                   RETP
     928                    **************************************************************************
     929                    
     930                    **************************************************************************
     931 00004ac0           CkQuit:
     932 00004ac0     05a0          move    @SLPHYPOS,A0,W
         00004ad0 00000000! 
     933 00004af0     ca02          jrz     CkQuitX
     934 00004b00     c000          jruc    JR_DONE
         00004b10     04c1  
     935 00004b20           CkQuitX:
     936 00004b20                   RETP
     937                    **************************************************************************
     938                    
     939                    **************************************************************************
     940 00004b50           HYPO_MV:
     941 00004b50     0d3f          callr   ZCHECK
         00004b60     ff72  
     942                    
     943 00004b70     b7a0          move    *A13(COLLOBJ),A0,L
         00004b80     00c0  
     944 00004b90     ca07          jrz     NOCOLL
     945 00004ba0                   jsrp    DO_JUMP
     946 00004c10           NOCOLL:
     947                    
     948                    ;********  CHECK if a DESTINATION has been reached, and what to do if so..
     949 00004c10     afa0          movb    *A13(DEST_TAG),A0
         00004c20     01c0  
     950 00004c30     ca18          jrz     SkCkDest
     951 00004c40     afa0          movb    *A13(DESTTIKS),A0
         00004c50     01a8  
     952 00004c60     cb15          jrnz    SkCkDest
     953 00004c70     0d5f          calla   CkDest
         00004c80 00000000! 
     954 00004ca0     c911          jrnc    NotYet
     955                    
     956                            ;* we have reached our destination, what to do??
     957 00004cb0     afa0          movb    *A13(DEST_TAG),A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   24

         00004cc0     01c0  
     958 00004cd0           SkBUST_D:
     959 00004cd0     0b40          cmpi    DRUG_T,A0
         00004ce0     fff3  
     960 00004cf0     cb07          jrnz    SkDRUG_D
     961 00004d00                   jsrp    GRAB
     962                    ;       jruc    DestDone
     963 00004d70           SkDRUG_D:
     964 00004d70           DestDone:
     965 00004d70     5600          clr     A0
     966 00004d80     ac0d          movb    A0,*A13(BRAINTIKS)      ;Allow new course of action
         00004d90     01b0  
     967 00004da0     ac0d          movb    A0,*A13(DEST_TAG)
         00004db0     01c0  
     968 00004dc0           NotYet:
     969 00004dc0           SkCkDest:
     970                    
     971 00004dc0     afa0          movb    *A13(SNOOZE),A0
         00004dd0     01d0  
     972 00004de0     cb14          jrnz    SkFire
     973                    **** Fire checks *****
     974 00004df0     0d3f          callr   SfireCk
         00004e00     00f1  
     975 00004e10     c907          jrnc    SkSfire
     976 00004e20                   jsrp    Sfire
     977 00004e90           SkSfire:
     978 00004e90     0d3f          callr   FireCk
         00004ea0     00fc  
     979 00004eb0     c907          jrnc    SkFire
     980 00004ec0                   jsrp    Fire
     981 00004f30           SkFire:
     982                    
     983                    
     984                    **** BRAIN functions *****
     985 00004f30           DoBrain:
     986 00004f30     afa0          movb    *A13(BRAINTIKS),A0
         00004f40     01b0  
     987 00004f50     cb32          jrnz    BrainX
     988                    ;       jrz     SkB
     989                    ;       callr   FRANCHEK
     990                    ;       jruc    BrainX
     991                    ;SkB:
     992 00004f60     19e0          movk    15,A0
     993 00004f70     afa1          movb    *A13(SNOOZE),A1
         00004f80     01d0  
     994 00004f90     cb03          jrnz    SetBTiks
     995 00004fa0     05a0          move    @hypobrain,A0,W
         00004fb0 00000000! 
     996 00004fd0           SetBTiks:
     997 00004fd0     ac0d          movb    A0,*A13(BRAINTIKS)              ;reset brain wait
         00004fe0     01b0  
     998 00004ff0     b540          move    *A10(LIFECTR),A0,W
         00005000     0040  
     999 00005010     1020          inc     A0
    1000 00005020     b00a          move    A0,*A10(LIFECTR),W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   25

         00005030     0040  
    1001                    
    1002 00005040                   jsrp    CkXDIST         ;routine can DIE
    1003                    
    1004 000050b0     afa0          movb    *A13(SNOOZE),A0
         000050c0     01d0  
    1005 000050d0     cb11          jrnz    CkDrug
    1006                    
    1007 000050e0     afa0          movb    *A13(DEST_TAG),A0
         000050f0     01c0  
    1008 00005100     0b40          cmpi    BULL_T,A0
         00005110     ffeb  
    1009 00005120     c515          jrge    BrainX
    1010                    ;       jrlt    SkB2
    1011                    ;       callr   FRANCHEK
    1012                    ;       jruc    BrainX
    1013                    ;SkB2:
    1014                    
    1015 00005130     b501          move    *A8(OID),A1,W
         00005140     01a0  
    1016 00005150     1fa1          btst    2,A1
    1017 00005160     cb08          jrnz    CkDrug
    1018 00005170                   jsrp    CkDngr
    1019 000051e0     c809          jrc     BrainX
    1020                    ;       jrnc    SkFCK
    1021                    ;       callr   FRANCHEK
    1022                    ;       jruc    BrainX
    1023                    ;SkFCK:
    1024                    
    1025 000051f0           CkDrug:
    1026 000051f0     afa0          movb    *A13(DEST_TAG),A0
         00005200     01c0  
    1027 00005210     0b40          cmpi    DRUG_T,A0
         00005220     fff3  
    1028 00005230     c504          jrge    BrainX
    1029                    ;       jrlt    SkB3
    1030                    ;       callr   FRANCHEK
    1031                    ;       jruc    BrainX
    1032                    ;SkB3:
    1033                    
    1034 00005240     0d3f          callr   GetMode
         00005250     00d0  
    1035 00005260     0d3f          callr   DoMode
         00005270     018c  
    1036                    ;       callr   FRANCHEK
    1037 00005280           BrainX:
    1038                    ;       callr   FRANCHEK
    1039                    
    1040                    
    1041                    **** Animation check ****
    1042 00005280     afa0          movb    *A13(SNOOZE),A0
         00005290     01d0  
    1043 000052a0     cb51          jrnz    AnimX
    1044 000052b0     afa0          movb    *A13(ANIMTIKS),A0
         000052c0     01a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   26

    1045 000052d0     cb4e          jrnz    AnimX
    1046                    
    1047 000052e0     afa0          movb    *A13(BUSTTIKS),A0
         000052f0     01b8  
    1048 00005300     cb31          jrnz    NOBUST
    1049 00005310     0d5f          calla   CKBUST
         00005320 00000000! 
    1050 00005340     c92d          jrnc    NOBUST
    1051 00005350     0d3f          callr   UnStand
         00005360     fd76  
    1052 00005370     09c0          movi    90,A0
         00005380     005a  
    1053 00005390     ac0d          movb    A0,*A13(BUSTTIKS)
         000053a0     01b8  
    1054 000053b0     0d5f          calla   ClrVel
         000053c0 00000000! 
    1055 000053e0     09c2          movi    30,A2
         000053f0     001e  
    1056 00005400     09e9          movi    JRHYBUST,A9
         00005410 0000afd0' 
    1057 00005430     098c          mmtm    A12,A10
         00005440     0020  
    1058 00005450                   jsrp    GBUST
    1059 000054c0     09ac          mmfm    A12,A10
         000054d0     0400  
    1060 000054e0     c902          jrnc    Foolem
    1061 000054f0     c000          jruc    JRBUSTED
         00005500     0436  
    1062 00005510           Foolem:
    1063 00005510     0b69          cmpi    JRCUFF,A9
         00005520 ffff4f3f' 
    1064 00005540     c509          jrge    Escape
    1065 00005550     5621          clr     A1                      ;* one frame w/ sleepin
    1066                    ;       callr   FRANCHEK
    1067 00005560                   jsrp    FRANIM
    1068 000055d0     c0f3          jruc    Foolem
    1069 000055e0           Escape:
    1070 000055e0     0d3f          callr   AnimRst
         000055f0     fd59  
    1071 00005600     c000          jruc    HYPO_MV
         00005610     ff53  
    1072                    
    1073 00005620           NOBUST:
    1074 00005620     1940          movk    10,A0
    1075 00005630     af41          movb    *A10(MODE),A1
         00005640     0030  
    1076 00005650     0b41          cmpi    MStand,A1
         00005660     fffd  
    1077 00005670     ca12          jrz     ListLeft
    1078 00005680     0b41          cmpi    MStop,A1
         00005690     fffe  
    1079 000056a0     ca0f          jrz     ListLeft
    1080 000056b0     0b41          cmpi    MThrow,A1
         000056c0     fff9  
    1081 000056d0     ca0c          jrz     ListLeft
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   27

    1082                    
    1083                    ;       calla   ZOFF
    1084 000056e0     1881          movk    4,A1                    ;* one frame, no sleepin
    1085                    ;       callr   FRANCHEK
    1086 000056f0                   jsrp    FRANIM
    1087 00005760     8721          move    *A9,A1,L
    1088 00005770     cb02          jrnz    ListLeft
    1089 00005780     0d3f          callr   AnimCycle
         00005790     01b9  
    1090 000057a0           ListLeft:
    1091 000057a0     ac0d          movb    A0,*A13(ANIMTIKS)
         000057b0     01a0  
    1092 000057c0           AnimX:
    1093                    
    1094                    **** Find Next Event ****
    1095 000057c0     afa0          movb    *A13(BRAINTIKS),A0
         000057d0     01b0  
    1096 000057e0     c101          jrp     SkBrain1
    1097 000057f0     1820          movk    1,A0
    1098 00005800           SkBrain1:
    1099 00005800     4c05          move    A0,A5                   ;current min
    1100                            
    1101 00005810     afa1          movb    *A13(DEST_TAG),A1
         00005820     01c0  
    1102 00005830     ca09          jrz     SkMin1
    1103 00005840     afa1          movb    *A13(DESTTIKS),A1
         00005850     01a8  
    1104 00005860     2701          sll     24,A1
    1105 00005870     2d01          srl     24,A1
    1106 00005880     cb01          jrnz    SkDest1
    1107 00005890     1821          movk    1,A1
    1108 000058a0           SkDest1:
    1109 000058a0     48a1          cmp     A5,A1
    1110 000058b0     c501          jrge    SkMin1
    1111 000058c0     4c25          move    A1,A5
    1112 000058d0           SkMin1:
    1113                    
    1114                            ;**** The following are only done when not snoozing
    1115 000058d0     afa7          movb    *A13(SNOOZE),A7
         000058e0     01d0  
    1116 000058f0     cb13          jrnz    GotMin
    1117                    
    1118 00005900     afa2          movb    *A13(ANIMTIKS),A2
         00005910     01a0  
    1119 00005920     48a2          cmp     A5,A2
    1120 00005930     c501          jrge    SkMin2
    1121 00005940     4c45          move    A2,A5
    1122 00005950           SkMin2:
    1123                    
    1124 00005950     b543          move    *A10(SFIRTIKS),A3,W
         00005960     0020  
    1125 00005970     c101          jrp     SkSFir3
    1126 00005980     1823          movk    1,A3
    1127 00005990           SkSFir3:
    1128 00005990     48a3          cmp     A5,A3
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   28

    1129 000059a0     c501          jrge    SkMin3
    1130 000059b0     4c65          move    A3,A5
    1131 000059c0           SkMin3:
    1132                    
    1133 000059c0     b5a4          move    *A13(FIRETIKS),A4,W
         000059d0     0180  
    1134 000059e0     c101          jrp     SkFire4
    1135 000059f0     1824          movk    1,A4
    1136 00005a00           SkFire4:
    1137 00005a00     48a4          cmp     A5,A4
    1138 00005a10     c501          jrge    SkMin4
    1139 00005a20     4c85          move    A4,A5
    1140 00005a30           SkMin4:
    1141                    
    1142 00005a30           GotMin:
    1143 00005a30     44a0          sub     A5,A0
    1144 00005a40     ac0d          movb    A0,*A13(BRAINTIKS)
         00005a50     01b0  
    1145 00005a60     4c21          move    A1,A1
    1146 00005a70     ca03          jrz     SkDestDc
    1147 00005a80     44a1          sub     A5,A1
    1148 00005a90     ac2d          movb    A1,*A13(DESTTIKS)
         00005aa0     01a8  
    1149 00005ab0           SkDestDc:
    1150 00005ab0     4ce7          move    A7,A7   ;ck snooze
    1151 00005ac0     cb14          jrnz    MoveSlp
    1152 00005ad0     44a2          sub     A5,A2
    1153 00005ae0     ac4d          movb    A2,*A13(ANIMTIKS)
         00005af0     01a0  
    1154 00005b00     44a3          sub     A5,A3
    1155 00005b10     b06a          move    A3,*A10(SFIRTIKS),W
         00005b20     0020  
    1156 00005b30     44a4          sub     A5,A4
    1157 00005b40     b08d          move    A4,*A13(FIRETIKS),W
         00005b50     0180  
    1158                    
    1159 00005b60     afa1          movb    *A13(BUSTTIKS),A1
         00005b70     01b8  
    1160 00005b80     ca08          jrz     SkBustDc
    1161 00005b90     0b81          andi    0FFH,A1 ;No o' this sign extended byte shit
         00005ba0 ffffff00  
    1162 00005bc0     44a1          sub     A5,A1
    1163 00005bd0     c101          jrp     SkClrBst
    1164 00005be0     5621          clr     A1
    1165 00005bf0           SkClrBst:
    1166 00005bf0     ac2d          movb    A1,*A13(BUSTTIKS)
         00005c00     01b8  
    1167 00005c10           SkBustDc:
    1168                    
    1169 00005c10           MoveSlp:
    1170 00005c10     afa1          movb    *A13(FLIPTIKS),A1
         00005c20     01d8  
    1171 00005c30     ca08          jrz     SkFlipDc
    1172 00005c40     0b81          andi    0FFH,A1 ;No o' this sign extended byte shit
         00005c50 ffffff00  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   29

    1173 00005c70     44a1          sub     A5,A1
    1174 00005c80     c101          jrp     SkClrFlp
    1175 00005c90     5621          clr     A1
    1176 00005ca0           SkClrFlp:
    1177 00005ca0     ac2d          movb    A1,*A13(FLIPTIKS)
         00005cb0     01d8  
    1178 00005cc0           SkFlipDc:
    1179                    
    1180 00005cc0     4ca0          move    A5,A0
    1181 00005cd0     0d5f          calla   PRCSLP
         00005ce0 00000000! 
    1182                    
    1183 00005d00     c000          jruc    HYPO_MV
         00005d10     fee3  
    1184                    **************************************************************************
    1185                    
    1186                    
    1187                    **************************************************************************
    1188 00005d20           SfireCk:
    1189                    ;* ret SETC to throw spinning hypo, CLRC to not throw
    1190                    
    1191 00005d20     b540          move    *A10(SFIRTIKS),A0,W
         00005d30     0020  
    1192 00005d40     cb10          jrnz    SFireCkX
    1193 00005d50     b94a          move    *A10(sfirrate),*A10(SFIRTIKS),W
         00005d60     0050  
         00005d70     0020  
    1194 00005d80     afa0          movb    *A13(DEST_TAG),A0
         00005d90     01c0  
    1195 00005da0     0b40          cmpi    BUST_T,A0
         00005db0     fff0  
    1196 00005dc0     c708          jrgt    SFireCkX
    1197 00005dd0     0d5f          calla   CentDist
         00005de0 00000000! 
    1198 00005e00     0b40          cmpi    300,A0
         00005e10     fed3  
    1199 00005e20     c702          jrgt    SFireCkX
    1200 00005e30     0de0          setc
    1201 00005e40     0960          rets
    1202 00005e50           SFireCkX:
    1203 00005e50     0320          clrc
    1204 00005e60     0960          rets
    1205                    **************************************************************************
    1206                    
    1207                    **************************************************************************
    1208 00005e70           FireCk:
    1209                    ;* ret SETC to throw spinning hypo, CLRC to not throw
    1210 00005e70     b5a0          move    *A13(FIRETIKS),A0,W
         00005e80     0180  
    1211 00005e90     cb0a          jrnz    FireCkX
    1212 00005ea0     b94d          move    *A10(firerate),*A13(FIRETIKS),W
         00005eb0     0060  
         00005ec0     0180  
    1213 00005ed0     afa0          movb    *A13(DEST_TAG),A0
         00005ee0     01c0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   30

    1214 00005ef0     0b40          cmpi    BUST_T,A0
         00005f00     fff0  
    1215 00005f10     c702          jrgt    FireCkX
    1216 00005f20     0de0          setc
    1217 00005f30     0960          rets
    1218 00005f40           FireCkX:
    1219 00005f40     0320          clrc
    1220 00005f50     0960          rets
    1221                    **************************************************************************
    1222                    
    1223                    **************************************************************************
    1224 00005f60           GetMode:
    1225 00005f60     0d5f          calla   ClosestP
         00005f70 00000000! 
    1226 00005f90     4c07          move    A0,A7           ;A7 ptr to obj of closest Player
    1227 00005fa0     b4e2          move    *A7(OXVEL+16),A2,W
         00005fb0     0050  
    1228 00005fc0     0d5f          calla   GETANIX
         00005fd0 00000000! 
    1229 00005ff0     4c01          move    A0,A1
    1230 00006000     4d06          move    A8,A6
    1231 00006010     4ce8          move    A7,A8
    1232 00006020     0d5f          calla   GETANIX
         00006030 00000000! 
    1233 00006050     4cc8          move    A6,A8
    1234 00006060     4401          sub     A0,A1           ;A1 (Xp-PlXp)
    1235 00006070     c101          jrp     SkNegD
    1236 00006080     03a2          neg     A2
    1237 00006090           SkNegD:                         ;A2 velocity ply Twd/Away from Hypoman
    1238 00006090     4c25          move    A1,A5           ;A5 signed dist
    1239 000060a0     0381          abs     A1              ;A1 Abs dist to closest player in X
    1240 000060b0     b503          move    *A8(OZPOS),A3,W
         000060c0     00d0  
    1241 000060d0     b4e0          move    *A7(OZPOS),A0,W
         000060e0     00d0  
    1242 000060f0     4403          sub     A0,A3
    1243 00006100     0383          abs     A3              ;A3 dist to plyr in Z
    1244                    
    1245                    ;BEFORE DOING MODE SPECIFIC CHECKS make sure hypo man won't hang out forever.
    1246                            ;* if off screen check to go into charge mode
    1247 00006110     0d5f          calla   SCRTST
         00006120 00000000! 
    1248 00006140     ca09          jrz     SlctMode
    1249 00006150     b540          move    *A10(LIFECTR),A0,W
         00006160     0040  
    1250 00006170     4ca5          move    A5,A5
    1251 00006180     c101          jrp     PlonLft
    1252 00006190     2fe0          srl     1,A0
    1253 000061a0           PlonLft:
    1254 000061a0     0d5f          calla   RANDPER
         000061b0 00000000! 
    1255 000061d0     c86d          jrc     SMCharge
    1256                    
    1257 000061e0           SlctMode:
    1258                    ;* select next mode of action
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   31

    1259 000061e0     af40          movb    *A10(MODE),A0
         000061f0     0030  
    1260 00006200     ce09          jrn     BadMode
    1261 00006210     0b40          cmpi    7,A0
         00006220     fff8  
    1262 00006230     c706          jrgt    BadMode
    1263                            
    1264 00006240           GotMd:
    1265 00006240     24a0          sll     5,A0
    1266 00006250     0b20          addi    GModeTbl,A0
         00006260 00006a40' 
    1267 00006280     8600          move    *A0,A0,L
    1268 00006290     0160          jump    A0
    1269                    
    1270 000062a0           BadMode:
    1271                    ;       jruc    $
    1272 000062a0     5600          clr     A0      ;NoMode .set    0
    1273 000062b0     ac0a          movb    A0,*A10(MODE)
         000062c0     0030  
    1274 000062d0     c0f6          jruc    GotMd
    1275                    
    1276 000062e0           GNoMode:
    1277 000062e0     5729          clr     A9              ;make sure set vels go through
    1278 000062f0     0b41          cmpi    80,A1           
         00006300     ffaf  
    1279 00006310     c45f          jrlt    SMRun           ;XDelt < 80, run away 
    1280 00006320     0b43          cmpi    15,A3           
         00006330     fff0  
    1281 00006340     c45c          jrlt    SMRun           ;ZDelt < 30, run away 
    1282 00006350     4c64          move    A3,A4
    1283 00006360     1144          addk    10,A4           ;pad Z to encourage backing off
    1284 00006370     2424          sll     1,A4
    1285 00006380     4824          cmp     A1,A4
    1286 00006390     c755          jrgt    SMBkwrd         ;XDelt < 2*Zdelt
    1287 000063a0     0b41          cmpi    150,A1          
         000063b0     ff69  
    1288 000063c0     c703          jrgt    StndFar2
    1289                            ;* 80 < XDelt < 150
    1290 000063d0     4c42          move    A2,A2
    1291 000063e0     c150          jrp     SMBkwrd         ;player approaching, back off
    1292 000063f0     c04d          jruc    SMStop          ;player not approaching, hold ground
    1293 00006400           StndFar2:
    1294                            ;* Xdelt > 150
    1295 00006400     4c42          move    A2,A2
    1296 00006410     ce49          jrn     SMCharge        ;player retreating, Charge
    1297 00006420     c04a          jruc    SMStop          ;player not running, Hold Pos
    1298                    
    1299 00006430           GCharge:
    1300 00006430     4c64          move    A3,A4
    1301 00006440     2424          sll     1,A4
    1302 00006450     4824          cmp     A1,A4
    1303 00006460     c74a          jrgt    SMRun           ;XDelt < 2*Zdelt
    1304 00006470     13c4          addk    30,A4
    1305 00006480     4824          cmp     A1,A4
    1306 00006490     c749          jrgt    SMThrow         ;2*Zdelt < XDelt < 2*ZDelt+20
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   32

    1307 000064a0     0b41          cmpi    80,A1
         000064b0     ffaf  
    1308 000064c0     c444          jrlt    SMRun           ;XDelt < 100, player not moving away
    1309 000064d0     4c42          move    A2,A2
    1310 000064e0     ce54          jrn     GModeX          ;player moving away from hypoman - charge
    1311 000064f0     0b41          cmpi    150,A1
         00006500     ff69  
    1312 00006510     c43b          jrlt    SMStop          ;XDelt < 150, player not moving away
    1313 00006520     09c0          movi    300,A0
         00006530     012c  
    1314 00006540     0d5f          calla   RANDPER
         00006550 00000000! 
    1315 00006570     c835          jrc     SMStop
    1316 00006580     c04a          jruc    GModeX
    1317                            
    1318 00006590           GStop:
    1319 00006590           GStand:
    1320 00006590     0b41          cmpi    80,A1           
         000065a0     ffaf  
    1321 000065b0     c435          jrlt    SMRun           ;XDelt < 80, run away 
    1322 000065c0     0b43          cmpi    15,A3           
         000065d0     fff0  
    1323 000065e0     c432          jrlt    SMRun           ;ZDelt < 30, run away 
    1324 000065f0     4c64          move    A3,A4
    1325 00006600     1144          addk    10,A4           ;pad Z to encourage backing off
    1326 00006610     2424          sll     1,A4
    1327 00006620     4824          cmp     A1,A4
    1328 00006630     c72b          jrgt    SMBkwrd         ;XDelt < 2*Zdelt
    1329 00006640     0b41          cmpi    150,A1          
         00006650     ff69  
    1330 00006660     c703          jrgt    StndFar
    1331                            ;* 80 < XDelt < 150
    1332 00006670     4c42          move    A2,A2
    1333 00006680     c126          jrp     SMBkwrd         ;player approaching, back off
    1334 00006690     c039          jruc    GModeX          ;player not approaching, hold ground
    1335 000066a0           StndFar:
    1336                            ;* Xdelt > 250
    1337 000066a0     0b41          cmpi    250,A1          
         000066b0     ff05  
    1338 000066c0     c736          jrgt    GModeX
    1339 000066d0     4c42          move    A2,A2
    1340 000066e0     ce1c          jrn     SMCharge        ;near player retreating, Charge
    1341 000066f0     c033          jruc    GModeX          ;player not running, Hold Pos
    1342                    
    1343 00006700           GBkwrd:
    1344 00006700     0b41          cmpi    200,A1
         00006710     ff37  
    1345 00006720     c71a          jrgt    SMStop          ;XDelt > 200, safe to Stand
    1346 00006730     0b41          cmpi    70,A1
         00006740     ffb9  
    1347 00006750     c41b          jrlt    SMRun           ;XDelt < 70
    1348 00006760     c02c          jruc    GModeX
    1349                    
    1350 00006770           GRun:
    1351 00006770     0b41          cmpi    150,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   33

         00006780     ff69  
    1352 00006790     c713          jrgt    SMStop          ;XDelt > 200, safe to Stand
    1353 000067a0     c028          jruc    GModeX
    1354                    
    1355 000067b0           GThrow:
    1356 000067b0     4c64          move    A3,A4
    1357 000067c0     2424          sll     1,A4
    1358 000067d0     4824          cmp     A1,A4
    1359 000067e0     c7f1          jrgt    GBkwrd          ;XDelt < 2*Zdelt
    1360 000067f0     0d3f          callr   CanFire
         00006800     fc42  
    1361 00006810     c90b          jrnc    SMStop
    1362 00006820     0b41          cmpi    150,A1
         00006830     ff69  
    1363 00006840     c41e          jrlt    GModeX
    1364 00006850     4c42          move    A2,A2
    1365 00006860     ce04          jrn     SMCharge        ;player moving away from hypoman - charge
    1366 00006870     c01b          jruc    GModeX
    1367                    
    1368 00006880           GDrug:
    1369 00006880     0d3f          callr   GoMed
         00006890     00fe  
    1370 000068a0     c018          jruc    GModeX
    1371                    
    1372 000068b0           SMCharge:
    1373 000068b0     1860          movk    MCharge,A0
    1374 000068c0     c007          jruc    GMode
    1375 000068d0           SMStop:
    1376 000068d0     1820          movk    MStop,A0
    1377 000068e0     c005          jruc    GMode
    1378 000068f0           SMBkwrd:
    1379 000068f0     1880          movk    MBkwrd,A0
    1380 00006900     c003          jruc    GMode
    1381 00006910           SMRun:
    1382 00006910     18a0          movk    MRun,A0
    1383 00006920     c001          jruc    GMode
    1384 00006930           SMThrow:
    1385 00006930     18c0          movk    MThrow,A0
    1386                    ;       jruc    GMode
    1387                    
    1388 00006940           GMode:
    1389 00006940     af41          movb    *A10(MODE),A1
         00006950     0030  
    1390 00006960     0b41          cmpi    MStand,A1
         00006970     fffd  
    1391 00006980     cb05          jrnz    SMode
    1392 00006990     0b40          cmpi    MStand,A0
         000069a0     fffd  
    1393 000069b0     ca02          jrz     SMode
    1394 000069c0     0d3f          callr   UnStand
         000069d0     fc0f  
    1395 000069e0           SMode:
    1396 000069e0     ac0a          movb    A0,*A10(MODE)
         000069f0     0030  
    1397 00006a00     5600          clr     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   34

    1398 00006a10     ac0d          movb    A0,*A13(ANIMTIKS)
         00006a20     01a0  
    1399 00006a30           GModeX:
    1400 00006a30     0960          rets
    1401                    
    1402 00006a40           GModeTbl:
    1403 00006a40 000062e0'         .long   GNoMode,GStop,GStand,GCharge,GBkwrd,GRun,GThrow,GDrug
    1404                    **************************************************************************
    1405                    
    1406                    **************************************************************************
    1407 00006b40           DoMode:
    1408                    ;* do mode of action
    1409 00006b40     af40          movb    *A10(MODE),A0
         00006b50     0030  
    1410 00006b60     24a0          sll     5,A0
    1411 00006b70     0b20          addi    DModeTbl,A0
         00006b80 00006de0' 
    1412 00006ba0     8600          move    *A0,A0,L
    1413 00006bb0     0160          jump    A0
    1414                    
    1415 00006bc0           DDrug:
    1416 00006bc0     0d3f          callr   DrugHunt
         00006bd0     015c  
    1417 00006be0     c81e          jrc     DoModeX
    1418 00006bf0     0d3f          callr   DoStop
         00006c00     fb9f  
    1419 00006c10     c90e          jrnc    DBkwrd
    1420 00006c20     c01a          jruc    DoModeX
    1421                    
    1422 00006c30           DStop:
    1423 00006c30     0d3f          callr   DoStop
         00006c40     fb9b  
    1424 00006c50     c90a          jrnc    DBkwrd
    1425 00006c60     c016          jruc    DoModeX
    1426                    
    1427 00006c70           DStand:
    1428 00006c70     0d3f          callr   DrugHunt
         00006c80     0151  
    1429 00006c90     c813          jrc     DoModeX
    1430 00006ca0     0d3f          callr   DoStand
         00006cb0     fbc6  
    1431 00006cc0     c010          jruc    DoModeX
    1432                    
    1433 00006cd0           DCharge:
    1434 00006cd0     0d3f          callr   DoCharge
         00006ce0     001f  
    1435 00006cf0     c00d          jruc    DoModeX
    1436                    
    1437 00006d00           DBkwrd:
    1438 00006d00     0d3f          callr   DoBack
         00006d10     0040  
    1439 00006d20     c00a          jruc    DoModeX
    1440                    
    1441 00006d30           DRun:
    1442 00006d30     0d3f          callr   EvadeBust
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   35

         00006d40     0124  
    1443 00006d50     c807          jrc     DoModeX
    1444 00006d60     1820          movk    MStop,A0
    1445 00006d70     ac0a          movb    A0,*A10(MODE)
         00006d80     0030  
    1446 00006d90     c0e9          jruc    DStop
    1447                    
    1448 00006da0           DThrow:
    1449 00006da0     5600          clr     A0
    1450 00006db0     b00d          move    A0,*A13(FIRETIKS),W
         00006dc0     0180  
    1451                    ;       jruc    DoModeX
    1452                    
    1453 00006dd0           DoModeX:
    1454 00006dd0     0960          rets
    1455                    
    1456 00006de0           DModeTbl:
    1457 00006de0 00000000          .long   0,DStop,DStand,DCharge,DBkwrd,DRun,DThrow,DDrug
    1458                    **************************************************************************
    1459                    
    1460                    **************************************************************************
    1461 00006ee0           DoCharge:
    1462 00006ee0     0d5f          calla   ClosestP
         00006ef0 00000000! 
    1463 00006f10     b20d          move    A0,*A13(WANTOBJ),L
         00006f20     0220  
    1464 00006f30     09c3          movi    100,A3
         00006f40     0064  
    1465 00006f50     b401          move    *A0(OXPOS),A1,W
         00006f60     0090  
    1466 00006f70     b502          move    *A8(OXPOS),A2,W
         00006f80     0090  
    1467 00006f90     4822          cmp     A1,A2
    1468 00006fa0     c701          jrgt    SkNegDst
    1469 00006fb0     03a3          neg     A3
    1470 00006fc0           SkNegDst:
    1471 00006fc0     4061          add     A3,A1
    1472 00006fd0     b502          move    *A8(OZPOS),A2,W
         00006fe0     00d0  
    1473 00006ff0     2602          sll     16,A2
    1474 00007000     ee41          movy    A2,A1
    1475 00007010     b22d          move    A1,*A13(DEST),L
         00007020     01e0  
    1476 00007030     0d5f          calla   FACEOBJ
         00007040 00000000! 
    1477                    
    1478 00007060     0d3f          callr   GoFast
         00007070     00b4  
    1479 00007080     b7a0          move    *A13(FUNCS),A0,L        ;* choose appropriate godest func
         00007090     00e0  
    1480 000070a0     0b00          addi    GODEST,A0
         000070b0     0020  
    1481 000070c0     8600          move    *A0,A0,L
    1482 000070d0     0920          call    A0
    1483                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   36

    1484 000070e0     19e0          movk    CHARGE_T,A0
    1485 000070f0     ac0d          movb    A0,*A13(DEST_TAG)
         00007100     01c0  
    1486 00007110     0960          rets
    1487                    **************************************************************************
    1488                    
    1489                    **************************************************************************
    1490 00007120           DoBack:
    1491 00007120     0d5f          calla   ClosestP
         00007130 00000000! 
    1492 00007150     b20d          move    A0,*A13(WANTOBJ),L
         00007160     0220  
    1493 00007170     09c3          movi    100,A3
         00007180     0064  
    1494 00007190     b401          move    *A0(OXPOS),A1,W
         000071a0     0090  
    1495 000071b0     b502          move    *A8(OXPOS),A2,W
         000071c0     0090  
    1496 000071d0     4822          cmp     A1,A2
    1497 000071e0     c701          jrgt    SkNegD1
    1498 000071f0     03a3          neg     A3
    1499 00007200           SkNegD1:
    1500 00007200     4062          add     A3,A2
    1501 00007210     b501          move    *A8(OZPOS),A1,W
         00007220     00d0  
    1502 00007230     2601          sll     16,A1
    1503 00007240     ec41          movx    A2,A1
    1504 00007250     b22d          move    A1,*A13(DEST),L
         00007260     01e0  
    1505                    
    1506 00007270     0d3f          callr   GoBack
         00007280     002b  
    1507 00007290     b7a0          move    *A13(FUNCS),A0,L        ;* choose appropriate godest func
         000072a0     00e0  
    1508 000072b0     0b00          addi    GODEST,A0
         000072c0     0020  
    1509 000072d0     8600          move    *A0,A0,L
    1510 000072e0     0920          call    A0
    1511                    
    1512 000072f0     1820          movk    DFLT_T,A0
    1513 00007300     ac0d          movb    A0,*A13(DEST_TAG)
         00007310     01c0  
    1514 00007320     0960          rets
    1515                    **************************************************************************
    1516                    
    1517                    
    1518                    ************************** Animation Cycler ******************************
    1519 00007330           AnimCycle:
    1520                    ;Resets animation loop
    1521 00007330     b7a9          move    *A13(ANIMPTR),A9,L
         00007340     0120  
    1522 00007350     0960          rets
    1523                    **************************************************************************
    1524                    
    1525                    **************************** GetXVel *************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   37

    1526 00007360           GetXVel:
    1527 00007360     0b69          cmpi    MOVETBL,A9
         00007370 ffff591f' 
    1528 00007390     c418          jrlt    NoXvel
    1529 000073a0     0b69          cmpi    MOVEEND,A9
         000073b0 ffff543f' 
    1530 000073d0     c514          jrge    NoXvel
    1531 000073e0     0b69          cmpi    WALKMED,A9
         000073f0 ffff577f' 
    1532 00007410     c504          jrge    NotSlow
    1533 00007420     09e0          movi    SLOWVEL-01000H,A0
         00007430 fffed000  
    1534 00007450     c00d          jruc    GotXvel
    1535 00007460           NotSlow:
    1536 00007460     0b69          cmpi    WALKFAST,A9
         00007470 ffff55df' 
    1537 00007490     c504          jrge    NotMed
    1538 000074a0     09e0          movi    MEDVEL+01000H,A0
         000074b0 0001b000  
    1539 000074d0     c005          jruc    GotXvel
    1540 000074e0           NotMed:
    1541 000074e0     09e0          movi    FASTVEL+01000H,A0
         000074f0 00027000  
    1542 00007510     c001          jruc    GotXvel
    1543 00007520           NoXvel:
    1544 00007520     5600          clr     A0
    1545 00007530           GotXvel:
    1546 00007530     0960          rets
    1547                    **************************************************************************
    1548                    
    1549                    ***************************** GoBack *************************************
    1550 00007540           GoBack:
    1551 00007540     098f          mmtm    SP,A0
         00007550     8000  
    1552 00007560     0b69          cmpi    MOVETBL,A9
         00007570 ffff591f' 
    1553 00007590     c414          jrlt    StartSlow
    1554 000075a0     0b69          cmpi    MOVEEND,A9
         000075b0 ffff543f' 
    1555 000075d0     c510          jrge    StartSlow
    1556                    
    1557 000075e0     0b69          cmpi    WALKMED,A9
         000075f0 ffff577f' 
    1558 00007610     c423          jrlt    GoSlowX         ;already going slow
    1559 00007620     0b69          cmpi    WALKFAST,A9
         00007630 ffff55df' 
    1560 00007650     c504          jrge    NotMed1
    1561 00007660     0d09          subi    WALKMED,A9
         00007670 ffff577f' 
    1562 00007690     c005          jruc    AdjSlow
    1563 000076a0           NotMed1:
    1564 000076a0     0d09          subi    WALKFAST,A9
         000076b0 ffff55df' 
    1565 000076d0     c001          jruc    AdjSlow
    1566                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   38

    1567 000076e0           StartSlow:
    1568 000076e0     5729          clr     A9
    1569 000076f0           AdjSlow:
    1570 000076f0     09e0          movi    WALKSLOW,A0
         00007700 0000a6e0' 
    1571 00007720     b20d          move    A0,*A13(ANIMPTR),L
         00007730     0120  
    1572 00007740     4009          add     A0,A9
    1573                    
    1574                            ;* set veloctiy for skaters
    1575 00007750     b500          move    *A8(OFLAGS),A0,W
         00007760     0100  
    1576 00007770     1f60          btst    B_FLIPH,A0
    1577 00007780     ca04          jrz     VelPos0
    1578 00007790     09e0          movi    -SLOWVEL,A0
         000077a0 00012000  
    1579 000077c0     c003          jruc    SetXV0
    1580 000077d0           VelPos0:
    1581 000077d0     09e0          movi    SLOWVEL,A0
         000077e0 fffee000  
    1582 00007800           SetXV0:
    1583 00007800     b208          move    A0,*A8(OXVEL),L
         00007810     0040  
    1584 00007820     0d5f          calla   UpdShadV
         00007830 00000000! 
    1585                            
    1586 00007850           GoSlowX:
    1587 00007850     09af          mmfm    SP,A0
         00007860     0001  
    1588 00007870     0960          rets
    1589                    **************************************************************************
    1590                    
    1591                    ***************************** GoMed *************************************
    1592 00007880           GoMed:
    1593 00007880     098f          mmtm    SP,A0
         00007890     8000  
    1594 000078a0     0b69          cmpi    MOVETBL,A9
         000078b0 ffff591f' 
    1595 000078d0     c414          jrlt    StartMed
    1596 000078e0     0b69          cmpi    MOVEEND,A9
         000078f0 ffff543f' 
    1597 00007910     c510          jrge    StartMed
    1598                    
    1599 00007920     0b69          cmpi    WALKMED,A9
         00007930 ffff577f' 
    1600 00007950     c504          jrge    NotSlow2
    1601 00007960     0d09          subi    WALKSLOW,A9
         00007970 ffff591f' 
    1602 00007990     c009          jruc    AdjMed
    1603 000079a0           NotSlow2:
    1604 000079a0     0b69          cmpi    WALKFAST,A9
         000079b0 ffff55df' 
    1605 000079d0     c41b          jrlt    GoMedX          ;Already going Med
    1606 000079e0     0d09          subi    WALKFAST,A9
         000079f0 ffff55df' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   39

    1607 00007a10     c001          jruc    AdjMed
    1608                    
    1609 00007a20           StartMed:
    1610 00007a20     5729          clr     A9
    1611 00007a30           AdjMed:
    1612 00007a30     09e0          movi    WALKMED,A0
         00007a40 0000a880' 
    1613 00007a60     b20d          move    A0,*A13(ANIMPTR),L
         00007a70     0120  
    1614 00007a80     4009          add     A0,A9
    1615                    
    1616                            ;* set veloctiy for skaters
    1617 00007a90     b500          move    *A8(OFLAGS),A0,W
         00007aa0     0100  
    1618 00007ab0     1f60          btst    B_FLIPH,A0
    1619 00007ac0     ca04          jrz     VelPos1
    1620 00007ad0     09e0          movi    -MEDVEL,A0
         00007ae0 fffe6000  
    1621 00007b00     c003          jruc    SetXV1
    1622 00007b10           VelPos1:
    1623 00007b10     09e0          movi    MEDVEL,A0
         00007b20 0001a000  
    1624 00007b40           SetXV1:
    1625 00007b40     b208          move    A0,*A8(OXVEL),L
         00007b50     0040  
    1626 00007b60     0d5f          calla   UpdShadV
         00007b70 00000000! 
    1627                    
    1628 00007b90           GoMedX:
    1629 00007b90     09af          mmfm    SP,A0
         00007ba0     0001  
    1630 00007bb0     0960          rets
    1631                    **************************************************************************
    1632                    
    1633                    ***************************** GoFast *************************************
    1634 00007bc0           GoFast:
    1635 00007bc0     098f          mmtm    SP,A0
         00007bd0     8000  
    1636 00007be0     0b69          cmpi    MOVETBL,A9
         00007bf0 ffff591f' 
    1637 00007c10     c414          jrlt    StartFast
    1638 00007c20     0b69          cmpi    MOVEEND,A9
         00007c30 ffff543f' 
    1639 00007c50     c510          jrge    StartFast
    1640                    
    1641 00007c60     0b69          cmpi    WALKMED,A9
         00007c70 ffff577f' 
    1642 00007c90     c504          jrge    NotSlow3
    1643 00007ca0     0d09          subi    WALKSLOW,A9
         00007cb0 ffff591f' 
    1644 00007cd0     c009          jruc    AdjFast
    1645 00007ce0           NotSlow3:
    1646 00007ce0     0b69          cmpi    WALKFAST,A9
         00007cf0 ffff55df' 
    1647 00007d10     c51b          jrge    GoFastX         ;Already going Fast
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   40

    1648 00007d20     0d09          subi    WALKMED,A9
         00007d30 ffff577f' 
    1649 00007d50     c001          jruc    AdjFast
    1650                    
    1651 00007d60           StartFast:
    1652 00007d60     5729          clr     A9
    1653 00007d70           AdjFast:
    1654 00007d70     09e0          movi    WALKFAST,A0
         00007d80 0000aa20' 
    1655 00007da0     b20d          move    A0,*A13(ANIMPTR),L
         00007db0     0120  
    1656 00007dc0     4009          add     A0,A9
    1657                    
    1658                            ;* set veloctiy for skaters
    1659 00007dd0     b500          move    *A8(OFLAGS),A0,W
         00007de0     0100  
    1660 00007df0     1f60          btst    B_FLIPH,A0
    1661 00007e00     ca04          jrz     VelPos2
    1662 00007e10     09e0          movi    -FASTVEL,A0
         00007e20 fffda000  
    1663 00007e40     c003          jruc    SetXV2
    1664 00007e50           VelPos2:
    1665 00007e50     09e0          movi    FASTVEL,A0
         00007e60 00026000  
    1666 00007e80           SetXV2:
    1667 00007e80     b208          move    A0,*A8(OXVEL),L
         00007e90     0040  
    1668 00007ea0     0d5f          calla   UpdShadV
         00007eb0 00000000! 
    1669                    
    1670 00007ed0           GoFastX:
    1671                    ;       callr   FRANCHEK
    1672 00007ed0     09af          mmfm    SP,A0
         00007ee0     0001  
    1673 00007ef0     0960          rets
    1674                    **************************************************************************
    1675                    
    1676                    *************************** Screen X Check *******************************
    1677 00007f00           ScrXCk:
    1678 00007f00     0d3f          callr   JR_XCHECK
         00007f10     fc17  
    1679 00007f20     c905          jrnc    OnScr
    1680 00007f30     0d3f          callr   GoFast
         00007f40     ffc7  
    1681 00007f50     0d5f          calla   GetOnScr
         00007f60 00000000! 
    1682 00007f80           OnScr:
    1683 00007f80     0960          rets
    1684                    **************************************************************************
    1685                    
    1686                    *****************************  Evade Bust  *******************************
    1687 00007f90           EvadeBust:
    1688                    ;* rets setc if evade is being done
    1689 00007f90     0d5f          calla   ClosestP
         00007fa0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   41

    1690                    
    1691 00007fc0     b401          move    *A0(OXPOS),A1           ;if too far away in X don't evade
         00007fd0     0090  
    1692 00007fe0     b502          move    *A8(OXPOS),A2
         00007ff0     0090  
    1693 00008000     4422          sub     A1,A2
    1694 00008010     0382          abs     A2
    1695 00008020     0b42          cmpi    170,A2
         00008030     ff55  
    1696 00008040     c713          jrgt    EvadeX
    1697                    
    1698 00008050     b401          move    *A0(OZPOS),A1           ;if too far away in Z don't evade
         00008060     00d0  
    1699 00008070     b502          move    *A8(OZPOS),A2
         00008080     00d0  
    1700 00008090     4422          sub     A1,A2
    1701 000080a0     0382          abs     A2
    1702 000080b0     0b42          cmpi    80,A2
         000080c0     ffaf  
    1703 000080d0     c70a          jrgt    EvadeX
    1704                    
    1705                            ;* player is too close - RUN AWAY!!
    1706 000080e0     0d3f          callr   GoFast
         000080f0     ffac  
    1707 00008100     0d5f          calla   FleeObj
         00008110 00000000! 
    1708 00008130     19e0          movk    BUST_T,A0
    1709 00008140     ac0d          movb    A0,*A13(DEST_TAG)
         00008150     01c0  
    1710 00008160     0de0          setc
    1711 00008170     0960          rets
    1712                    
    1713 00008180           EvadeX:
    1714 00008180     0320          clrc
    1715 00008190     0960          rets
    1716                    **************************************************************************
    1717                    
    1718                    *************************  Drug Hunt  ************************************
    1719 000081a0           DrugHunt:
    1720                    ;* setc if drugs are being hunted, clrc for no drugs
    1721 000081a0     09c0          movi    DRUGOID,A0
         000081b0     0011  
    1722 000081c0     0d5f          calla   NEAR_BTY
         000081d0 00000000! 
    1723 000081f0     c91b          jrnc    HuntX
    1724                    
    1725 00008200     0d3f          callr   UnStand
         00008210     fa8b  
    1726 00008220     0d3f          callr   GoMed
         00008230     ff64  
    1727 00008240     b20d          move    A0,*A13(WANTOBJ),L
         00008250     0220  
    1728 00008260     0d5f          calla   HuntObj
         00008270 00000000! 
    1729 00008290     1b20          movk    25,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   42

    1730 000082a0     0d5f          calla   ShortXDest
         000082b0 00000000! 
    1731                    
    1732 000082d0     b7a0          move    *A13(FUNCS),A0,L        ;* choose appropriate godest func
         000082e0     00e0  
    1733 000082f0     0b00          addi    GODEST,A0
         00008300     0020  
    1734 00008310     8600          move    *A0,A0,L
    1735 00008320     0920          call    A0
    1736                    
    1737 00008330     1980          movk    DRUG_T,A0
    1738 00008340     ac0d          movb    A0,*A13(DEST_TAG)
         00008350     01c0  
    1739 00008360     18e0          movk    MDrug,A0
    1740 00008370     ac0a          movb    A0,*A10(MODE)
         00008380     0030  
    1741 00008390     0de0          setc
    1742 000083a0     0960          rets
    1743                    
    1744 000083b0           HuntX:
    1745 000083b0     0320          clrc
    1746 000083c0     0960          rets
    1747                    **************************************************************************
    1748                    
    1749                    **************************************************************************
    1750 000083d0           GRAB:
    1751 000083d0     b7a0          move    *A13(WANTOBJ),A0,L
         000083e0     0220  
    1752 000083f0     ca7d          jrz     GRABX
    1753                    ;* If ENEMY Z and OBJ Z don't match, can't grab
    1754 00008400           GrabLp:
    1755 00008400     b401          move    *A0(OZPOS),A1,W
         00008410     00d0  
    1756 00008420     b502          move    *A8(OZPOS),A2,W
         00008430     00d0  
    1757 00008440     4c23          move    A1,A3
    1758 00008450     4443          sub     A2,A3
    1759 00008460     0383          abs     A3
    1760 00008470     0b43          cmpi    5,A3
         00008480     fffa  
    1761 00008490     c777          jrgt    NOGRAB
    1762                    
    1763                    ;* Check X distance
    1764 000084a0     b402          move    *A0(OXPOS),A2,W  
         000084b0     0090  
    1765 000084c0     b403          move    *A0(OSIZEX),A3,W 
         000084d0     0140  
    1766 000084e0     2fe3          srl     1,A3
    1767 000084f0     4062          add     A3,A2   ;A2 - objx
    1768 00008500     4c01          move    A0,A1
    1769 00008510     0d5f          calla   GETANIX
         00008520 00000000! 
    1770 00008540                   SWAP    A1,A0   ;A1 - enemyx
    1771 00008570     4422          sub     A1,A2   ;A2 - distance apart
    1772 00008580     0382          abs     A2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   43

    1773 00008590     0b42          cmpi    5,A2
         000085a0     fffa  
    1774 000085b0     c465          jrlt    NOGRAB
    1775 000085c0     0b42          cmpi    35,A2
         000085d0     ffdc  
    1776 000085e0     c762          jrgt    NOGRAB
    1777                    
    1778 000085f0           GRABIT:
    1779 000085f0     07a1          move    @BOOTY,A1,L
         00008600 00000000! 
    1780 00008620     0d5f          calla   ON_SLIST
         00008630 00000000! 
    1781 00008650     c804          jrc     DOGRAB
    1782 00008660     5600          clr     A0
    1783 00008670     b20d          move    A0,*A13(WANTOBJ),L
         00008680     0220  
    1784 00008690     c053          jruc    GRABX
    1785 000086a0           DOGRAB:
    1786 000086a0     4c0b          move    A0,A11
    1787 000086b0     0d5f          calla   FACEOBJ
         000086c0 00000000! 
    1788 000086e0     0d3f          callr   UnStand
         000086f0     fa3d  
    1789 00008700     0d3f          callr   AnimRst
         00008710     fa47  
    1790 00008720     09e9          movi    JRREACH1,A9
         00008730 0000b110' 
    1791 00008750     0d5f          calla   ClrVel
         00008760 00000000! 
    1792 00008780     1821          movk    1,A1
    1793 00008790                   jsrp    FRANIM
    1794                            
    1795 00008800     4d60          move    A11,A0
    1796 00008810     07a1          move    @BOOTY,A1,L
         00008820 00000000! 
    1797 00008840     0d5f          calla   ON_SLIST
         00008850 00000000! 
    1798 00008870     c804          jrc     DOGRAB1
    1799 00008880     5600          clr     A0
    1800 00008890     b20d          move    A0,*A13(WANTOBJ),L
         000088a0     0220  
    1801 000088b0     c031          jruc    GRABX
    1802 000088c0           DOGRAB1:
    1803 000088c0     b760          move    *A11(OPLINK),A0,L
         000088d0     01f0  
    1804 000088e0     ca06          jrz     NoBtyPrc
    1805 000088f0     0d5f          calla   KILL
         00008900 00000000! 
    1806 00008920     5600          clr     A0
    1807 00008930     b20b          move    A0,*A11(OPLINK),L
         00008940     01f0  
    1808 00008950           NoBtyPrc:
    1809 00008950     4d60          move    A11,A0                  ;GET THE BLOCK
    1810 00008960     09e1          movi    BOOTY,A1
         00008970 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   44

    1811 00008990     0d5f          calla   DELSUPP                 ;DELETE FROM THE SUPPLEMENTAL LIST
         000089a0 00000000! 
    1812 000089c0     0d5f          calla   DELOBJ                  ;ZAP IT
         000089d0 00000000! 
    1813 000089f0     afa0          movb    *A13(EDRUG),A0
         00008a00     0148  
    1814 00008a10     1020          inc     A0
    1815 00008a20     ac0d          movb    A0,*A13(EDRUG)
         00008a30     0148  
    1816 00008a40     5600          clr     A0
    1817 00008a50     b20d          move    A0,*A13(WANTOBJ),L
         00008a60     0220  
    1818 00008a70     0d3f          callr   SetFireR
         00008a80     f930  
    1819                    
    1820 00008a90     09e9          movi    JRREACH2,A9
         00008aa0 0000b1f0' 
    1821 00008ac0     1821          movk    1,A1
    1822 00008ad0                   jsrp    FRANIM
    1823                    
    1824 00008b40     5600          clr     A0
    1825 00008b50     ac0d          movb    A0,*A13(BUSTTIKS)
         00008b60     01b8  
    1826                    
    1827 00008b70     09c0          movi    DRUGOID,A0
         00008b80     0011  
    1828 00008b90     0d5f          calla   NEAR_BTY
         00008ba0 00000000! 
    1829 00008bc0     c883          jrc     GrabLp
    1830                    
    1831 00008bd0           GRABX:
    1832 00008bd0     0de0          setc
    1833 00008be0                   retp
    1834 00008c10           NOGRAB:
    1835 00008c10     0320          clrc
    1836 00008c20                   retp
    1837                    **************************************************************************
    1838                    
    1839                    ***************************** CHECK DANGER *******************************
    1840                    * if JR is in danger of being shot, dodge or send spinning hypo
    1841                    * if a destination is set, set the carry to prevent MODE stuff
    1842 00008c50           CkDngr:
    1843 00008c50     0d5f          calla   NEAR_BUL
         00008c60 00000000! 
    1844 00008c80     4ca5          move    A5,A5   ;is there a closest bullet
    1845 00008c90     ca00          jrz     NoDngr
         00008ca0     00a4  
    1846                    
    1847 00008cb0     b501          move    *A8(OYPOS),A1,W
         00008cc0     00b0  
    1848 00008cd0     b502          move    *A8(OSIZEY),A2,W
         00008ce0     0150  
    1849 00008cf0     2fe2          srl     1,A2            ;want to find belly
    1850 00008d00     1682          subk    20,A2   ;* encourage jumping
    1851 00008d10     4041          add     A2,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   45

    1852 00008d20     b4a3          move    *A5(OYPOS),A3,W
         00008d30     00b0  
    1853 00008d40     4461          sub     A3,A1
    1854 00008d50     ce50          jrn     BULL_LOW
    1855                            ;* bullet heading at head
    1856 00008d60     0b46          cmpi    200,A6          ;is bullet real close?
         00008d70     ff37  
    1857 00008d80     c725          jrgt HGH_NEAR
    1858                    ;* bullet is very close - duck and shoot spinner
    1859                            ;* shoot toward where bullet came from 
    1860 00008d90     4ca0          move    A5,A0
    1861 00008da0     0d5f          calla   FACEBULL
         00008db0 00000000! 
    1862 00008dd0     0d5f          calla   ClosestFP
         00008de0 00000000! 
    1863 00008e00     b20d          move    A0,*A13(WANTOBJ),L
         00008e10     0220  
    1864 00008e20     0d3f          callr   UnStand
         00008e30     f9c9  
    1865 00008e40     0d3f          callr   AnimRst
         00008e50     f9d3  
    1866 00008e60     09e9          movi    JRTH,A9
         00008e70 0000b2a0' 
    1867 00008e90     b501          move    *A8(OID),A1,W
         00008ea0     01a0  
    1868 00008eb0     0b81          andi    2,A1
         00008ec0 fffffffd  
    1869 00008ee0     ca03          jrz     SkSpn1
    1870 00008ef0     09e9          movi    JRTHS,A9
         00008f00 0000b460' 
    1871 00008f20           SkSpn1: 
    1872 00008f20     0d5f          calla   ClrVel
         00008f30 00000000! 
    1873 00008f50     1821          movk    1,A1                    ; do the whole script
    1874 00008f60                   jsrp    FRANIM
    1875 00008fd0     c071          jruc    JRDNGRX
    1876 00008fe0           HGH_NEAR:
    1877 00008fe0     0b46          cmpi    500,A6  ;is bullet near?
         00008ff0     fe0b  
    1878 00009000     c76e          jrgt    JRDNGRX
    1879                    
    1880                            ;* bullet is near - move down, down and away!
    1881                            ;* find Z destination
    1882 00009010     b501          move    *A8(OZPOS),A1,W
         00009020     00d0  
    1883 00009030     1bc0          movk    30,A0
    1884 00009040     0d5f          calla   RANDU
         00009050 00000000! 
    1885 00009070     11e0          addk    15,A0
    1886 00009080     4001          add     A0,A1
    1887 00009090     05a0          move    @PLZMAX,A0,W
         000090a0 00000000! 
    1888 000090c0     4801          cmp     A0,A1
    1889 000090d0     c405          jrlt    ZisGood
    1890 000090e0     05a1          move    @PLZMIN,A1,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   46

         000090f0 00000000! 
    1891 00009110     4001          add     A0,A1
    1892 00009120     2fe1          srl     1,A1
    1893 00009130           ZisGood:
    1894 00009130     2601          sll     16,A1   ;A1 is z portion of destination
    1895                    
    1896                            ;* generate X destination
    1897 00009140     1bc0          movk    30,A0
    1898 00009150     0d5f          calla   RANDU
         00009160 00000000! 
    1899 00009180     13c0          addk    30,A0           ;A0 is magnitude of X distance to run away
    1900 00009190     b4a2          move    *A5(OXVEL+16),A2,W              ;Get sign of Bullets velocity
         000091a0     0050  
    1901 000091b0     c101          jrp     XdirOK
    1902 000091c0     03a0          neg     A0
    1903 000091d0           XdirOK:
    1904 000091d0     4c02          move    A0,A2
    1905 000091e0     0d5f          calla   GETANIX
         000091f0 00000000! 
    1906 00009210     4002          add     A0,A2
    1907 00009220     ee22          movy    A1,A2
    1908 00009230     b24d          move    A2,*A13(DEST),L
         00009240     01e0  
    1909 00009250     c036          jruc    DNGRDEST
    1910                    
    1911 00009260           BULL_LOW:
    1912                            ;* bullet heading at feet
    1913 00009260     0b46          cmpi    200,A6  ;is bullet real close?
         00009270     ff37  
    1914 00009280     c70c          jrgt    LOW_NEAR
    1915                            ;* bullet is very close - jump and shoot spinner
    1916 00009290     4ca0          move    A5,A0
    1917 000092a0     0d5f          calla   FACEOBJ
         000092b0 00000000! 
    1918 000092d0                   jsrp    DO_JUMP
    1919 00009340     c03a          jruc    JRDNGRX
    1920 00009350           LOW_NEAR:
    1921 00009350     0b46          cmpi    500,A6  ;is bullet near?
         00009360     fe0b  
    1922 00009370     c737          jrgt    JRDNGRX
    1923                    
    1924                            ;* bullet is near - move up, up and away
    1925                            ;* find Z destination
    1926 00009380     b501          move    *A8(OZPOS),A1,W
         00009390     00d0  
    1927 000093a0     1bc0          movk    30,A0
    1928 000093b0     0d5f          calla   RANDU
         000093c0 00000000! 
    1929 000093e0     11e0          addk    15,A0
    1930 000093f0     4401          sub     A0,A1
    1931 00009400     05a0          move    @PLZMIN,A0,W
         00009410 00000000! 
    1932 00009430     4801          cmp     A0,A1
    1933 00009440     c705          jrgt    ZisGood2
    1934 00009450     05a1          move    @PLZMAX,A1,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   47

         00009460 00000000! 
    1935 00009480     4001          add     A0,A1
    1936 00009490     2fe1          srl     1,A1
    1937 000094a0           ZisGood2:
    1938 000094a0     2601          sll     16,A1   ;A1 is z portion of destination
    1939                    
    1940                            ;* generate X destination
    1941 000094b0     1bc0          movk    30,A0
    1942 000094c0     0d5f          calla   RANDU
         000094d0 00000000! 
    1943 000094f0     13c0          addk    30,A0           ;A0 is magnitude of X distance to run away
    1944 00009500     b4a2          move    *A5(OXVEL+16),A2,W              ;Get sign of Bullets velocity
         00009510     0050  
    1945 00009520     c101          jrp     XdirOK2
    1946 00009530     03a0          neg     A0
    1947 00009540           XdirOK2:
    1948 00009540     4c02          move    A0,A2
    1949 00009550     0d5f          calla   GETANIX
         00009560 00000000! 
    1950 00009580     4002          add     A0,A2
    1951 00009590     ee22          movy    A1,A2
    1952 000095a0     b24d          move    A2,*A13(DEST),L
         000095b0     01e0  
    1953                    
    1954 000095c0           DNGRDEST:
    1955 000095c0     0d3f          callr   UnStand
         000095d0     f94f  
    1956 000095e0     0d3f          callr   AnimRst
         000095f0     f959  
    1957 00009600     0d3f          callr   GoFast
         00009610     fe5a  
    1958 00009620     1a80          movk    BULL_T,A0
    1959 00009630     ac0d          movb    A0,*A13(DEST_TAG)
         00009640     01c0  
    1960                    
    1961 00009650     b7a0          move    *A13(FUNCS),A0,L        ;* choose appropriate godest func
         00009660     00e0  
    1962 00009670     0b00          addi    GODEST,A0
         00009680     0020  
    1963 00009690     8600          move    *A0,A0,L
    1964 000096a0     0920          call    A0
    1965 000096b0     0de0          setc
    1966 000096c0                   retp
    1967                    
    1968 000096f0           JRDNGRX:
    1969 000096f0           NoDngr:
    1970 000096f0     0320          clrc
    1971 00009700                   retp
    1972                    **************************************************************************
    1973                    
    1974                    **************************************************************************
    1975 00009730           JR_DONE:
    1976 00009730     0d3f          callr   DelHead
         00009740     f87b  
    1977 00009750     4d40          move    A10,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   48

    1978 00009760     0d5f          calla   FREEOBJE
         00009770 00000000! 
    1979 00009790           JR_DIE2:
    1980 00009790     4d00          move    A8,A0           ;GET THE POINTER TO THE OBJECT
    1981 000097a0     0d5f          calla   DELENEMY                        ;DELETE THE ENEMY
         000097b0 00000000! 
    1982 000097d0           JR_DIE1:
    1983 000097d0                   DECW    @JRHYCNT
    1984 00009840                   DIE
    1985 00009870           JRBUSTED:
    1986 00009870     4d62          move    A11,A2
    1987 00009880     09c1          movi    05000H,A1
         00009890     5000  
    1988 000098a0     0d5f          calla   SCORE
         000098b0 00000000! 
    1989 000098d0     0d5f          calla   PUT5K
         000098e0 00000000! 
    1990                    
    1991 00009900     0d3f          callr   DelHead
         00009910     f85e  
    1992 00009920     4d40          move    A10,A0
    1993 00009930     0d5f          calla   FREEOBJE
         00009940 00000000! 
    1994 00009960     05a0          move    @JRHYCNT,A0,W
         00009970 00000000! 
    1995 00009990     1420          dec     A0
    1996 000099a0     0580          move    A0,@JRHYCNT,W
         000099b0 00000000! 
    1997 000099d0     0d5f          calla   CARDCHEK
         000099e0 00000000! 
    1998 00009a00                   DIE
    1999                    **************************************************************************
    2000                    
    2001                    
    2002                    **************************************************************************
    2003                    *WALKING JR, AS OBJECT 0, COLLSION ROUTINE
    2004                    *A0 = PTR TO JR OBJECT
    2005                    *A8 = PTR TO OBJECT THAT SMASHED HIM
    2006 00009a30           CARCOL0
    2007 00009a30     4d06          MOVE    A8,A6           ;KILLERS OBJ
    2008 00009a40     4c08          MOVE    A0,A8           ;JR OBJ
    2009 00009a50     b6c0          move    *A6(OXVEL),A0,L
         00009a60     0040  
    2010 00009a70     b701          move    *A8(OXVEL),A1,L
         00009a80     0040  
    2011 00009a90     4420          sub     A1,A0
    2012 00009aa0     0380          abs     A0
    2013 00009ab0     0b60          cmpi    070000H,A0
         00009ac0 fff8ffff  
    2014 00009ae0     c415          jrlt    NotHurt
    2015 00009af0     09e0          movi    060000H,A0
         00009b00 00060000  
    2016 00009b20     0d5f          calla   RANDU
         00009b30 00000000! 
    2017 00009b50     0d00          subi    030000H,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   49

         00009b60 fffcffff  
    2018 00009b80     b6c1          move    *A6(OXVEL),A1,L
         00009b90     0040  
    2019 00009ba0     2be1          sra     1,A1
    2020 00009bb0     4c22          move    A1,A2
    2021 00009bc0     4020          add     A1,A0
    2022 00009bd0     b208          move    A0,*A8(OXVEL),L
         00009be0     0040  
    2023 00009bf0     0382          abs     A2
    2024 00009c00     03a2          neg     A2
    2025 00009c10     b248          move    A2,*A8(OYVEL),L
         00009c20     0060  
    2026 00009c30     c006          jruc    Wasted
    2027 00009c40           NotHurt:
    2028 00009c40     b700          move    *A8(OPLINK),A0,L
         00009c50     01f0  
    2029                    ;       move    A6,*A0(COLLOBJ),L
    2030 00009c60     5600          clr     A0      ;don't stop collision scan
    2031 00009c70     0960          RETS
    2032                    
    2033 00009c80           JRCOL0
    2034 00009c80     4d06          MOVE    A8,A6                   ;STORE KILLERS OBLOCK
    2035 00009c90     4c08          MOVE    A0,A8                   ;PASS WASTED GUYS POINTER
    2036 00009ca0           Wasted:
    2037 00009ca0     b700          move    *A8(OPLINK),A0,L
         00009cb0     01f0  
    2038 00009cc0     0d5f          calla   GETA8
         00009cd0 00000000! 
    2039 00009cf0     0d5f          calla   GETA10
         00009d00 00000000! 
    2040 00009d20     0d5f          calla   DelHead
         00009d30 00001f00' 
    2041 00009d50     4d40          move    A10,A0
    2042 00009d60     0d5f          calla   FREEOBJE
         00009d70 00000000! 
    2043                    
    2044 00009d90     09ee          MOVI    SPLTCOLBOX,A14
         00009da0 00000000! 
    2045 00009dc0     b3c8          MOVE    A14,*A8(OCVECT),L       ;COLLISION POINTER
         00009dd0     01d0  
    2046                    
    2047 00009de0     b700          MOVE    *A8(OPLINK),A0,L
         00009df0     01f0  
    2048 00009e00     0d5f          CALLA   KILL                    ;KILL CONTROL
         00009e10 00000000! 
    2049 00009e30     4c0e          MOVE    A0,A14                  ;STORE THIS RELIC
    2050                            
    2051 00009e40     0d5f          calla   ShadOn
         00009e50 00000000! 
    2052                    
    2053 00009e70     b6c9          MOVE    *A6(OXVEL),A9,L         ;GET PROJECTILE DATA
         00009e80     0040  
    2054 00009e90     b6ca          MOVE    *A6(OYVEL),A10,L
         00009ea0     0060  
    2055 00009eb0     b4cb          MOVE    *A6(OID),A11,W          
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   50

         00009ec0     01a0  
    2056 00009ed0     09c1          MOVI    0EDh,A1
         00009ee0     00ed  
    2057 00009ef0     09e7          MOVI    WENDIE,A7
         00009f00 00000000! 
    2058 00009f20     0d5f          CALLA   GETPRC                  ;CREATE A NEW ENEMY DEATH PROCESS
         00009f30 00000000! 
    2059 00009f50     ca23          jrz     SkWendie
    2060 00009f60     bac0          MOVE    *A6(ODMAXY),*A0(PDATA),L        ;PASS KILLERS DMA XY POSITION
         00009f70     0210  
         00009f80     0060  
    2061 00009f90     bac0          MOVE    *A6(OSIZE),*A0(PDATA+20H),L     ;AND KILLERS XY SIZE
         00009fa0     0140  
         00009fb0     0080  
    2062 00009fc0     bbc0          move    *A14(EBCNTRS),*A0(EBCNTRS),L    ;and the booty counters
         00009fd0     0140  
         00009fe0     0140  
    2063 00009ff0     bbc0          MOVE    *A14(EMAINT),*A0(EMAINT),L
         0000a000     0100  
         0000a010     0100  
    2064                    
    2065 0000a020     b4c9          move    *A6(OYPOS),A9,W
         0000a030     00b0  
    2066 0000a040     09c1          MOVI    0EDh,A1
         0000a050     00ed  
    2067 0000a060     09e7          movi    SPLATBOX,A7
         0000a070 00000000! 
    2068 0000a090     0d5f          CALLA   GETPRC
         0000a0a0 00000000! 
    2069                    
    2070 0000a0c0           DoDie:
    2071 0000a0c0     05a0          move    @JRHYCNT,A0,W
         0000a0d0 00000000! 
    2072 0000a0f0     1420          dec     A0
    2073 0000a100     0580          move    A0,@JRHYCNT,W
         0000a110 00000000! 
    2074 0000a130     0d5f          calla   CARDCHEK
         0000a140 00000000! 
    2075                    
    2076 0000a160     09c0          movi    1,A0    ;stop collision scan
         0000a170     0001  
    2077 0000a180     0960          RETS
    2078 0000a190           SkWendie:
    2079 0000a190     4d00          move    A8,A0
    2080 0000a1a0     0d5f          calla   DELENEMY
         0000a1b0 00000000! 
    2081 0000a1d0     c0ee          jruc    DoDie
    2082                    *************************************************************************
    2083                    
    2084                    *************************************************************************
    2085 0000a1e0           JRCOLL:
    2086 0000a1e0     0b10          .WORD   B1OID|BULLETID
    2087 0000a1f0 00009c80'         .LONG   JRCOL0
    2088 0000a210     0b12          .WORD   B1OID|EXPLODID
    2089 0000a220 00009c80'         .LONG   JRCOL0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   51

    2090 0000a240     0b14          .WORD   B1OID|ROCKETID
    2091 0000a250 00009c80'         .LONG   JRCOL0
    2092 0000a270     0b20          .WORD   B2OID|BULLETID
    2093 0000a280 00009c80'         .LONG   JRCOL0
    2094 0000a2a0     0b22          .WORD   B2OID|EXPLODID
    2095 0000a2b0 00009c80'         .LONG   JRCOL0
    2096 0000a2d0     0b24          .WORD   B2OID|ROCKETID
    2097 0000a2e0 00009c80'         .LONG   JRCOL0
    2098 0000a300     0be2          .WORD   BEOID|EXPLODID
    2099 0000a310 00009c80'         .LONG   JRCOL0
    2100 0000a330     0c00          .word   C1OID           ;ENEMY CAR #1 "CADILLAC" OBJECT I.D.
    2101 0000a340 00009a30'         .LONG   CARCOL0
    2102 0000a360     0c10          .word   CAR2OID         ;ENEMY CAR #2 "PORSCHE" OBJECT I.D.
    2103 0000a370 00009a30'         .LONG   CARCOL0
    2104 0000a390     0c20          .word   CAR3OID         ;ENEMY CAR #3 "BELL-JET" OBJECT I.D.
    2105 0000a3a0 00009a30'         .LONG   CARCOL0
    2106 0000a3c0     0c30          .word   TRAN1OID        ;PLAYER TRANSPORT #1 "PORSCHE" OBJECT I.D.
    2107 0000a3d0 00009a30'         .LONG   CARCOL0
    2108 0000a3f0     0000          .WORD   0
    2109 0000a400 00000000!         .LONG   DUMRTSG
    2110                    
    2111                    ;WALKING JUMPING DEATH FRAGMENT STANDING-SHOOT KNEELING-SHOOT
    2112                    ;STANDING KNEELING
    2113                    
    2114 0000a420     0001  JROFF   .WORD   1,3,4,9,18,34,50,50
    2115                    *THE JR ENEMY, ANIMATION PTR TABLE, FIRST LONG WORD IS THE OFFSET PTR
    2116                    *
    2117 0000a4a0 0000a420' JRTAB   .LONG   JROFF
    2118 0000a4c0 0000a6e0'         .LONG   WALKSLOW,WALKSLOW,JRJLR,JRDBUL,LOFDFLA,LOFDEXP,LOFDEXP1,LOFDROCK
    2119                    
    2120 0000a5c0 00000000!         .LONG   LOFRAG1,LOFRAG2,LOFRAG2,LOFRAG3
    2121 0000a640 00000000!         .LONG   LOFRAG1,LOFRAG2,LOFRAG3,LOFRAG4,0
    2122                    *************************************************************************
    2123                    
    2124                    
    2125                    **************************************************************************
    2126                    * JR FRAME TABLES       
    2127                    * NORMAL TABLE ENTRY:
    2128                    *       AFRAME  FRAME,SLEEPT,CONTROL_WORD
    2129                    * FIRE FRAME TABLE ENTRY:                   
    2130                    *       FAFRAME FRAME,SLEEPT,XOFFSET,YOFFSET,PROCID,PROCESS_ADDRESS,CW
    2131                    
    2132              0057  WALKDIST        .set    9+13+16+11+6+7+17+8     
    2133          fffee000  SLOWVEL .set    -012000H
    2134          0001a000  MEDVEL  .set    01A000H
    2135          00026000  FASTVEL .set    026000H
    2136                    
    2137 0000a6e0           FRANMIN:
    2138 0000a6e0           MOVETBL:
    2139                    ;WALKSLOW:        ;* sleep is 95% of delta
    2140                    ;       .long   JRW1
    2141                    ;       .word   DELTAXZ|9,9
    2142                    ;       .long   JRW2
    2143                    ;       .word   DELTAXZ|12,13
    2144                    ;       .long   JRW3
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   52

    2145                    ;       .word   DELTAXZ|15,16
    2146                    ;       .long   JRW4
    2147                    ;       .word   DELTAXZ|10,11
    2148                    ;       .long   JRW5
    2149                    ;       .word   DELTAXZ|6,6
    2150                    ;       .long   JRW6
    2151                    ;       .word   DELTAXZ|7,7
    2152                    ;       .long   JRW7
    2153                    ;       .word   DELTAXZ|16,17
    2154                    ;       .long   JRW8
    2155                    ;       .word   DELTAXZ|8,8
    2156                    ;       LONGNULL
    2157                    ;WALKMED:         ;* sleep is 66% of delta
    2158                    ;       .long   JRW1
    2159                    ;       .word   DELTAXZ|6,9
    2160                    ;       .long   JRW2
    2161                    ;       .word   DELTAXZ|9,13
    2162                    ;       .long   JRW3
    2163                    ;       .word   DELTAXZ|11,16
    2164                    ;       .long   JRW4
    2165                    ;       .word   DELTAXZ|7,11
    2166                    ;       .long   JRW5
    2167                    ;       .word   DELTAXZ|4,6
    2168                    ;       .long   JRW6
    2169                    ;       .word   DELTAXZ|5,7
    2170                    ;       .long   JRW7
    2171                    ;       .word   DELTAXZ|11,17
    2172                    ;       .long   JRW8
    2173                    ;       .word   DELTAXZ|5,8
    2174                    ;       LONGNULL
    2175                    ;WALKFAST:        ;* sleep is 45% of delta
    2176                    ;       .long   JRW1
    2177                    ;       .word   DELTAXZ|4,9
    2178                    ;       .long   JRW2
    2179                    ;       .word   DELTAXZ|6,13
    2180                    ;       .long   JRW3
    2181                    ;       .word   DELTAXZ|6,16
    2182                    ;       .long   JRW4
    2183                    ;       .word   DELTAXZ|5,11
    2184                    ;       .long   JRW5
    2185                    ;       .word   DELTAXZ|3,6
    2186                    ;       .long   JRW6
    2187                    ;       .word   DELTAXZ|3,7
    2188                    ;       .long   JRW7
    2189                    ;       .word   DELTAXZ|6,17
    2190                    ;       .long   JRW8
    2191                    ;       .word   DELTAXZ|4,8
    2192                    ;       LONGNULL
    2193                    
    2194 0000a6e0           WALKSLOW:         ;* sleep is 95% of delta
    2195 0000a6e0 00000800"         .long   JRW8
    2196 0000a700     0006          .word   6
    2197 0000a710 00000780"         .long   JRW7
    2198 0000a730     0009          .word   9
    2199 0000a740 00000700"         .long   JRW6
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   53

    2200 0000a760     0006          .word   6
    2201 0000a770 00000680"         .long   JRW5
    2202 0000a790     0005          .word   5
    2203 0000a7a0 00000600"         .long   JRW4
    2204 0000a7c0     0007          .word   7
    2205 0000a7d0 00000580"         .long   JRW3
    2206 0000a7f0     0009          .word   9
    2207 0000a800 00000500"         .long   JRW2
    2208 0000a820     0008          .word   8
    2209 0000a830 00000480"         .long   JRW1
    2210 0000a850     0007          .word   7
    2211 0000a860                   LONGNULL
    2212 0000a880           WALKMED:          ;* sleep is 66% of delta
    2213 0000a880 00000480"         .long   JRW1
    2214 0000a8a0     0005          .word   5
    2215 0000a8b0 00000500"         .long   JRW2
    2216 0000a8d0     0007          .word   7
    2217 0000a8e0 00000580"         .long   JRW3
    2218 0000a900     0008          .word   8
    2219 0000a910 00000600"         .long   JRW4
    2220 0000a930     0006          .word   6
    2221 0000a940 00000680"         .long   JRW5
    2222 0000a960     0004          .word   4
    2223 0000a970 00000700"         .long   JRW6
    2224 0000a990     0004          .word   4
    2225 0000a9a0 00000780"         .long   JRW7
    2226 0000a9c0     0008          .word   8
    2227 0000a9d0 00000800"         .long   JRW8
    2228 0000a9f0     0004          .word   4
    2229 0000aa00                   LONGNULL
    2230 0000aa20           WALKFAST:         ;* sleep is 45% of delta
    2231 0000aa20 00000480"         .long   JRW1
    2232 0000aa40     0004          .word   4
    2233 0000aa50 00000500"         .long   JRW2
    2234 0000aa70     0005          .word   5
    2235 0000aa80 00000580"         .long   JRW3
    2236 0000aaa0     0006          .word   6
    2237 0000aab0 00000600"         .long   JRW4
    2238 0000aad0     0005          .word   5
    2239 0000aae0 00000680"         .long   JRW5
    2240 0000ab00     0003          .word   3
    2241 0000ab10 00000700"         .long   JRW6
    2242 0000ab30     0003          .word   3
    2243 0000ab40 00000780"         .long   JRW7
    2244 0000ab60     0007          .word   7
    2245 0000ab70 00000800"         .long   JRW8
    2246 0000ab90     0004          .word   4
    2247 0000aba0                   LONGNULL
    2248 0000abc0           MOVEEND:
    2249                    
    2250 0000abc0           WALKOUT:          ;* sleep is 95% of delta
    2251 0000abc0 00000480"         .long   JRW1
    2252 0000abe0     0004          .word   4
    2253 0000abf0 00000500"         .long   JRW2
    2254 0000ac10     0006          .word   6
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   54

    2255 0000ac20 00000580"         .long   JRW3
    2256 0000ac40     0007          .word   7
    2257 0000ac50 00000600"         .long   JRW4
    2258 0000ac70     0005          .word   5
    2259 0000ac80 00000680"         .long   JRW5
    2260 0000aca0     0003          .word   3
    2261 0000acb0 00000700"         .long   JRW6
    2262 0000acd0     0003          .word   3
    2263 0000ace0 00000780"         .long   JRW7
    2264 0000ad00     0008          .word   8
    2265 0000ad10 00000800"         .long   JRW8
    2266 0000ad30     0004          .word   4
    2267 0000ad40                   LONGNULL
    2268                    
    2269 0000ad60           JRSTAND:
    2270 0000ad60 00001100"         .long   JRBODY
    2271 0000ad80     0001          .word   1
    2272 0000ad90                   LONGNULL
    2273 0000adb0           JRHEADS:
    2274 0000adb0 00001280"         .long   JRHEAD3
    2275 0000add0     4014          .word   FLIPBITS|20,M_FLIPH
    2276 0000adf0 00001280"         .long   JRHEAD3
    2277 0000ae10     4014          .word   FLIPBITS|20,M_FLIPH
    2278 0000ae30 00001200"         .long   JRHEAD2
    2279 0000ae50     4014          .word   FLIPBITS|20,M_FLIPH
    2280 0000ae70 00001180"         .long   JRHEAD1
    2281 0000ae90     4014          .word   FLIPBITS|20,M_FLIPH
    2282 0000aeb0 00001180"         .long   JRHEAD1
    2283 0000aed0     4014          .word   FLIPBITS|20,0
    2284 0000aef0 00001200"         .long   JRHEAD2
    2285 0000af10     4014          .word   FLIPBITS|20,0
    2286 0000af30 00001280"         .long   JRHEAD3
    2287 0000af50     4014          .word   FLIPBITS|20,0
    2288 0000af70 00001280"         .long   JRHEAD3
    2289 0000af90     4014          .word   FLIPBITS|20,0
    2290 0000afb0                   LONGNULL
    2291                    
    2292 0000afd0           JRHYBUST:
    2293 0000afd0 00000d00"         .long   JRBUST3
    2294 0000aff0     0004          .word   4
    2295 0000b000 00000c80"         .long   JRBUST2
    2296 0000b020     0003          .word   3
    2297 0000b030 00000c00"         .long   JRBUST1
    2298 0000b050     000c          .word   12
    2299 0000b060 00000c80"         .long   JRBUST2
    2300 0000b080     0004          .word   4
    2301 0000b090 00000d00"         .long   JRBUST3
    2302 0000b0b0     0004          .word   4
    2303 0000b0c0           JRCUFF:
    2304 0000b0c0 00000d80"         .long   JRBUST4
    2305 0000b0e0     000a          .word   10
    2306 0000b0f0                   LONGNULL
    2307                    
    2308 0000b110           JRREACH1:
    2309 0000b110 00000880"         .long   JRTH1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   55

    2310 0000b130     0003          .word   3
    2311 0000b140 00000900"         .long   JRTH2
    2312 0000b160     0005          .word   5
    2313 0000b170 00000980"         .long   JRTH3
    2314 0000b190     0006          .word   6
    2315 0000b1a0 00000a00"         .long   JRTH4
    2316 0000b1c0     0006          .word   6
    2317 0000b1d0                   LONGNULL
    2318 0000b1f0           JRREACH2:
    2319 0000b1f0 00000a80"         .long   JRTH5
    2320 0000b210     0007          .word   7
    2321 0000b220 00000b00"         .long   JRTH6
    2322 0000b240     0006          .word   6
    2323 0000b250 00000b80"         .long   JRTH7
    2324 0000b270     0005          .word   5
    2325 0000b280                   LONGNULL
    2326                    
    2327 0000b2a0           JRTH                            ;JR THROW NORMAL
    2328 0000b2a0 00000880"         .long   JRTH1
    2329 0000b2c0     0003          .word   3
    2330 0000b2d0 00000900"         .long   JRTH2
    2331 0000b2f0     0004          .word   4
    2332 0000b300 00000980"         .long   JRTH3
    2333 0000b320     0004          .word   4
    2334 0000b330 00000a00"         .long   JRTH4
    2335 0000b350     8005          .word   SPAWNP|5,20,-3,0EBH
    2336 0000b390 00000000!         .long   NHYPO                   ;change to SHYPO when done
    2337 0000b3b0 00000a80"         .long   JRTH5
    2338 0000b3d0     0005          .word   5
    2339 0000b3e0 00000b00"         .long   JRTH6
    2340 0000b400     0005          .word   5
    2341 0000b410 00000b80"         .long   JRTH7
    2342 0000b430     0003          .word   3
    2343 0000b440                   LONGNULL
    2344                    
    2345 0000b460           JRTHS                   ;JR THROW SPINNER
    2346 0000b460 00000880"         .long   JRTH1
    2347 0000b480     0003          .word   3
    2348 0000b490 00000900"         .long   JRTH2
    2349 0000b4b0     0004          .word   4
    2350 0000b4c0 00000980"         .long   JRTH3
    2351 0000b4e0     0006          .word   6
    2352 0000b4f0 00000a00"         .long   JRTH4
    2353 0000b510     8009          .word   SPAWNP|9,20,-3,0EBH
    2354 0000b550 00000000!         .long   SHYPO
    2355 0000b570 00000a80"         .long   JRTH5
    2356 0000b590     0009          .word   9
    2357 0000b5a0 00000b00"         .long   JRTH6
    2358 0000b5c0     000a          .word   10
    2359 0000b5d0 00000b80"         .long   JRTH7
    2360 0000b5f0     0005          .word   5
    2361 0000b600                   LONGNULL
    2362                    
    2363 0000b620           JRJMPTH:                                ;JR JUMP & THROW
    2364 0000b620 00000e00"         .long   JMPTH1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   56

    2365 0000b640     0002          .word   2
    2366 0000b650 00000f00"         .long   JMPTH3
    2367 0000b670     8003          .word   SPAWNP|3,0,0,0EBH
    2368 0000b6b0 00000000!         .long   NHYPO
    2369 0000b6d0 00000f80"         .long   JMPTH4
    2370 0000b6f0     0004          .word   4
    2371 0000b700 00001000"         .long   JMPTH5
    2372 0000b720     0003          .word   3
    2373 0000b730 00001080"         .long   JMPTH6
    2374 0000b750     0003          .word   3
    2375 0000b760                   LONGNULL
    2376                    
    2377 0000b780           JRJMPTHS:                               ;JR JUMP & THROW
    2378 0000b780 00000e00"         .long   JMPTH1
    2379 0000b7a0     0002          .word   2
    2380 0000b7b0 00000f00"         .long   JMPTH3
    2381 0000b7d0     8003          .word   SPAWNP|3,0,0,0EBH
    2382 0000b810 00000000!         .long   SHYPO
    2383 0000b830 00000f80"         .long   JMPTH4
    2384 0000b850     0004          .word   4
    2385 0000b860 00001000"         .long   JMPTH5
    2386 0000b880     0003          .word   3
    2387 0000b890 00001080"         .long   JMPTH6
    2388 0000b8b0     0003          .word   3
    2389 0000b8c0                   LONGNULL
    2390                    
    2391 0000b8e0           JRDBUL:                  ;JR DIE FROM A BULLET
    2392 0000b8e0 00000000"         .long   JRD1
    2393 0000b900     0006          .word   6
    2394 0000b910 00000080"         .long   JRD2
    2395 0000b930     0006          .word   6
    2396 0000b940 00000100"         .long   JRD3
    2397 0000b960     0003          .word   3
    2398 0000b970 00000180"         .long   JRD4
    2399 0000b990     0003          .word   3
    2400 0000b9a0 00000200"         .long   JRD5
    2401 0000b9c0     0003          .word   3
    2402 0000b9d0 00000280"         .long   JRD6
    2403 0000b9f0     0003          .word   3
    2404 0000ba00 00000300"         .long   JRD7
    2405 0000ba20     0003          .word   3
    2406 0000ba30 00000380"         .long   JRD8
    2407 0000ba50     0004          .word   4
    2408 0000ba60 00000300"         .long   JRD7
    2409 0000ba80     0004          .word   4
    2410 0000ba90 00000380"         .long   JRD8
    2411 0000bab0     0004          .word   4
    2412 0000bac0 00000400"         .long   JRD9
    2413 0000bae0     0004          .word   4
    2414 0000baf0 00000000          .LONG   0
    2415                    
    2416                    ;FRANMAX:
    2417                    
    2418 0000bb10           JRJLR
    2419 0000bb10           JRSD
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   57

    2420 0000bb10           JRSL
    2421 0000bb10           JRNUL
    2422 0000bb10 00000000          .LONG   0
    2423                    
    2424                    
    2425                    ****************************************************************************
    2426 0000bb30           HYPOCRM1:
    2427 0000bb30     05a0          move    @(WORLDTLX+16),A0,W                              
         0000bb40 00000010! 
    2428 0000bb60     0b00          addi    150,A0
         0000bb70     0096  
    2429 0000bb80     05a1          move    @PLYMIN,A1,W                                                                     
         0000bb90 00000000! 
    2430 0000bbb0     0b01          addi    5,A1
         0000bbc0     0005  
    2431 0000bbd0     2601          sll     16,A1
    2432 0000bbe0     ec01          movx    A0,A1
    2433 0000bbf0     09e6          movi    JRTAB,A6
         0000bc00 0000a4a0' 
    2434 0000bc20     09ee          movi    JRINIT,A14      
         0000bc30 00000470' 
    2435 0000bc50     0d5f          calla   ESINITLL                ;CREATE HYPOMAN
         0000bc60 00000000! 
    2436 0000bc80     5600          clr     A0
    2437 0000bc90     b208          move    A0,*A8(OBLIPIMG),L
         0000bca0     0260  
    2438                    
    2439 0000bcb0     5600          clr     A0
    2440 0000bcc0     ac0d          movb    A0,*A13(SNOOZE)
         0000bcd0     01d0  
    2441                    
    2442                            ;so he can have his head
    2443 0000bce0     0d5f          calla   GETOBJ
         0000bcf0 00000000! 
    2444 0000bd10     ca00          jrz     JR_DIE2         
         0000bd20     fda6  
    2445 0000bd30     4c0a          move    A0,A10  ;A10 will Always point to extra Data Space
    2446 0000bd40     0d5f          calla   CLROBJ
         0000bd50 00000000! 
    2447                    
    2448 0000bd70     0d5f          calla   ClrVel
         0000bd80 00000000! 
    2449 0000bda0     0d5f          calla   NOYFLP
         0000bdb0 00000000! 
    2450 0000bdd0     09e0          movi    MEDVEL,A0
         0000bde0 0001a000  
    2451 0000be00     b208          move    A0,*A8(OXVEL),L
         0000be10     0040  
    2452 0000be20     09e9          movi    WALKMED,A9      
         0000be30 0000a880' 
    2453 0000be50     1821          movk    1,A1
    2454 0000be60                   jsrp    FRANIM
    2455 0000bed0     0d3f          callr   DoStop
         0000bee0     f671  
    2456 0000bef0     18c0          movk    6,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   58

    2457 0000bf00                   PUSHP   A0
    2458 0000bf10           rumple:
    2459 0000bf10                   PULLP   A0
    2460 0000bf30     1420          dec     A0
    2461 0000bf40     ca08          jrz     CRM1X
    2462 0000bf50                   PUSHP   A0
    2463 0000bf60                   SLEEP   5
    2464 0000bfa0     0d3f          callr   DoStand
         0000bfb0     f696  
    2465 0000bfc0     c0f4          jruc    rumple
    2466 0000bfd0           CRM1X:
    2467 0000bfd0     0d3f          callr   DelHead
         0000bfe0     f5f1  
    2468 0000bff0     4d40          move    A10,A0
    2469 0000c000     0d5f          calla   FREEOBJE
         0000c010 00000000! 
    2470 0000c030     09e1          MOVI    ENEMIES,A1
         0000c040 00000000! 
    2471 0000c060     4d00          MOVE    A8,A0
    2472 0000c070     0d5f          CALLA   DELSUPP
         0000c080 00000000! 
    2473 0000c0a0     b501          move    *A8(OPAL),A1,W
         0000c0b0     0160  
    2474 0000c0c0     0581          move    A1,@CRIMEPAL,W
         0000c0d0 00000000! 
    2475 0000c0f0     0d5f          CALLA   DELSOBJ
         0000c100 00000000! 
    2476 0000c120                   retp
    2477                    ****************************************************************************
    2478                    
    2479 0000c150           redhypo:        ;PAL #0
    2480 0000c150     00f7          .word   247     ;pal size
    2481 0000c160     0402          .word 0402H,0402H,0422H,0403H,0404H,0423H,0424H,0444H,0445H,0402H
    2482 0000c200     0403          .word 0403H,0422H,0423H,0C03H,0C23H,0443H,0C43H,0424H,0C24H,0444H
    2483 0000c2a0     0445          .word 0445H,0C44H,0C45H,0C23H,0C43H,01443H,0C24H,0C44H,01444H,0C45H
    2484 0000c340     1445          .word 01445H,0463H,0464H,0C63H,0C64H,0465H,0C65H,0C62H,0C63H,0C64H
    2485 0000c3e0     0c65          .word 0C65H,01462H,01463H,01464H,01465H,0C83H,0C83H,0C84H,0C84H,01483H
    2486 0000c480     1484          .word 01484H,0C85H,0C85H,01485H,0CA5H,0CA5H,0CE4H,014A5H,0446H,0426H
    2487 0000c520     0446          .word 0446H,0447H,0466H,0467H,0C26H,0C27H,0C46H,0C47H,0C66H,0C67H
    2488 0000c5c0     0c46          .word 0C46H,0C47H,0C66H,0C67H,01446H,01447H,01466H,01467H,0486H,0487H
    2489 0000c660     0c86          .word 0C86H,0C87H,0C86H,0C87H,01486H,01487H,04A6H,0CA6H,0CA7H,0CA6H
    2490 0000c700     0ca7          .word 0CA7H,014A6H,014A7H,014C7H,0C48H,0C48H,0C68H,046AH,0C69H,0C6AH
    2491 0000c7a0     1448          .word 01448H,01468H,01469H,0146AH,0488H,0C88H,0C88H,0CA8H,01488H,014A8H
    2492 0000c840     14c8          .word 014C8H,0C89H,0C89H,01489H,014A9H,0C8AH,0C8BH,0CAAH,0CCDH,01443H
    2493 0000c8e0     1444          .word 01444H,01462H,01463H,01464H,01445H,01465H,01446H,01447H,01466H,01467H
    2494 0000c980     1484          .word 01484H,01485H,014A5H,014C5H,01486H,01487H,014A6H,014A7H,014C6H,01C44H
    2495 0000ca20     1c63          .word 01C63H,01C65H,01C47H,01C67H,01C67H,01C84H,01C85H,01CA4H,01C86H,01C87H
    2496 0000cac0     1c86          .word 01C86H,01CA7H,01CA7H,01CC7H,02463H,02466H,02C66H,024A4H,02CC4H,024A7H
    2497 0000cb60     2ce6          .word 02CE6H,0340BH,0340BH,0340BH,0340EH,0480CH,0482DH,0580CH,0680DH,01448H
    2498 0000cc00     1468          .word 01468H,01488H,01449H,01469H,01489H,0146AH,0148AH,0146BH,01C48H,01C68H
    2499 0000cca0     1c88          .word 01C88H,02488H,01C69H,01C89H,01C8AH,0248AH,014A8H,01CA9H,014C9H,01CC9H
    2500 0000cd40     2cc9          .word 02CC9H,01CCAH,01CCBH,0250EH,0340FH,03813H,04811H,04430H,05050H,04855H
    2501 0000cde0     5410          .word 05410H,05834H,06831H,068B4H,078D5H,07D36H,0303BH,03C3AH,03CB8H,060BAH
    2502 0000ce80     597f          .word 0597FH,0715FH,07D19H,07D5AH,07D3DH,07D7DH,07D9BH,07DBDH,07DBFH,07DBFH
    2503 0000cf20     04a9          .word 04A9H,050CH,056EH,0591H,05D1H,0635H,015FH,0280AH,03C09H,03C0CH
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:49 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- J.R. HYPOMAN >>>                                 PAGE   59

    2504 0000cfc0     640a          .word 0640AH,0250AH,0CF0H,0580FH,0641FH,01D70H,01E79H,016BAH,02E7FH,03DD2H
    2505 0000d060     4d9a          .word 04D9AH,0563AH,04E5AH,0340DH,0154EH,02D6FH,07EBAH
    2506 0000d0d0           HYPOPALS:
    2507 0000d0d0 00000000!         .long   JRwalk
    2508 0000d0f0 0000c150'         .long   redhypo

 No Errors,  No Warnings
