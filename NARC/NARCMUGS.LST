TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .FILE   "NARCMUGS.ASM"
       3                            .WIDTH  132
       4                            .OPTION B,D,L
       5                            .MNOLIST
       6                    
       7                    
       8                    *       GET THE SYSTEM STUFF
       9                            .INCLUDE        "\video\mprocEQU.ASM"   ;MPROC equates
      10                            .INCLUDE        "\video\DISPEQU.ASM"    ;Display processor equates
      11                            .INCLUDE        "\video\GSP.INC"        ;GSP assembler equates
      12                            .INCLUDE        "\video\SYS.INC"        ;Zunit system equates
      13                            .INCLUDE        "\video\MACROS.HDR"     ;Macros, Yeah!
      14                    *       LOCAL STUFF
      15                            .INCLUDE        "NARCEQU.ASM"           ;NARC Equates
      16                            .INCLUDE        "NARCTEQU.ASM"
      17                            .INCLUDE        "NARCAUDN.ASM"
      18                            .INCLUDE        "imgtbl.glo"
      19                    ***     .INCLUDE        "BGNDTBL.GLO"
      20                    
      21 00000000                   .TEXT
      22                    
      23                            .INCLUDE        "NARCMUGS.TBL"          ;Image Label Equates
      24                    
      25                            .GLOBAL         mainBMOD,dashBMOD
      26                            .GLOBAL         ledsBMOD,handBMOD
      27                            .GLOBAL         k3,voice,SCANPAL1,SCANPAL2
      28                            .GLOBAL         rmanBMOD,bmanBMOD,porsBMOD
      29                            .GLOBAL         FBIBADGE,TITLPAGE,CRDTPAGE
      30                            .GLOBAL         GET_ADJ
      31                            .globl  NARCsupr
      32                            .globl  BIGncar,blegs5a,bltor4d,redarm,newred3,newred2,newred1
      33                    
      34 00000000                   .BSS    FADERAM1,16*257,1       ;room for palette fades
      35 00001010                   .BSS    FADERAM2,16*257         ;room for palette fades
      36 00002020                   .BSS    FADERAM3,16*257         ;room for palette fades
      37 00003030                   .BSS    FADERAM4,16*257         ;room for palette fades
      38 00004040                   .BSS    FADERAM5,16*257         ;room for palette fades
      39 00005050                   .BSS    FADERAM6,16*257         ;room for palette fades
      40                    
      41 00006060                   .BSS    TitlPg,16,1
      42                    
      43 00006070                   .BSS    msgptr,32
      44 00006090                   .BSS    msgpos,32
      45 000060b0                   .BSS    voiceoff,16
      46 000060c0                   .BSS    precrim2,16
      47                    
      48 000060d0                   .BSS    palptrs,32*20
      49 00006350                   .BSS    palslots,16*20
      50 00006490                   .BSS    CRIMEPAL,16,1
      51                            
      52 00000000     f010  narc1S          .WORD   0F010H,01H,0805aH,0 ;narc one
      53 00000040     f000  readmeS         .WORD   0F000H,01H,0805bH,0 ;do you read me
      54 00000080     f010  whereruS        .WORD   0F010H,01H,0805cH,0 ;where are you
      55 000000c0     f010  getonitS        .WORD   0F010H,01H,0805dH,0 ;get on it
      56 00000100     f000  nicejobS        .WORD   0F000H,01H,0805eH,0 ;nice job
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    2

      57 00000140     f010  backupS         .WORD   0F010H,01H,0805fH,0 ;we need backup
      58 00000180     f010  sarmedS         .WORD   0F010H,01H,08060H,0 ;suspect armed
      59 000001c0     f000  armedS          .WORD   0F000H,01H,08061H,0 ;armed
      60 00000200     f010  attnS           .WORD   0F010H,01H,0806aH,0 ;attn all units
      61 00000240     f010  apbS            .WORD   0F010H,01H,0806bH,0 ;APB
      62 00000280     f010  atlargeS        .WORD   0F010H,01H,0806cH,0 ;At Large
      63 000002c0     f010  apprS           .WORD   0F010H,01H,0806dH,0 ;apprehend
      64 00000300     f010  prgrssS         .WORD   0F010H,01H,0806eH,0 ;in progress
      65 00000340     f010  possiblS        .WORD   0F010H,01H,0806fH,0 ;possible
      66 00000380     f010  watchS          .WORD   0F010H,01H,08074H,0 ;watch it
      67 000003c0     f010  allunitsS       .WORD   0F010H,01H,08078H,0 ;all units
      68 00000400     f010  pickupS         .WORD   0F010H,01H,08071H,0 ;pickem up
      69 00000440     f010  coderedS        .WORD   0F010H,01H,08072H,0 ;code red
      70 00000480     f010  sightedS        .WORD   0F010H,01H,08076H,0 ;sighted
      71 000004c0     f010  bustemS         .WORD   0F010H,01H,08073H,0 ;bust em
      72                    
      73 00000500     f011  letsgoS         .WORD   0F011H,01H,08027H,0 ;lets go
      74 00000540     f011  rogerS          .WORD   0F011H,01H,08028H,0 ;roger chief
      75 00000580     f011  onrwayS         .WORD   0F011H,01H,0802bH,0 ;were on our way
      76 000005c0     f011  wegotitS        .WORD   0F011H,01H,0802dH,0 ;we got it
      77                    
      78 00000600     f000  cdclozS         .WORD   0F000H,01H,08019H,0 ;car door close
      79 00000640     f000  revS            .WORD   0F000H,01H,0800eH,0 ;rev
      80 00000680     f000  squealS         .WORD   0F000H,01H,0800fH,0 ;squeal
      81                    
      82 000006c0     f040  UDIE1SND        .WORD   0F040H,040H,080b8H,0 ;13.3Khz You Die
      83 00000700     f040  SLOWLAFF        .WORD   0F040H,040H,080B5H,0 ;13.3Khz Laugh
      84                    
      85 00000740     f000  SND2b           .WORD   0F000H,01H,08062H,0 ;two
      86 00000780     f010  SND3c           .WORD   0F010H,01H,08063H,0 ;three
      87 000007c0     f010  SND4b           .WORD   0F010H,01H,08064H,0 ;four
      88 00000800     f010  SND5a           .WORD   0F010H,01H,08065H,0 ;five
      89 00000840     f010  SND6a           .WORD   0F010H,01H,08066H,0 ;six
      90 00000880     f010  SND7a           .WORD   0F010H,01H,08067H,0 ;seven
      91 000008c0     f010  SND1b           .WORD   0F010H,01H,08068H,0 ;2nd one
      92 00000900     f010  SND1c           .WORD   0F010H,01H,08069H,0 ;3rd one
      93 00000940     f010  SND2c           .WORD   0F010H,01H,08077H,0 ;3rd two
      94 00000980     f010  SND511          .WORD   0F010H,01H,08090H,0
      95 000009c0     f010  SND773          .WORD   0F010H,01H,0809aH,0
      96 00000a00     f010  SND742          .WORD   0F010H,01H,080A0H,0
      97 00000a40     f010  SND613          .WORD   0F010H,01H,08098H,0
      98 00000a80     f010  SND712          .WORD   0F010H,01H,0809dH,0
      99                    
     100 00000ac0     f300  BEEPSND         .WORD   0F300H,01H,080A4H,0
     101 00000b00     f000  KLIKSND         .WORD   0F000H,01H,0800CH,0     ;text click
     102 00000b40     f000  KLIK1SND        .WORD   0F000H,01H,08053H,0     ;text click
     103 00000b80     f000  KLIK2SND        .WORD   0F000H,01H,08054H,0     ;text click
     104 00000bc0     f001  BOOMSND         .WORD   0F001H,01H,08049H,0     ;Bust Boom
     105 00000c00     f300  FOCUSSND        .WORD   0F300H,01H,080A3H,0
     106                    
     107              ffff  MSUX    .set    -1
     108                    
     109 00000c40           SCANMAIN:
     110 00000c40 00000000!         .long   mainBMOD
     111 00000c60     ffff          .WORD   MSUX,-1+SKYTOPOF                ;x,y start pos.
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    3

     112 00000c80 00000000!         .long   dashBMOD
     113 00000ca0     0092          .WORD   MSUX+147,314+SKYTOPOF   ;x,y start pos.
     114 00000cc0 00000000!         .long   ledsBMOD
     115 00000ce0     000c          .WORD   MSUX+13,44+SKYTOPOF             ;x,y start pos.
     116 00000d00 00000000!         .long   handBMOD
     117 00000d20     00c8          .WORD   MSUX+201,311+SKYTOPOF   ;x,y start pos.
     118 00000d40 ffffffff          .LONG   0FFFFFFFFH
     119                    
     120 00000d60           SCANHAND:
     121 00000d60 00000000!         .long   dashBMOD
     122 00000d80     0092          .WORD   MSUX+147,314+SKYTOPOF   ;x,y start pos.
     123 00000da0 00000000!         .long   ledsBMOD
     124 00000dc0     000c          .WORD   MSUX+13,44+SKYTOPOF             ;x,y start pos.
     125 00000de0 00000000!         .long   handBMOD
     126 00000e00     00c8          .WORD   MSUX+201,311+SKYTOPOF   ;x,y start pos.
     127 00000e20 ffffffff          .LONG   0FFFFFFFFH
     128                    
     129                    
     130              004b  DASHLED_Z       .set    75
     131              004c  SCANLED_Z       .set    76
     132              004d  RDRLED_Z        .set    77
     133              004e  ALERT_Z         .set    78
     134              004f  SPKR_Z          .set    79
     135              0050  BUTBOX_Z        .set    80      
     136              0051  HAND_Z          .set    81
     137              0005  NumLed  .set    5       ;# of LEDS
     138              0006  NumSpkr .set    6       ;# speaker parts
     139              0002  NumHand .set    2       ;# num hand parts
     140                    
     141              00c0  SpkrOff .set    (NumLed+1)*020H
     142              0180  BoxOff  .set    (NumSpkr+NumLed+1)*020H
     143              01a0  HandOff .set    (NumSpkr+NumLed+1+1)*020H
     144                    
     145                    ;* must load ptrs to objects in the following order
     146                    ; LEDS, ALERT, SPEAKER PIECES
     147                    
     148                    
     149              0060  SCANDATA        .set    PDATA           ;ptr to object block for extra storage
     150              0074  SCANSTCK        .set    PDATA+20        ;remainder of space is temp storage
     151                    
     152                    
     153 00000e40           TITLSCR1:
     154 00000e40 00000000!         .long   rmanBMOD
     155 00000e60     0038          .WORD   56,120          ;x,y start pos.
     156 00000e80 00000000!         .long   porsBMOD
     157 00000ea0     0046          .WORD   70,200          ;x,y start pos.
     158 00000ec0 ffffffff          .LONG   0FFFFFFFFH
     159 00000ee0           TITLSCR2:
     160 00000ee0 00000000!         .long   rmanBMOD
     161 00000f00     0038          .WORD   56,120          ;x,y start pos.
     162 00000f20 00000000!         .long   porsBMOD
     163 00000f40     0046          .WORD   70,200          ;x,y start pos.
     164 00000f60 00000000!         .long   bmanBMOD
     165 00000f80     0104          .WORD   260,100         ;x,y start pos.
     166 00000fa0 ffffffff          .LONG   0FFFFFFFFH
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    4

     167                    
     168                    ;* STRUCTURE OF ROUNTINES
     169                    ;
     170                    ;       ALL OF THESE ROUTINES ARE DIRTY... THEY CLOBBER BOTH THE
     171                    ; LOCAL PROCESS SPACE AND THE REGS A8-A11.  THEY ALSO DESTROY
     172                    ; THE OBJ LIST WHICH MUST BE REINITIALIZED TO BE USED.
     173                    ;
     174                    ; PRECRIME
     175                    ;       routine must be JSRPed to, it RETPs when time to commit CRIME.
     176                    ;       Actions-
     177                    ;               Clears out Object and Process lists.
     178                    ;               Allocates and Fades in Dash.
     179                    ;               Hand comes out presses 4 buttons as dash leds flash.
     180                    ;               FBI\Warning Text on monitor fades in at 1st button press.
     181                    ;               Entr Code text teletypes out.
     182                    ;               Hand goes away.
     183                    ;               Monitor Screen Clears.
     184                    ;       Time- ~70 tiks
     185                    ; VSCAN
     186                    ;       VSCAN Process must be created when sound call in crime is triggered.
     187                    ;       It requires parm (A10) telling it which Sound call was made.
     188                    ;       Actions-
     189                    ;               Voice scanner leds go active.
     190                    ;               Radar led flashes.
     191                    ;               Speaker Grill Animates???
     192                    ;               Voice Scanner Freezes
     193                    ;               Voice Match Text comes up.
     194                    ;               Process Dies - length depends on Sound Call #.
     195                    ;
     196                    ;POSTCRIME
     197                    ;       routine must be JSRPed to, it RETPs when ready to start game wave.
     198                    ;       Actions -
     199                    ;               Alert Light Flashes - Alarm Sound triggered
     200                    ;               Hand presses buttons, dash leds flash.
     201                    ;               Mugshot Zooms in, monitor leds flash.
     202                    ;               Mission text displayed.
     203                    ;               1/2 second wait for player to read.
     204                    ;       Time- ~90 tiks
     205                    ;
     206                    ;FBIBADGE
     207                    ;       routine must be JSRPed to
     208                    ;       Actions-
     209                    ;               Clears out Object and Process lists.
     210                    ;               Clears Screen.
     211                    ;               Unpacks and plots FBI,BADGE,"winners dont use drugs"
     212                    ;                       with palette blacked out
     213                    ;               Fades up palette.
     214                    ;       Time- ~10 tiks
     215                    ;
     216                    ;TITLPAGE
     217                    ;       routine must be JSRPed to
     218                    ;       Actions-
     219                    ;               Clears out Object and Process lists.
     220                    ;               Clears Screen.
     221                    ;               Unpacks and plots NARC stamp with palette blacked out
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    5

     222                    ;               runs bgnd system to bring out PORSCHE and PLAYERS
     223                    ;               sutffs NARC stamp palette
     224                    ;               unpacks and plots all mug shots
     225                    ;               Fades up palette.
     226                    ;       Time- ~10 tiks
     227                    ;CRDTPAGE
     228                    ;       alternate entry point for TITLPAGE which skips bringing out
     229                    ;       the PORSCHE and PLAYERS and text
     230                    ;       Time- ~10 tiks
     231                    
     232                    
     233                    *************************************************************************
     234                    ****** ENTRY POINT ******
     235 00000fc0           TestPlot:
     236 00000fc0                   jsrp    PRECRIME
     237                    ;       CREATE  BLINKPID,Led3Blnk        ;Flash Alert Light
     238                    
     239                            ;* CRIME OCCURS HERE
     240 00001030                   sleep   30
     241 00001070     0d5f          calla   OINIT
         00001080 00000000! 
     242 000010a0     0d5f          calla   WRAMINIT
         000010b0 00000000! 
     243 000010d0     1820          movk    1,A0
     244 000010e0     0580          MOVE    A0,@DISPLAYON,W ;TURN ON DISPLAY PROC.
         000010f0 00000000! 
     245                    
     246 00001110                   CREATE  VOXPID,VSCAN      ;Start Voice Scanner - Needs crimeno
     247 00001190                   SLEEP   160
     248                    
     249 000011e0                   jsrp    POSTCRIME         ;Needs crimeno
     250 00001250                   SLEEP   30
     251 00001290     0d3f          callr   MSUCLEAR
         000012a0     045a  
     252 000012b0     c000          jruc    $
         000012c0     fffe  
     253                    *************************************************************************
     254                    
     255                    *************************************************************************
     256 000012d0           PRECRIM2:
     257                    ;* alternate entry point to skip hand shit
     258 000012d0     1820          movk    1,A0
     259 000012e0     c001          jruc    DoPreCrm
     260 000012f0           PRECRIME:
     261                    ;* After this routine executes, 4 fgnd palettes are allocated for the
     262                    ;* Dash Panel, and these palettes cannot be freed until the Dash Panel
     263                    ;* is entirely gone from the screen.
     264                    ;* Those palettes need to be freed by a routine UNGETPAL which releases
     265                    ;* a palette regardless of its allocation count.
     266 000012f0     5600          clr     A0
     267 00001300           DoPreCrm:
     268                            ;delete this after debuggery
     269                    ;       movi    0FFFCH,A0
     270                    ;       MOVE    A0,@DPYSTRT,W           ;HIDE THE SCORE AREA
     271                    ;       jsrp    FBIBADGE
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    6

     272                    ;       jsrp    TITLPAGE
     273                    ;       jruc    $
     274 00001300     0580          move    A0,@precrim2,W
         00001310 000060c0- 
     275 00001330     5600          clr     A0
     276 00001340     0580          move    A0,@CRIMEPAL,W          ;if CRIMEPAL=0 in MSUCLEAR, no FREEPAL
         00001350 00006490- 
     277 00001370     0d5f          CALLA   AUTOEOFF
         00001380 00000000! 
     278 000013a0     5600          clr     A0
     279 000013b0     0580          move    A0,@GAMERASE,W
         000013c0 00000000! 
     280 000013e0     0580          MOVE    A0,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         000013f0 00000000! 
     281 00001410     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         00001420 00000000! 
     282                    
     283 00001440     05a0          move    @precrim2,A0,W
         00001450 000060c0- 
     284 00001470     cb08          jrnz    SkFbi
     285 00001480                   jsrp    FbiText
     286 000014f0     c009          jruc    FbiDone
     287 00001500           SkFbi:
     288 00001500     0d5f          calla   CLRPAL
         00001510 00000000! 
     289 00001530     09e0          movi    NARCS,A0
         00001540 00000000! 
     290 00001560     0d5f          calla   GETFPAL
         00001570 00000000! 
     291 00001590           FbiDone:
     292                    
     293 00001590     0d5f          calla   OINIT
         000015a0 00000000! 
     294 000015c0     0d5f          calla   WRAMINIT
         000015d0 00000000! 
     295                    
     296 000015f0                   CREATE  ATTNPID,AttnSnd
     297                    
     298 00001670     5600          clr     A0
     299 00001680     0780          move    A0,@SCRNTL,L
         00001690 00000000! 
     300 000016b0     09e0          movi    [479,511],A0
         000016c0 01df01ff  
     301 000016e0     0780          move    A0,@SCRNLR,L
         000016f0 00000000! 
     302                    
     303 00001710                   jsrp    PrePalloc               ;preload pals in fgnd pal slots
     304 00001780     09e0          movi    SCANMAIN,A0
         00001790 00000c40' 
     305 000017b0     0780          move    A0,@BAKMODS,L
         000017c0 00000000! 
     306 000017e0     0d5f          calla   BGND_UD1
         000017f0 00000000! 
     307 00001810     0d5f          calla   GetObjs
         00001820 0000a440' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    7

     308 00001840     b7aa          move    *A13(SCANDATA),A10,L    ;Pass data object ptr
         00001850     0060  
     309 00001860     1828          movk    1,A8                    ;print password code
     310 00001870     5729          clr     A9
     311 00001880     05a0          move    @precrim2,A0,W
         00001890 000060c0- 
     312 000018b0     cb01          jrnz    NoButs
     313 000018c0     1889          movk    4,A9                    ;# of buttons to push
     314 000018d0           NoButs:
     315 000018d0     576b          clr     A11                     ;Initial Sleep Time
     316 000018e0                   CREATE  HANDPID,Hand1
     317 00001960                   CREATE  FADEPID,Fader
     318 000019e0                   SLEEP   1
     319 00001a20     1820          movk    1,A0
     320 00001a30     0580          MOVE    A0,@DISPLAYON,W ;TURN ON DISPLAY PROC.
         00001a40 00000000! 
     321                    
     322 00001a60     05a0          move    @precrim2,A0,W
         00001a70 000060c0- 
     323 00001a90     cb12          jrnz    ShortSlp
     324 00001aa0     0d3f          callr   PutPass ;Puts out Password MSG
         00001ab0     0d24  
     325 00001ac0                   jsrp    CkHand
     326 00001b30     0d3f          callr   ClrMsg
         00001b40     0ffc  
     327 00001b50                   SLEEP   1
     328 00001b90     0d3f          callr   UnFbiText
         00001ba0     0492  
     329 00001bb0     c004          jruc    PreCX
     330 00001bc0           ShortSlp:
     331 00001bc0                   SLEEP   16
     332 00001c00           PreCX:
     333 00001c00                   RETP
     334                    *************************************************************************
     335                            
     336                    
     337                    *************************************************************************
     338 00001c30           POSTCRIME:
     339 00001c30     5600          CLR     A0
     340 00001c40     0580          MOVE    A0,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         00001c50 00000000! 
     341 00001c70     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         00001c80 00000000! 
     342                    
     343                            ;* Get Manipulable objects loaded onto object list
     344 00001ca0     0d5f          calla   OINIT
         00001cb0 00000000! 
     345 00001cd0     0d5f          calla   WRAMINIT
         00001ce0 00000000! 
     346 00001d00     0d3f          callr   DiviOLst
         00001d10     0614  
     347 00001d20                   PUSHP   A11             ;push ret val from DiviOLst
     348 00001d30     5600          clr     A0
     349 00001d40     0780          move    A0,@SCRNTL,L
         00001d50 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    8

     350 00001d70     09e0          movi    [479,511],A0
         00001d80 01df01ff  
     351 00001da0     0780          move    A0,@SCRNLR,L
         00001db0 00000000! 
     352                    
     353 00001dd0     09e0          movi    SCANHAND,A0
         00001de0 00000d60' 
     354 00001e00     0780          move    A0,@BAKMODS,L
         00001e10 00000000! 
     355 00001e30     0d5f          calla   BGND_UD1
         00001e40 00000000! 
     356 00001e60     0d5f          calla   GetObjs
         00001e70 0000a440' 
     357 00001e90     b7aa          move    *A13(SCANDATA),A10,L    ;Pass data object ptr
         00001ea0     0060  
     358 00001eb0     5708          clr     A8                      ;no printing
     359 00001ec0     1869          movk    3,A9                    ;# of buttons to push
     360 00001ed0     576b          clr     A11                     ;Initial Sleep Time
     361 00001ee0                   CREATE  HANDPID,Hand1
     362 00001f60     19e9          movk    15,A9   ;# times to flash Alert
     363                    ****    CREATE  ALERTPID,AlertBlink
     364 00001f70                   SLEEP   1
     365 00001fb0     1820          movk    1,A0
     366 00001fc0     0580          MOVE    A0,@DISPLAYON,W ;TURN ON DISPLAY PROC.
         00001fd0 00000000! 
     367 00001ff0     098f          mmtm    SP,A0,A1,A7
         00002000     c100  
     368 00002010                   CREATE  ATTNPID,MssnSnd
     369 00002090     09af          mmfm    SP,A0,A1,A7
         000020a0     0083  
     370 000020b0                   CREATE  BLINKPID,Led2Blnk
     371 00002130                   jsrp    CkHand
     372                    
     373 000021a0                   PULLP   A11     ;addr to unpack to
     374 000021c0                   jsrp    DoMug
     375                    ****    jsrp    FADEOUT
     376 00002230     09e3          MOVI    [28+SKYTOPOF,126],A3    
         00002240 006c007e  
     377 00002260     09e4          MOVI    [200,256],A4
         00002270 00c80100  
     378 00002290     0d5f          CALLA   BLNKAREA                ;WIPE-OUT ANY LEFT OVER DATA
         000022a0 00000000! 
     379                    
     380 000022c0     0d3f          callr   KilBlnk
         000022d0     0003  
     381 000022e0                   RETP
     382                    
     383                    ;       move    *A13(SCANDATA),A10,L    ;Pass data object ptr
     384                    ;       CREATE  BLINKPID,LedBlink
     385                    ;       CREATE  ALERTPID,AlertBlink
     386                    ;       CREATE  SPKRPID,SpkrMove
     387                    ;       CREATE  VOXPID,VOX
     388                    *************************************************************************
     389                    
     390                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE    9

     391 00002310           KilBlnk:
     392                    ;* function to kill blink procs
     393 00002310     098f          mmtm    SP,A0,A1
         00002320     c000  
     394 00002330           KillBPID:
     395 00002330                   NOMATCHP        BLINKPID,0FFFFH,SkBKill
     396 000023e0     0d5f          calla   KILL
         000023f0 00000000! 
     397 00002410     c0f1          jruc    KillBPID
     398 00002420           SkBKill:
     399 00002420     09af          mmfm    SP,A0,A1
         00002430     0003  
     400 00002440     0960          rets
     401                    **************************************************************************
     402                    
     403                    **************************************************************************
     404 00002450           CkHand:
     405                    ;* function to wait for hand to go away
     406 00002450                   NOMATCHP        HANDPID,0FFFFH,SkHKill
     407 00002500                   sleep   1
     408 00002540     c0f0          jruc    CkHand
     409 00002550           SkHKill:
     410 00002550                   retp
     411                    **************************************************************************
     412                    
     413                    *************************************************************************
     414 00002580           FBIBADGE:
     415                    ;* put FBI BADGE and "winners dont use drugs" out
     416 00002580     09e0          movi    NARCS,A0
         00002590 00000000! 
     417 000025b0     0d5f          calla   GETFPAL
         000025c0 00000000! 
     418 000025e0     0d5f          calla   CLR_SCRN
         000025f0 00000000! 
     419                    
     420 00002610     0d5f          CALLA   AUTOEOFF
         00002620 00000000! 
     421 00002640     5600          clr     A0
     422 00002650     0580          move    A0,@GAMERASE,W
         00002660 00000000! 
     423 00002680     0580          MOVE    A0,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         00002690 00000000! 
     424 000026b0     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         000026c0 00000000! 
     425                    
     426 000026e0     0d5f          calla   MYOINIT
         000026f0 00000000! 
     427 00002710     0d3f          callr   DiviOLst
         00002720     0573  
     428 00002730     0d5f          calla   WRAMINIT
         00002740 00000000! 
     429                    
     430 00002760     09e0          movi    FADERAM1,A0
         00002770 00000000- 
     431 00002790     09c1          movi    128,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   10

         000027a0     0080  
     432 000027b0     5642          clr     A2
     433 000027c0           ClrBLp:
     434 000027c0     9240          move    A2,*A0+,L
     435 000027d0     3c41          dsjs    A1,ClrBLp
     436                    
     437                            ;* Start Palette off BLACKED OUT
     438 000027e0     09e0          movi    FADERAM1,A0
         000027f0 00000000- 
     439 00002810     5708          clr     A8                      ;badge4 will get pal 0
     440 00002820     4d01          move    A8,A1           
     441 00002830     2701          sll     24,A1
     442 00002840     2e01          srl     16,A1
     443 00002850     09c2          movi    256,A2
         00002860     0100  
     444 00002870     0d5f          calla   PALSET
         00002880 00000000! 
     445                            
     446              0032  BADGE_X .set    50
     447              003c  BADGE_Y .set    60
     448                    
     449 000028a0     4d01          move    A8,A1
     450 000028b0     09e0          movi    badge,A0
         000028c0 00000500" 
     451 000028e0     09e3          movi    [0+BADGE_Y,191+BADGE_X],A3
         000028f0 003c00f1  
     452 00002910     0d3f          callr   UnpckPl2
         00002920     03d6  
     453                    
     454 00002930     4d01          move    A8,A1
     455 00002940     09e0          movi    fbity1,A0
         00002950 00000580" 
     456 00002970     09e3          movi    [223+BADGE_Y,0+BADGE_X],A3
         00002980 011b0032  
     457 000029a0     0d3f          callr   UnpckPl2
         000029b0     03cd  
     458                    
     459 000029c0     4d01          move    A8,A1
     460 000029d0     09e0          movi    fbity2,A0
         000029e0 00000600" 
     461 00002a00     09e3          movi    [223+BADGE_Y,248+BADGE_X],A3
         00002a10 011b012a  
     462 00002a30     0d3f          callr   UnpckPl2
         00002a40     03c4  
     463                    
     464 00002a50     4d01          move    A8,A1
     465 00002a60     09e0          movi    fbiseal,A0
         00002a70 00000680" 
     466 00002a90     09e3          movi    [13+BADGE_Y,61+BADGE_X],A3
         00002aa0 0049006f  
     467 00002ac0     0d3f          callr   UnpckPl2
         00002ad0     03bb  
     468                    
     469 00002ae0     0d5f          calla   CLRPAL
         00002af0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   11

     470 00002b10     09e0          movi    badge4,A0
         00002b20 00000000! 
     471 00002b40     0d5f          calla   GETFPAL
         00002b50 00000000! 
     472 00002b70     4c08          move    A0,A8
     473                    
     474                    ;       clr     A9              ;fade %
     475                    ;BdgeFade:
     476                    ;       addk    16,A9
     477                    ;       move    A9,A2
     478                    ;       movi    FADERAM1,A0
     479                    ;       movi    badge4,A1
     480                    ;       callr   FadePal
     481                    ;
     482                    ;       movi    FADERAM1,A0
     483                    ;       move    A8,A1
     484                    ;       sll     8,A1
     485                    ;       move    *A0+,A2,W
     486                    ;*A0= PALSRC = 32 BIT SOURCE ADDRESS OF PALETTE COLOR DATA      
     487                    ;*A1= PALDEST = BIT 8-15 DESTINATION PALETTE | BIT 0-7 START COLOR
     488                    ;*A2= PLDCNT = 16 BIT COLOR COUNT
     489                    ;       calla   PALSET
     490                    ;       SLEEP   1
     491                    ;
     492                    ;       cmpi    128,A9
     493                    ;       jrlt    BdgeFade
     494                    ;
     495 00002b80     4d00          move    A8,A0
     496 00002b90     0d5f          calla   UNGETPAL
         00002ba0 00000000! 
     497                    
     498 00002bc0                   SLEEP   60*4            ;4 seconds
     499 00002c10                   RETP
     500                    *************************************************************************
     501                    
     502                    
     503                    *************************************************************************
     504 00002c40           CRDTPAGE:
     505 00002c40     5600          clr     A0
     506 00002c50     c001          jruc    DOPAGE
     507 00002c60           TITLPAGE:
     508 00002c60     1820          movk    1,A0
     509 00002c70           DOPAGE:
     510 00002c70     0580          move    A0,@TitlPg,W
         00002c80 00006060- 
     511                    ;* put attract mode title page on screen
     512 00002ca0     0d5f          CALLA   AUTOEOFF
         00002cb0 00000000! 
     513 00002cd0     5600          clr     A0
     514 00002ce0     0580          move    A0,@GAMERASE,W
         00002cf0 00000000! 
     515 00002d10     0580          MOVE    A0,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         00002d20 00000000! 
     516 00002d40     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         00002d50 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   12

     517                    
     518 00002d70     0d5f          calla   MYOINIT
         00002d80 00000000! 
     519 00002da0     0d3f          callr   DiviOLst        ;rets A11 ptr to unpack space
         00002db0     050a  
     520 00002dc0                   PUSHP   A11
     521 00002dd0     0d5f          calla   WRAMINIT
         00002de0 00000000! 
     522                    
     523 00002e00     09e0          movi    NARCS,A0
         00002e10 00000000! 
     524 00002e30     0d5f          calla   GETFPAL
         00002e40 00000000! 
     525 00002e60                   SLEEP   1
     526 00002ea0     0d5f          calla   CLR_SCRN
         00002eb0 00000000! 
     527                    
     528                            ;* PREALLOCATE ALL PALETTES
     529 00002ed0     09eb          movi    TITLPALS,A11
         00002ee0 00005040' 
     530 00002f00     09ea          movi    palslots,A10
         00002f10 00006350- 
     531 00002f30     09e9          movi    palptrs,A9
         00002f40 000060d0- 
     532 00002f60     1867          movk    3,A7
     533 00002f70           PallocLp:
     534 00002f70     9760          move    *A11+,A0,L
     535 00002f80     9209          move    A0,*A9+,L
     536 00002f90     ca0b          jrz     PallocX
     537 00002fa0     0d5f          calla   GETBPAL
         00002fb0 00000000! 
     538 00002fd0     900a          move    A0,*A10+,W
     539 00002fe0     3d07          dsjs    A7,PallocLp
     540 00002ff0                   SLEEP   1
     541 00003030     1867          movk    3,A7
     542 00003040     c0f2          jruc    PallocLp        
     543 00003050           PallocX:
     544 00003050                   SLEEP   1
     545                    
     546                            ;* Black out all palettes
     547 00003090     09e0          movi    FADERAM1,A0
         000030a0 00000000- 
     548 000030c0     09c1          movi    128,A1
         000030d0     0080  
     549 000030e0     5642          clr     A2
     550 000030f0           ClrB2Lp:
     551 000030f0     9240          move    A2,*A0+,L
     552 00003100     3c41          dsjs    A1,ClrB2Lp
     553                    
     554 00003110     09ea          movi    palslots,A10
         00003120 00006350- 
     555 00003140     09e9          movi    palptrs,A9
         00003150 000060d0- 
     556 00003170     1867          movk    3,A7
     557 00003180           BlackLp:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   13

     558 00003180     9720          move    *A9+,A0,L       ;are we at end of list? 
     559 00003190     ca12          jrz     BlackX
     560 000031a0     09e0          movi    FADERAM1,A0
         000031b0 00000000- 
     561 000031d0     9541          move    *A10+,A1,W      ;load palslot
     562 000031e0     2701          sll     24,A1
     563 000031f0     2e01          srl     16,A1
     564 00003200     09c2          movi    256,A2
         00003210     0100  
     565 00003220     0d5f          calla   PALSET
         00003230 00000000! 
     566 00003250     3dc7          dsjs    A7,BlackLp
     567 00003260                   SLEEP   1
     568 000032a0     1867          movk    3,A7
     569 000032b0     c0ec          jruc    BlackLp 
     570 000032c0           BlackX:
     571 000032c0                   SLEEP   1
     572                    
     573                    ;* unpack and print all run length coded stuff.
     574 00003300                   PULLP   A11
     575 00003320     09e0          movi    NARCsupr,A0
         00003330 00000000! 
     576 00003350     0d5f          calla   GETBPAL
         00003360 00000000! 
     577 00003380     4c01          move    A0,A1
     578 00003390     09e0          movi    NARCALF1a,A0
         000033a0 00000700" 
     579 000033c0     09e3          movi    [2,51],A3
         000033d0 00020033  
     580 000033f0     0d3f          callr   UnpckPl2
         00003400     0328  
     581                    
     582 00003410                   PUSHP   A1
     583 00003420                   SLEEP   1
     584 00003460                   PULLP   A1
     585                    
     586                    ;       A0 ptr to image frame
     587                    ;       A1 color map containing palette for image
     588                    ;       A3 packed Y:X screen coors to plot the image
     589                    ;       A11 address to unpack to
     590 00003480     09e0          movi    NARCALF2,A0
         00003490 00000780" 
     591 000034b0     09e3          movi    [2,256],A3
         000034c0 00020100  
     592 000034e0     0d3f          callr   UnpckPl2
         000034f0     0319  
     593                    
     594 00003500                   SLEEP   1
     595                            
     596 00003540     09e0          movi    mbigmug,A0
         00003550 00000200" 
     597 00003570     09c3          movi    [0,0],A3
         00003580     0000  
     598 00003590     09ea          movi    [36,108],A10
         000035a0 0024006c  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   14

     599 000035c0     0d3f          callr   BordrMug
         000035d0     01c4  
     600                    
     601 000035e0     09e0          movi    loafmug,A0
         000035f0 00000280" 
     602 00003610     09e3          movi    [134,0],A3
         00003620 00860000  
     603 00003640     09ea          movi    [35,133],A10
         00003650 00230085  
     604 00003670     0d3f          callr   BordrMug
         00003680     01b9  
     605                    
     606 00003690                   SLEEP   1
     607                    
     608 000036d0     09e0          movi    rambomug,A0
         000036e0 00000400" 
     609 00003700     09e3          movi    [268,0],A3
         00003710 010c0000  
     610 00003730     09ea          movi    [50,95],A10
         00003740 0032005f  
     611 00003760     0d3f          callr   BordrMug
         00003770     01aa  
     612                    
     613 00003780     09e0          movi    clownmug,A0
         00003790 00000480" 
     614 000037b0     09c3          movi    [0,472],A3
         000037c0     01d8  
     615 000037d0     09ea          movi    [65,155],A10
         000037e0 0041009b  
     616 00003800     0d3f          callr   BordrMug
         00003810     01a0  
     617                    
     618 00003820                   SLEEP   1
     619                    
     620 00003860     09e0          movi    dumpmug,A0
         00003870 00000380" 
     621 00003890     09e3          movi    [134,472],A3
         000038a0 008601d8  
     622 000038c0     09ea          movi    [61,105],A10
         000038d0 003d0069  
     623 000038f0     0d3f          callr   BordrMug
         00003900     0191  
     624                    
     625 00003910     09e0          movi    hypomug,A0
         00003920 00000300" 
     626 00003940     09e3          movi    [268,472],A3
         00003950 010c01d8  
     627 00003970     09ea          movi    [45,100],A10
         00003980 002d0064  
     628 000039a0     0d3f          callr   BordrMug
         000039b0     0186  
     629                    
     630 000039c0                   SLEEP   1
     631                    
     632                            ;Put out the PORSCHE and players
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   15

     633 00003a00     05a0          move    @TitlPg,A0,W
         00003a10 00006060- 
     634 00003a30     ca00          jrz     FadeUp
         00003a40     00c0  
     635                    
     636 00003a50     1820          movk    1,A0
     637 00003a60     0580          MOVE    A0,@DISPLAYON,W ;TURN ON DISPLAY PROC.
         00003a70 00000000! 
     638 00003a90     5600          clr     A0
     639 00003aa0     0780          move    A0,@SCRNTL,L
         00003ab0 00000000! 
     640 00003ad0     09e0          movi    [479,511],A0
         00003ae0 01df01ff  
     641 00003b00     0780          move    A0,@SCRNLR,L
         00003b10 00000000! 
     642                    
     643 00003b30     09e0          movi    TITLSCR2,A0
         00003b40 00000ee0' 
     644 00003b60     0780          move    A0,@BAKMODS,L
         00003b70 00000000! 
     645 00003b90     0d5f          calla   BGND_UD1
         00003ba0 00000000! 
     646 00003bc0                   SLEEP   2
     647                    
     648 00003c00     5600          CLR     A0
     649 00003c10     0580          MOVE    A0,@GAMERASE,W          ;TURN OFF GAME AUTO ERASE
         00003c20 00000000! 
     650 00003c40     0d5f          CALLA   AUTOEOFF
         00003c50 00000000! 
     651 00003c70     09c0          MOVI    BUPDPID,A0
         00003c80     2bdd  
     652 00003c90     5621          CLR     A1
     653 00003ca0     03e1          NOT     A1
     654 00003cb0     0d5f          CALLA   KILALL                  ;KILL THE BACKGROUND UPDATE
         00003cc0 00000000! 
     655 00003ce0     0d5f          CALLA   SYNCHALF
         00003cf0 00000000! 
     656 00003d10     0d5f          CALLA   SYNCFULL
         00003d20 00000000! 
     657 00003d40     5600          CLR     A0
     658 00003d50     0580          MOVE    A0,@DISPLAYON
         00003d60 00000000! 
     659 00003d80     0d5f          CALLA   DMAQWAIT
         00003d90 00000000! 
     660 00003db0     0d5f          CALLA   MYOINIT                 ;INITIALIZE OBJECT LIST
         00003dc0 00000000! 
     661 00003de0     1820          MOVK    1,A0
     662 00003df0     0580          MOVE    A0,@DISPLAYON
         00003e00 00000000! 
     663                    
     664                            ;DO NOGUTS
     665 00003e20     09e8          movi    noguts,A8,L
         00003e30 00004bd8' 
     666 00003e50     09e9          movi    [366,73],A9,L
         00003e60 016e0049  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   16

     667 00003e80           NoGutsLp:
     668 00003e80     8700          move    *A8,A0,L
     669 00003e90     ca1c          jrz     NoGutsX
     670 00003ea0                   ADJUST  ADJMUSIC
     671 00003ef0     cb06          JRNZ    NONGSND
     672 00003f00                   SOUND1  KLIKSND
     673 00003f60           NONGSND
     674 00003f60     1860          MOVK    3,A0            ;teletype w/ sleep
     675 00003f70     09e6          MOVI    0FEFEH,A6
         00003f80 0000fefe  
     676 00003fa0     09eb          MOVI    RD15FONT,A11
         00003fb0 00000000! 
     677 00003fd0     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
     678 00003fe0                   JSRP    STRLNRM
     679 00004050     c0e2          jruc    NoGutsLp
     680 00004060           NoGutsX:
     681                    
     682 00004060                   SLEEP   60
     683                    
     684                            ;DO UNTIL NOW
     685 000040b0     09e8          movi    until,A8,L
         000040c0 00004da0' 
     686 000040e0     09e9          movi    [366,315],A9,L
         000040f0 016e013b  
     687 00004110           UntilLp:
     688 00004110     8700          move    *A8,A0,L
     689 00004120     ca1c          jrz     UntilX
     690 00004130                   ADJUST  ADJMUSIC
     691 00004180     cb06          JRNZ    NOUNSND
     692 00004190                   SOUND1  KLIKSND
     693 000041f0           NOUNSND
     694 000041f0     1860          MOVK    3,A0            ;teletype w/ sleep
     695 00004200     09e6          MOVI    0FEFEH,A6
         00004210 0000fefe  
     696 00004230     09eb          MOVI    RD15FONT,A11
         00004240 00000000! 
     697 00004260     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
     698 00004270                   JSRP    STRLNRM
     699 000042e0     c0e2          jruc    UntilLp
     700 000042f0           UntilX:
     701 000042f0                   ADJUST  ADJMUSIC
     702 00004340     cb06          JRNZ    NOBMSND
     703 00004350                   SOUND1  BOOMSND
     704 000043b0           NOBMSND
     705                            ;DO COPYRIGHT
     706 000043b0     09e8          movi    cpyrgt,A8,L
         000043c0 00004e80' 
     707 000043e0     09e9          movi    [389,255],A9,L
         000043f0 018500ff  
     708 00004410     5600          clr     A0              ;No Sleep
     709 00004420     09e6          MOVI    0C0C0H,A6       ;MEDIUM GREY
         00004430 0000c0c0  
     710 00004450     09eb          MOVI    RD7FONT,A11
         00004460 00000000! 
     711 00004480     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   17

     712 00004490                   JSRP    STRCNRM
     713                    
     714                            ;DO TRADEMARK
     715 00004500     09e8          movi    tm,A8,L
         00004510 00004bc0' 
     716 00004530     09e9          movi    [137,423],A9,L
         00004540 008901a7  
     717 00004560     5600          clr     A0              ;No Sleep
     718 00004570     09e6          MOVI    0FEFEH,A6
         00004580 0000fefe  
     719 000045a0     09eb          MOVI    RD7FONT,A11
         000045b0 00000000! 
     720 000045d0     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
     721 000045e0                   JSRP    STRLNRM
     722                    
     723 00004650           FadeUp:
     724                            ;BRING ALL PALETTES OUT from Black
     725 00004650     09ea          movi    palslots,A10
         00004660 00006350- 
     726 00004680     09e9          movi    palptrs,A9
         00004690 000060d0- 
     727 000046b0     1887          movk    4,A7
     728 000046c0           ShowLp:
     729 000046c0     9720          move    *A9+,A0,L       ;are we at end of list? 
     730 000046d0     ca0e          jrz     ShowX
     731 000046e0     9541          move    *A10+,A1,W      ;load palslot
     732 000046f0     2701          sll     24,A1
     733 00004700     2e01          srl     16,A1
     734 00004710     9402          move    *A0+,A2,W
     735 00004720     0d5f          calla   PALSET
         00004730 00000000! 
     736 00004750     3d47          dsjs    A7,ShowLp
     737 00004760                   SLEEP   1
     738 000047a0     1887          movk    4,A7
     739 000047b0     c0f0          jruc    ShowLp  
     740 000047c0           ShowX:
     741 000047c0     05a0          move    @TitlPg,A0,W
         000047d0 00006060- 
     742 000047f0     ca35          jrz     PageX
     743                    
     744                            ;REPLOT TEXT TO COLOR CYCLE
     745 00004800     09e8          movi    noguts,A8,L
         00004810 00004bd8' 
     746 00004830     09e9          movi    [366,73],A9,L
         00004840 016e0049  
     747 00004860           NoGuts2:
     748 00004860     8700          move    *A8,A0,L
     749 00004870     ca10          jrz     NoGuts2X
     750 00004880     5600          clr     A0
     751 00004890     09e6          MOVI    0F5F5H,A6
         000048a0 0000f5f5  
     752 000048c0     09eb          MOVI    RD15FONT,A11
         000048d0 00000000! 
     753 000048f0     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
     754 00004900                   JSRP    STRLNRM
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   18

     755 00004970     c0ee          jruc    NoGuts2
     756 00004980           NoGuts2X:
     757 00004980     09e8          movi    until,A8,L
         00004990 00004da0' 
     758 000049b0     09e9          movi    [366,315],A9,L
         000049c0 016e013b  
     759 000049e0           Until2:
     760 000049e0     8700          move    *A8,A0,L
     761 000049f0     ca10          jrz     Until2X
     762 00004a00     5600          clr     A0
     763 00004a10     09e6          MOVI    0F5F5H,A6
         00004a20 0000f5f5  
     764 00004a40     09eb          MOVI    RD15FONT,A11
         00004a50 00000000! 
     765 00004a70     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
     766 00004a80                   JSRP    STRLNRM
     767 00004af0     c0ee          jruc    Until2
     768 00004b00           Until2X:
     769                    
     770 00004b00                   SLEEP   600     ;10 seconds
     771 00004b50           PageX:
     772 00004b50                   SLEEP   3
     773 00004b90                   RETP
     774                    
     775 00004bc0           tm:
     776 00004bc0       54          .STRING "TM"
         00004bc8       4d  
     777 00004bd0       00          .BYTE   0
     778 00004bd8           noguts:
     779 00004bd8       4e          .STRING "N"
     780 00004be0       00          .BYTE   0
     781 00004be8       4f          .STRING "O"
     782 00004bf0       00          .BYTE   0
     783 00004bf8       20          .STRING " "
     784 00004c00       00          .BYTE   0
     785 00004c08       4f          .STRING "O"
     786 00004c10       00          .BYTE   0
     787 00004c18       4e          .STRING "N"
     788 00004c20       00          .BYTE   0
     789 00004c28       45          .STRING "E"
     790 00004c30       00          .BYTE   0
     791 00004c38       20          .STRING " "
     792 00004c40       00          .BYTE   0
     793 00004c48       48          .STRING "H"
     794 00004c50       00          .BYTE   0
     795 00004c58       41          .STRING "A"
     796 00004c60       00          .BYTE   0
     797 00004c68       44          .STRING "D"
     798 00004c70       00          .BYTE   0
     799 00004c78       20          .STRING " "
     800 00004c80       00          .BYTE   0
     801 00004c88       54          .STRING "T"
     802 00004c90       00          .BYTE   0
     803 00004c98       48          .STRING "H"
     804 00004ca0       00          .BYTE   0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   19

     805 00004ca8       45          .STRING "E"
     806 00004cb0       00          .BYTE   0
     807 00004cb8       20          .STRING " "
     808 00004cc0       00          .BYTE   0
     809 00004cc8       47          .STRING "G"
     810 00004cd0       00          .BYTE   0
     811 00004cd8       55          .STRING "U"
     812 00004ce0       00          .BYTE   0
     813 00004ce8       54          .STRING "T"
     814 00004cf0       00          .BYTE   0
     815 00004cf8       53          .STRING "S"
     816 00004d00       00          .BYTE   0
     817 00004d08       20          .STRING " "
     818 00004d10       00          .BYTE   0
     819 00004d18       20          .STRING " "
     820 00004d20       00          .BYTE   0
     821 00004d28       2e          .STRING "."
     822 00004d30       00          .BYTE   0
     823 00004d38       20          .STRING " "
     824 00004d40       00          .BYTE   0
     825 00004d48       2e          .STRING "."
     826 00004d50       00          .BYTE   0
     827 00004d58       20          .STRING " "
     828 00004d60       00          .BYTE   0
     829 00004d68       2e          .STRING "."
     830 00004d70       00          .BYTE   0
     831 00004d80 00000000          .long   0
     832 00004da0           until:
     833 00004da0       20          .STRING " "
     834 00004da8       00          .BYTE   0
     835 00004db0       20          .STRING " "
     836 00004db8       00          .BYTE   0
     837 00004dc0       55          .STRING "U"
     838 00004dc8       00          .BYTE   0
     839 00004dd0       4e          .STRING "N"
     840 00004dd8       00          .BYTE   0
     841 00004de0       54          .STRING "T"
     842 00004de8       00          .BYTE   0
     843 00004df0       49          .STRING "I"
     844 00004df8       00          .BYTE   0
     845 00004e00       4c          .STRING "L"
     846 00004e08       00          .BYTE   0
     847 00004e10       20          .STRING " "
     848 00004e18       00          .BYTE   0
     849 00004e20       4e          .STRING "N"
     850 00004e28       00          .BYTE   0
     851 00004e30       4f          .STRING "O"
     852 00004e38       00          .BYTE   0
     853 00004e40       57          .STRING "W"
     854 00004e48       00          .BYTE   0
     855 00004e50       21          .STRING "!"
     856 00004e58       00          .BYTE   0
     857 00004e60 00000000          .long   0
     858 00004e80           cpyrgt:
     859 00004e80       22          .BYTE   022H    ;quote
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   20

     860 00004e88       4e          .STRING "NARC"
         00004e90       41  
         00004e98       52  
         00004ea0       43  
     861 00004ea8       22          .BYTE   022H    ;quote
     862 00004eb0       20          .STRING " COPYRIGHT 1988  WILLIAMS ELECTRONICS GAMES, INC."
         00004eb8       43  
         00004ec0       4f  
         00004ec8       50  
         00004ed0       59  
         00004ed8       52  
         00004ee0       49  
         00004ee8       47  
         00004ef0       48  
         00004ef8       54  
         00004f00       20  
         00004f08       31  
         00004f10       39  
         00004f18       38  
         00004f20       38  
         00004f28       20  
         00004f30       20  
         00004f38       57  
         00004f40       49  
         00004f48       4c  
         00004f50       4c  
         00004f58       49  
         00004f60       41  
         00004f68       4d  
         00004f70       53  
         00004f78       20  
         00004f80       45  
         00004f88       4c  
         00004f90       45  
         00004f98       43  
         00004fa0       54  
         00004fa8       52  
         00004fb0       4f  
         00004fb8       4e  
         00004fc0       49  
         00004fc8       43  
         00004fd0       53  
         00004fd8       20  
         00004fe0       47  
         00004fe8       41  
         00004ff0       4d  
         00004ff8       45  
         00005000       53  
         00005008       2c  
         00005010       20  
         00005018       49  
         00005020       4e  
         00005028       43  
         00005030       2e  
     863 00005038       00          .BYTE   0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   21

     864 00005040                   .EVEN
     865                    
     866 00005040           TITLPALS:
     867 00005040 00000000!         .long   NARCsupr
     868 00005060 00000000!         .long   BIGncar,blegs5a,bltor4d,redarm,newred3,newred2,newred1
     869 00005140 00000000!         .long   mbig4,clown4,loaf4,hypo4,rambo4,dump4
     870 00005200 00000000          .long   0
     871                    *************************************************************************
     872                    
     873                    *************************************************************************
     874 00005220           BordrMug:
     875                    ;       A0 ptr to image frame
     876                    ;       A10 starting Y:X in image
     877                    ;       A11 address to unpack to
     878 00005220     098f          mmtm    SP,A1,A2,A6,A11
         00005230     6210  
     879                    
     880 00005240     0d5f          calla   LdImgPal
         00005250 0000c0f0' 
     881                    
     882 00005270     4d62          move    A11,A2          ;address to unpack to..
     883 00005280     0d5f          calla   UnpackRLC
         00005290 0000bcf0' 
     884                    
     885 000052b0     1842          movk    2,A2            ;# bits per pixel
     886 000052c0     4d66          move    A11,A6          ;source address to plot from
     887 000052d0     09eb          movi    [134,40],A11
         000052e0 00860028  
     888 00005300     0d5f          calla   Plt5Pack
         00005310 0000d710' 
     889 00005330     09af          mmfm    SP,A1,A2,A6,A11
         00005340     0846  
     890 00005350     0960          rets
     891                    *************************************************************************
     892                    
     893                    *************************************************************************
     894 00005360           AttnSnd:
     895                    ;* Process to make attention sounds
     896 00005360     05a1          move    @CRIMENO,A1,W
         00005370 00000000! 
     897 00005390     24a1          sll     5,A1
     898 000053a0     0b21          addi    ATTNSNDS,A1
         000053b0 000119d0' 
     899 000053d0     8628          move    *A1,A8,L
     900                    
     901 000053e0           AttnLp:
     902 000053e0     9700          move    *A8+,A0,L       ;get sleep time
     903 000053f0     ca03          jrz     SkAtnSlp
     904 00005400     0d5f          calla   PRCSLP
         00005410 00000000! 
     905 00005430           SkAtnSlp:
     906 00005430     9700          move    *A8+,A0,L       ;get sound ptr
     907 00005440     ca04          jrz     AttnX
     908 00005450     0d5f          calla   ONESND
         00005460 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   22

     909 00005480     c0f5          jruc    AttnLp
     910 00005490           AttnX:
     911 00005490                   DIE
     912                    *************************************************************************
     913                    
     914                    *************************************************************************
     915 000054c0           MssnSnd:
     916                    ;* Process to make mission sounds
     917 000054c0     05a1          move    @CRIMENO,A1,W
         000054d0 00000000! 
     918 000054f0     24a1          sll     5,A1
     919 00005500     0b21          addi    MSSNSNDS,A1
         00005510 00011890' 
     920 00005530     8628          move    *A1,A8,L
     921                    
     922 00005540           MssnLp:
     923 00005540     9700          move    *A8+,A0,L       ;get sleep time
     924 00005550     ca03          jrz     SkMsnSlp
     925 00005560     0d5f          calla   PRCSLP
         00005570 00000000! 
     926 00005590           SkMsnSlp:
     927 00005590     9700          move    *A8+,A0,L       ;get sound ptr
     928 000055a0     ca04          jrz     MssnX
     929 000055b0     0d5f          calla   ONESND
         000055c0 00000000! 
     930 000055e0     c0f5          jruc    MssnLp
     931                    
     932 000055f0           MssnX:
     933 000055f0                   DIE
     934                    *************************************************************************
     935                    
     936                    
     937                    *************************************************************************
     938 00005620           PrePalloc:
     939                    ;* Allocate all of the scanner palettes in fgnd pal slots so bgnd system
     940                    ;* will not use any bgnd palette slots
     941 00005620     09e0          movi    SCANPAL2,A0
         00005630 00000000! 
     942 00005650     0d5f          calla   GETFPAL
         00005660 00000000! 
     943 00005680     09e0          movi    SCANPAL1,A0
         00005690 00000000! 
     944 000056b0     0d5f          calla   GETFPAL
         000056c0 00000000! 
     945 000056e0                   SLEEP   1
     946 00005720     09e0          movi    voice,A0
         00005730 00000000! 
     947 00005750     0d5f          calla   GETFPAL
         00005760 00000000! 
     948 00005780     09e0          movi    k3,A0
         00005790 00000000! 
     949 000057b0     0d5f          calla   GETFPAL
         000057c0 00000000! 
     950 000057e0                   SLEEP   1
     951 00005820                   retp
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   23

     952                    *************************************************************************
     953                    
     954                    *************************************************************************
     955 00005850           MSUCLEAR:
     956                    ;* FREE UP PALETTES used by MSU
     957 00005850     05a0          move    @CRIMEPAL,A0,W  ;if CRIMEPAL=0 no FREEPAL
         00005860 00006490- 
     958 00005880     ca03          jrz     SkFreeP
     959 00005890     0d5f          calla   UNGETPAL
         000058a0 00000000! 
     960 000058c0           SkFreeP:
     961                    
     962                            ;Free Main Scanner Palettes
     963 000058c0     09e0          movi    SCANPAL2,A0
         000058d0 00000000! 
     964 000058f0     0d5f          CALLA   FINDPAL
         00005900 00000000! 
     965 00005920     ca03          jrz     SkUnget1
     966 00005930     0d5f          calla   UNGETPAL
         00005940 00000000! 
     967 00005960           SkUnget1:
     968 00005960     09e0          movi    SCANPAL1,A0
         00005970 00000000! 
     969 00005990     0d5f          CALLA   FINDPAL
         000059a0 00000000! 
     970 000059c0     ca03          jrz     SkUnget2
     971 000059d0     0d5f          calla   UNGETPAL
         000059e0 00000000! 
     972 00005a00           SkUnget2:
     973 00005a00     09e0          movi    voice,A0
         00005a10 00000000! 
     974 00005a30     0d5f          CALLA   FINDPAL
         00005a40 00000000! 
     975 00005a60     ca03          jrz     SkUnget3
     976 00005a70     0d5f          calla   UNGETPAL
         00005a80 00000000! 
     977 00005aa0           SkUnget3:
     978 00005aa0     09e0          movi    k3,A0
         00005ab0 00000000! 
     979 00005ad0     0d5f          CALLA   FINDPAL
         00005ae0 00000000! 
     980 00005b00     ca03          jrz     SkUnget4
     981 00005b10     0d5f          calla   UNGETPAL
         00005b20 00000000! 
     982 00005b40           SkUnget4:
     983 00005b40     09e0          movi    VOXPAL,A0
         00005b50 00011dc0' 
     984 00005b70     0d5f          CALLA   FINDPAL
         00005b80 00000000! 
     985 00005ba0     ca03          jrz     SkUnget5
     986 00005bb0     0d5f          calla   UNGETPAL
         00005bc0 00000000! 
     987 00005be0           SkUnget5:
     988 00005be0     0960          rets
     989                    *************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   24

     990                    
     991                    *************************************************************************
     992 00005bf0           FbiText:
     993                    ;* plot out text to monitor screen.
     994                    ;* must 'black out' palette data so text can be faded in after bringing
     995                    ;* out the monitor.
     996                    
     997 00005bf0     0d5f          calla   MYOINIT
         00005c00 00000000! 
     998 00005c20     0d3f          callr   DiviOLst
         00005c30     0222  
     999                    
    1000 00005c40     09e0          movi    fbitxt4,A0
         00005c50 00000000! 
    1001 00005c70     0d5f          calla   GETFPAL
         00005c80 00000000! 
    1002 00005ca0     4c08          move    A0,A8
    1003 00005cb0     09e0          movi    warntxtp,A0
         00005cc0 00000000! 
    1004 00005ce0     0d5f          calla   GETFPAL
         00005cf0 00000000! 
    1005 00005d10     4c09          move    A0,A9
    1006                    
    1007 00005d20     09e0          movi    FADERAM1,A0
         00005d30 00000000- 
    1008 00005d50     09c1          movi    64,A1
         00005d60     0040  
    1009 00005d70     5642          clr     A2
    1010 00005d80           ClrPLp:
    1011 00005d80     9240          move    A2,*A0+,L
    1012 00005d90     9240          move    A2,*A0+,L
    1013 00005da0     3c61          dsjs    A1,ClrPLp
    1014                    
    1015                            ;* Start Palettes off BLACKED OUT
    1016 00005db0     09e0          movi    FADERAM1,A0
         00005dc0 00000000- 
    1017 00005de0     4d01          move    A8,A1           
    1018 00005df0     2701          sll     24,A1
    1019 00005e00     2e01          srl     16,A1
    1020 00005e10     09c2          movi    256,A2
         00005e20     0100  
    1021 00005e30     0d5f          calla   PALSET
         00005e40 00000000! 
    1022 00005e60     09e0          movi    FADERAM1,A0
         00005e70 00000000- 
    1023 00005e90     4d21          move    A9,A1           
    1024 00005ea0     2701          sll     24,A1
    1025 00005eb0     2e01          srl     16,A1
    1026 00005ec0     09c2          movi    256,A2
         00005ed0     0100  
    1027 00005ee0     0d5f          calla   PALSET
         00005ef0 00000000! 
    1028                    
    1029 00005f10                   SLEEP   2
    1030                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   25

    1031                            ;* clear screen to light Green Color
    1032 00005f50     0588          move    A8,@DMACMAP,W
         00005f60 01a80080  
    1033 00005f80     09e0          movi    (01000H*(28+SKYTOPOF))+(8*(127+MSUX)),A0        ;Dest Addr
         00005f90 0006c3f0  
    1034 00005fb0     09c1          movi    0800H,A1        ;Dest Addr Vertical Adj
         00005fc0     0800  
    1035 00005fd0     09c2          movi    16,A2   ;Doing 16 pixels per loop
         00005fe0     0010  
    1036 00005ff0     09c3          movi    200,A3  ;height
         00006000     00c8  
    1037 00006010     09e5          movi    001010101H,A5
         00006020 01010101  
    1038 00006040           NxtRow:
    1039 00006040     4c44          move    A2,A4
    1040 00006050           PltRow:
    1041 00006050     92a0          move    A5,*A0+,L
    1042 00006060     92a0          move    A5,*A0+,L
    1043 00006070     92a0          move    A5,*A0+,L
    1044 00006080     92a0          move    A5,*A0+,L
    1045 00006090     3ca4          dsjs    A4,PltRow
    1046 000060a0     4020          add     A1,A0
    1047 000060b0     3d03          dsjs    A3,NxtRow
    1048                            
    1049                    
    1050 000060c0     4d01          move    A8,A1
    1051 000060d0     09e0          movi    filestxt,A0
         000060e0 00000080" 
    1052 00006100     09e3          movi    [47,166+MSUX],A3
         00006110 002f00a5  
    1053 00006130     0d3f          callr   UnpckPlt
         00006140     0057  
    1054 00006150     09e0          movi    authtxt,A0
         00006160 00000100" 
    1055 00006180     09e3          movi    [142,203+MSUX],A3
         00006190 008e00ca  
    1056 000061b0     0d3f          callr   UnpckPlt
         000061c0     004f  
    1057                    ;       movi    entrtxt,A0
    1058                    ;       movi    [213,171+MSUX],A3
    1059                    ;       callr   UnpckPlt
    1060                    
    1061 000061d0     4d21          move    A9,A1
    1062 000061e0     09e0          movi    warntxt,A0
         000061f0 00000000" 
    1063 00006210     09e3          movi    [102,201+MSUX],A3
         00006220 006600c8  
    1064 00006240     18c2          movk    6,A2    ;# bits per pixel
    1065 00006250     b606          move    *A0(ISAG),A6,L          ;source address to plot from
         00006260     0040  
    1066 00006270     0d5f          calla   PlotPack
         00006280 0000c630' 
    1067 000062a0                   RETP
    1068                    *************************************************************************
    1069                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   26

    1070                    *************************************************************************
    1071 000062d0           ClrMsuScr:
    1072 000062d0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5
         000062e0     fc00  
    1073                            ;* clear MSU screen to BLACK
    1074 000062f0     09e0          movi    NARCS,A0
         00006300 00000000! 
    1075 00006320     0d5f          calla   FINDPAL
         00006330 00000000! 
    1076 00006350     0580          move    A0,@DMACMAP,W
         00006360 01a80080  
    1077 00006380     09e0          movi    (01000H*(28+SKYTOPOF))+(8*(127+MSUX)),A0        ;Dest Addr
         00006390 0006c3f0  
    1078 000063b0     09c1          movi    0800H,A1        ;Dest Addr Vertical Adj
         000063c0     0800  
    1079 000063d0     09c2          movi    16,A2   ;Doing 16 pixels per loop
         000063e0     0010  
    1080 000063f0     09c3          movi    200,A3  ;height
         00006400     00c8  
    1081 00006410     56a5          clr     A5
    1082 00006420           NxtRow2:
    1083 00006420     4c44          move    A2,A4
    1084 00006430           PltRow2:
    1085 00006430     92a0          move    A5,*A0+,L
    1086 00006440     92a0          move    A5,*A0+,L
    1087 00006450     92a0          move    A5,*A0+,L
    1088 00006460     92a0          move    A5,*A0+,L
    1089 00006470     3ca4          dsjs    A4,PltRow2
    1090 00006480     4020          add     A1,A0
    1091 00006490     3d03          dsjs    A3,NxtRow2
    1092 000064a0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5
         000064b0     003f  
    1093 000064c0     0960          rets
    1094                    *************************************************************************
    1095                    
    1096                    *************************************************************************
    1097 000064d0           UnFbiText:
    1098                    ;Stop Display update, Clear MSU Screen, clear out Fbi Palettes
    1099                    
    1100 000064d0     5600          clr     A0
    1101 000064e0     0580          MOVE    A0,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         000064f0 00000000! 
    1102 00006510     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         00006520 00000000! 
    1103                    
    1104 00006540     0d3f          callr   ClrMsuScr
         00006550     ffd7  
    1105 00006560     09e0          movi    fbitxt4,A0
         00006570 00000000! 
    1106 00006590     0d5f          calla   FINDPAL
         000065a0 00000000! 
    1107 000065c0     0d5f          calla   UNGETPAL
         000065d0 00000000! 
    1108 000065f0     09e0          movi    warntxtp,A0
         00006600 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   27

    1109 00006620     0d5f          calla   FINDPAL
         00006630 00000000! 
    1110 00006650     0d5f          calla   UNGETPAL
         00006660 00000000! 
    1111 00006680     0960          rets
    1112                    *************************************************************************
    1113                    
    1114                    *************************************************************************
    1115 00006690           UnpckPl2:
    1116 00006690     0d03          subi    SKYTOPOF*010000H,A3
         000066a0 ffafffff  
    1117 000066c0           UnpckPlt:
    1118                    ;*****  This function unpacks and plots a packed image.
    1119                    ;PARMS:
    1120                    ;       A0 ptr to image frame
    1121                    ;       A1 color map containing palette for image
    1122                    ;       A3 packed Y:X screen coors to plot the image
    1123                    ;       A11 address to unpack to
    1124                    
    1125 000066c0     4d62          move    A11,A2          ;A11 contains address to unpack to..
    1126 000066d0     0d5f          calla   UnpackRLC
         000066e0 0000bcf0' 
    1127                    
    1128 00006700     1842          movk    2,A2    ;# bits per pixel
    1129 00006710     4d66          move    A11,A6          ;source address to plot from
    1130 00006720     0d5f          calla   PlotPack
         00006730 0000c630' 
    1131                    
    1132 00006750     0960          rets
    1133                    *************************************************************************
    1134                    
    1135                    *************************************************************************
    1136 00006760           Fader:
    1137                            ;* GET THE PALETTES OF THE MSU
    1138 00006760     09e0          movi    SCANPAL1,A0
         00006770 00000000! 
    1139 00006790     0d5f          calla   FINDPAL
         000067a0 00000000! 
    1140 000067c0     2500          sll     8,A0
    1141 000067d0     b00d          move    A0,*A13(PDATA),W
         000067e0     0060  
    1142 000067f0     09e0          movi    SCANPAL2,A0
         00006800 00000000! 
    1143 00006820     0d5f          calla   FINDPAL
         00006830 00000000! 
    1144 00006850     2500          sll     8,A0
    1145 00006860     b00d          move    A0,*A13(PDATA+16),W
         00006870     0070  
    1146 00006880     09e0          movi    voice,A0
         00006890 00000000! 
    1147 000068b0     0d5f          calla   FINDPAL
         000068c0 00000000! 
    1148 000068e0     2500          sll     8,A0
    1149 000068f0     b00d          move    A0,*A13(PDATA+32),W
         00006900     0080  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   28

    1150 00006910     09e0          movi    k3,A0
         00006920 00000000! 
    1151 00006940     0d5f          calla   FINDPAL
         00006950 00000000! 
    1152 00006970     2500          sll     8,A0
    1153 00006980     b00d          move    A0,*A13(PDATA+48),W
         00006990     0090  
    1154                    
    1155 000069a0     05a0          move    @precrim2,A0,W
         000069b0 000060c0- 
    1156 000069d0     cb12          jrnz    SkGPFbi
    1157                            ;* and the MSU SCREEN CONTENTS
    1158 000069e0     09e0          movi    fbitxt4,A0
         000069f0 00000000! 
    1159 00006a10     0d5f          calla   FINDPAL
         00006a20 00000000! 
    1160 00006a40     2500          sll     8,A0
    1161 00006a50     b00d          move    A0,*A13(PDATA+64),W
         00006a60     00a0  
    1162 00006a70     09e0          movi    warntxtp,A0
         00006a80 00000000! 
    1163 00006aa0     0d5f          calla   FINDPAL
         00006ab0 00000000! 
    1164 00006ad0     2500          sll     8,A0
    1165 00006ae0     b00d          move    A0,*A13(PDATA+80),W
         00006af0     00b0  
    1166 00006b00           SkGPFbi:
    1167                    
    1168 00006b00     5708          clr     A8
    1169 00006b10           FadeIn:
    1170 00006b10     1208          addk    16,A8
    1171                    
    1172 00006b20     4d02          move    A8,A2
    1173 00006b30     09e0          movi    FADERAM1,A0
         00006b40 00000000- 
    1174 00006b60     09e1          movi    SCANPAL1,A1
         00006b70 00000000! 
    1175 00006b90     0d3f          callr   FadePal
         00006ba0     00e6  
    1176 00006bb0     09e0          movi    FADERAM2,A0
         00006bc0 00001010- 
    1177 00006be0     09e1          movi    SCANPAL2,A1
         00006bf0 00000000! 
    1178 00006c10     0d3f          callr   FadePal
         00006c20     00de  
    1179 00006c30     09e0          movi    FADERAM3,A0
         00006c40 00002020- 
    1180 00006c60     09e1          movi    voice,A1
         00006c70 00000000! 
    1181 00006c90     0d3f          callr   FadePal
         00006ca0     00d6  
    1182 00006cb0     09e0          movi    FADERAM4,A0
         00006cc0 00003030- 
    1183 00006ce0     09e1          movi    k3,A1
         00006cf0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   29

    1184 00006d10     0d3f          callr   FadePal
         00006d20     00ce  
    1185                    
    1186 00006d30     09e0          movi    FADERAM1,A0
         00006d40 00000000- 
    1187 00006d60     b5a1          move    *A13(PDATA),A1,W
         00006d70     0060  
    1188 00006d80     9402          move    *A0+,A2,W
    1189                    *A0= PALSRC = 32 BIT SOURCE ADDRESS OF PALETTE COLOR DATA       
    1190                    *A1= PALDEST = BIT 8-15 DESTINATION PALETTE | BIT 0-7 START COLOR
    1191                    *A2= PLDCNT = 16 BIT COLOR COUNT
    1192 00006d90     0d5f          calla   PALSET
         00006da0 00000000! 
    1193 00006dc0     09e0          movi    FADERAM2,A0
         00006dd0 00001010- 
    1194 00006df0     b5a1          move    *A13(PDATA+16),A1,W
         00006e00     0070  
    1195 00006e10     9402          move    *A0+,A2,W
    1196 00006e20     0d5f          calla   PALSET
         00006e30 00000000! 
    1197 00006e50     09e0          movi    FADERAM3,A0
         00006e60 00002020- 
    1198 00006e80     b5a1          move    *A13(PDATA+32),A1,W
         00006e90     0080  
    1199 00006ea0     9402          move    *A0+,A2,W
    1200 00006eb0     0d5f          calla   PALSET
         00006ec0 00000000! 
    1201 00006ee0     09e0          movi    FADERAM4,A0
         00006ef0 00003030- 
    1202 00006f10     b5a1          move    *A13(PDATA+48),A1,W
         00006f20     0090  
    1203 00006f30     9402          move    *A0+,A2,W
    1204 00006f40     0d5f          calla   PALSET
         00006f50 00000000! 
    1205 00006f70                   SLEEP   1
    1206                    
    1207 00006fb0     05a0          move    @precrim2,A0,W
         00006fc0 000060c0- 
    1208 00006fe0     cb27          jrnz    SkFbiFad
    1209                            ;* Do The Screen Contents Too!
    1210 00006ff0     4d02          move    A8,A2
    1211 00007000     09e0          movi    FADERAM5,A0
         00007010 00004040- 
    1212 00007030     09e1          movi    fbitxt4,A1
         00007040 00000000! 
    1213 00007060     0d3f          callr   FadePal
         00007070     0099  
    1214 00007080     09e0          movi    FADERAM6,A0
         00007090 00005050- 
    1215 000070b0     09e1          movi    warntxtp,A1
         000070c0 00000000! 
    1216 000070e0     0d3f          callr   FadePal
         000070f0     0091  
    1217                    
    1218 00007100     09e0          movi    FADERAM5,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   30

         00007110 00004040- 
    1219 00007130     b5a1          move    *A13(PDATA+64),A1,W
         00007140     00a0  
    1220 00007150     9402          move    *A0+,A2,W
    1221 00007160     0d5f          calla   PALSET
         00007170 00000000! 
    1222 00007190     09e0          movi    FADERAM6,A0
         000071a0 00005050- 
    1223 000071c0     b5a1          move    *A13(PDATA+80),A1,W
         000071d0     00b0  
    1224 000071e0     9402          move    *A0+,A2,W
    1225 000071f0     0d5f          calla   PALSET
         00007200 00000000! 
    1226 00007220                   SLEEP   1
    1227 00007260           SkFbiFad:
    1228                    
    1229 00007260     0b48          cmpi    128,A8
         00007270     ff7f  
    1230 00007280     c488          jrlt    FadeIn
    1231                    
    1232 00007290                   DIE
    1233                    *************************************************************************
    1234                    
    1235                    *************************************************************************
    1236 000072c0           FADEOUT:
    1237                    ;* Thrashes first 4 words of PDATA and A8
    1238                            ;* GET THE PALETTES OF THE MSU
    1239 000072c0     09e0          movi    SCANPAL1,A0
         000072d0 00000000! 
    1240 000072f0     0d5f          calla   FINDPAL
         00007300 00000000! 
    1241 00007320     2500          sll     8,A0
    1242 00007330     b00d          move    A0,*A13(PDATA),W
         00007340     0060  
    1243 00007350     09e0          movi    SCANPAL2,A0
         00007360 00000000! 
    1244 00007380     0d5f          calla   FINDPAL
         00007390 00000000! 
    1245 000073b0     2500          sll     8,A0
    1246 000073c0     b00d          move    A0,*A13(PDATA+16),W
         000073d0     0070  
    1247 000073e0     09e0          movi    voice,A0
         000073f0 00000000! 
    1248 00007410     0d5f          calla   FINDPAL
         00007420 00000000! 
    1249 00007440     2500          sll     8,A0
    1250 00007450     b00d          move    A0,*A13(PDATA+32),W
         00007460     0080  
    1251 00007470     09e0          movi    k3,A0
         00007480 00000000! 
    1252 000074a0     0d5f          calla   FINDPAL
         000074b0 00000000! 
    1253 000074d0     2500          sll     8,A0
    1254 000074e0     b00d          move    A0,*A13(PDATA+48),W
         000074f0     0090  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   31

    1255                    
    1256 00007500     09c8          movi    256,A8
         00007510     0100  
    1257 00007520           FadeOut:
    1258 00007520     1608          subk    16,A8
    1259                    
    1260 00007530     4d02          move    A8,A2
    1261 00007540     09e0          movi    FADERAM1,A0
         00007550 00000000- 
    1262 00007570     09e1          movi    SCANPAL1,A1
         00007580 00000000! 
    1263 000075a0     0d3f          callr   FadePal
         000075b0     0045  
    1264 000075c0     09e0          movi    FADERAM2,A0
         000075d0 00001010- 
    1265 000075f0     09e1          movi    SCANPAL2,A1
         00007600 00000000! 
    1266 00007620     0d3f          callr   FadePal
         00007630     003d  
    1267 00007640     09e0          movi    FADERAM3,A0
         00007650 00002020- 
    1268 00007670     09e1          movi    voice,A1
         00007680 00000000! 
    1269 000076a0     0d3f          callr   FadePal
         000076b0     0035  
    1270 000076c0     09e0          movi    FADERAM4,A0
         000076d0 00003030- 
    1271 000076f0     09e1          movi    k3,A1
         00007700 00000000! 
    1272 00007720     0d3f          callr   FadePal
         00007730     002d  
    1273                    
    1274 00007740     09e0          movi    FADERAM1,A0
         00007750 00000000- 
    1275 00007770     b5a1          move    *A13(PDATA),A1,W
         00007780     0060  
    1276 00007790     9402          move    *A0+,A2,W
    1277                    *A0= PALSRC = 32 BIT SOURCE ADDRESS OF PALETTE COLOR DATA       
    1278                    *A1= PALDEST = BIT 8-15 DESTINATION PALETTE | BIT 0-7 START COLOR
    1279                    *A2= PLDCNT = 16 BIT COLOR COUNT
    1280 000077a0     0d5f          calla   PALSET
         000077b0 00000000! 
    1281 000077d0     09e0          movi    FADERAM2,A0
         000077e0 00001010- 
    1282 00007800     b5a1          move    *A13(PDATA+16),A1,W
         00007810     0070  
    1283 00007820     9402          move    *A0+,A2,W
    1284 00007830     0d5f          calla   PALSET
         00007840 00000000! 
    1285 00007860     09e0          movi    FADERAM3,A0
         00007870 00002020- 
    1286 00007890     b5a1          move    *A13(PDATA+32),A1,W
         000078a0     0080  
    1287 000078b0     9402          move    *A0+,A2,W
    1288 000078c0     0d5f          calla   PALSET
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   32

         000078d0 00000000! 
    1289 000078f0     09e0          movi    FADERAM4,A0
         00007900 00003030- 
    1290 00007920     b5a1          move    *A13(PDATA+48),A1,W
         00007930     0090  
    1291 00007940     9402          move    *A0+,A2,W
    1292 00007950     0d5f          calla   PALSET
         00007960 00000000! 
    1293 00007980                   SLEEP   1
    1294                    
    1295 000079c0     4d08          move    A8,A8
    1296 000079d0     cbb4          jrnz    FadeOut
    1297                    
    1298 000079e0                   RETP
    1299                    *************************************************************************
    1300                    
    1301                    *************************************************************************
    1302 00007a10           FadePal:
    1303                    ;* PARMS
    1304                    ;       A0 - Dest Ram for Pal
    1305                    ;       A1 - Src for Pal
    1306                    ;       A2 - Color Multiplier
    1307                    ;* Each color in palette will be multiplied by A2 then divided by 128
    1308                    
    1309 00007a10     098f          mmtm    SP,A0,A1,A3,A4,A5,A6,A7,A8,A9,A10,A11,A14
         00007a20     dff2  
    1310                    
    1311 00007a30     942e          move    *A1+,A14,W
    1312 00007a40     91c0          move    A14,*A0+,W
    1313 00007a50     26ee          sll     23,A14          ;top bits of field are flags
    1314 00007a60     2d2e          srl     23,A14          ;       only 9 bits needed for # colors
    1315                    
    1316 00007a70     09c4          movi    07C00H,A4       ;A4 - Pre Mult Mask for 5 bits of red
         00007a80     7c00  
    1317 00007a90     09c6          movi    003E0H,A6       ;A6 - Pre Mult Mask for 5 bits of green
         00007aa0     03e0  
    1318 00007ab0     09c8          movi    0001FH,A8       ;A8 - Pre Mult Mask for 5 bits of blue
         00007ac0     001f  
    1319 00007ad0     4c89          move    A4,A9
    1320 00007ae0     4cca          move    A6,A10
    1321 00007af0     4d0b          move    A8,A11
    1322 00007b00     24e9          sll     7,A9            ; A9 - Post Mult Max for 5 bits of red
    1323 00007b10     24ea          sll     7,A10           ;A10 - Post Mult Max for 5 bits of green
    1324 00007b20     24eb          sll     7,A11           ;A11 - Post Mult Max for 5 bits of blue
    1325                    
    1326 00007b30           FadeLp:
    1327 00007b30     9423          move    *A1+,A3,W       ;A3 - RED
    1328 00007b40     4c65          move    A3,A5           ;A5 - GREEN
    1329 00007b50     4c67          move    A3,A7           ;A7 - BLUE
    1330 00007b60     5083          and     A4,A3
    1331 00007b70     50c5          and     A6,A5
    1332 00007b80     5107          and     A8,A7
    1333 00007b90     5e43          mpyu    A2,A3
    1334 00007ba0     5e45          mpyu    A2,A5
    1335 00007bb0     5e47          mpyu    A2,A7
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   33

    1336 00007bc0     4923          cmp     A9,A3
    1337 00007bd0     c601          jrle    RedOk
    1338 00007be0     4d23          move    A9,A3
    1339 00007bf0           RedOk:
    1340 00007bf0     4945          cmp     A10,A5
    1341 00007c00     c601          jrle    GreenOk
    1342 00007c10     4d45          move    A10,A5
    1343 00007c20           GreenOk:
    1344 00007c20     4967          cmp     A11,A7
    1345 00007c30     c601          jrle    BlueOk
    1346 00007c40     4d67          move    A11,A7
    1347 00007c50           BlueOk:
    1348 00007c50     5123          and     A9,A3
    1349 00007c60     5145          and     A10,A5
    1350                    ;       and     A11,A7  ;unnecessary cause bottom bits will get >> 7
    1351                    
    1352 00007c70     54a3          or      A5,A3
    1353 00007c80     54e3          or      A7,A3
    1354 00007c90     2f23          srl     7,A3
    1355 00007ca0     9060          move    A3,*A0+,W
    1356 00007cb0     3f2e          dsjs    A14,FadeLp
    1357                            
    1358 00007cc0     09af          mmfm    SP,A0,A1,A3,A4,A5,A6,A7,A8,A9,A10,A11,A14
         00007cd0     4ffb  
    1359 00007ce0     0960          rets
    1360                    *************************************************************************
    1361                    
    1362                    *************************************************************************
    1363 00007cf0           FullFill:
    1364                    ;* PARMS
    1365                    ;       A0 - Dest Ram for Pal
    1366                    ;* repeat the first N colors of the palette through the remaining
    1367                    ;* colors of the palette
    1368 00007cf0     098f          mmtm    SP,A0,A1,A2,A3,A4,A14
         00007d00     f802  
    1369                    
    1370 00007d10     940e          move    *A0+,A14,W
    1371 00007d20     26ee          sll     23,A14          ;top bits of field are flags
    1372 00007d30     2d2e          srl     23,A14          ;       only 9 bits needed for # colors
    1373                                                    ;A14 # src colors       
    1374 00007d40     4c02          move    A0,A2           ;A2, start of src addr - for reset of A0
    1375 00007d50     09c3          movi    256,A3
         00007d60     0100  
    1376 00007d70     45c3          sub     A14,A3          ;A3 # of copies to be made
    1377 00007d80     ca0a          jrz     FullX
    1378 00007d90     4dc1          move    A14,A1
    1379 00007da0     2481          sll     4,A1
    1380 00007db0     4001          add     A0,A1           ;A1 dest addr, A0 src addr
    1381                    
    1382 00007dc0           FillMore:
    1383 00007dc0     4dc4          move    A14,A4          ;A4 # colors to be copied this loop
    1384 00007dd0     4c40          move    A2,A0           ;reset src addr
    1385 00007de0           FulFilLp:
    1386 00007de0     9801          move    *A0+,*A1+,W
    1387 00007df0     3823          dsjs    A3,NotFull
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   34

    1388 00007e00     c002          jruc    FullX
    1389 00007e10           NotFull:
    1390 00007e10     3c84          dsjs    A4,FulFilLp
    1391 00007e20     c0f9          jruc    FillMore
    1392 00007e30           FullX:
    1393                            
    1394 00007e30     09af          mmfm    SP,A0,A1,A2,A3,A4,A14
         00007e40     401f  
    1395 00007e50     0960          rets
    1396                    *************************************************************************
    1397                    
    1398                    
    1399                    *************************************************************************
    1400 00007e60           DiviOLst:
    1401                    ;* Divide Object List Into Two Pieces,
    1402                    ;the first piece is 150 objects worth of space,
    1403                    ;the second piece is at least 16K bytes of space for UnPackRLC
    1404 00007e60     09e0          movi    OFREE,A0
         00007e70 00000000! 
    1405 00007e90     09c1          movi    150,A1
         00007ea0     0096  
    1406 00007eb0           SkLp:
    1407 00007eb0     8600          move    *A0,A0,L
    1408 00007ec0     3c41          dsjs    A1,SkLp
    1409                    
    1410 00007ed0     860b          move    *A0,A11,L       ;A11 pts to start of Second Space
    1411 00007ee0     5621          clr     A1
    1412 00007ef0     8220          move    A1,*A0,L        ;terminate 1st List
    1413 00007f00     0960          rets
    1414                    *************************************************************************
    1415                    
    1416                    *************************************************************************
    1417 00007f10           LedBlink:
    1418                    ;** PROCESS to blink MSU Leds
    1419                    ;* PARMS
    1420                    ;       A10 - ptr to data object
    1421                    ;       --- the data object will have ptrs to led objs in slots 0-4
    1422                    
    1423 00007f10           BlinkLp:
    1424 00007f10     18a2          movk    5,A2
    1425 00007f20     4d4b          move    A10,A11
    1426 00007f30     ca19          jrz     BlinkX
    1427                    
    1428 00007f40           LedLp:
    1429 00007f40     0d5f          calla   RANDU
         00007f50 00000000! 
    1430 00007f70     09e0          movi    SCANPAL1,A0
         00007f80 00000000! 
    1431 00007fa0     07e1          movb    @RAND,A1
         00007fb0 00000000! 
    1432 00007fd0     ce03          jrn     GotP
    1433 00007fe0     09e0          movi    SCANPAL2,A0
         00007ff0 00000000! 
    1434 00008010           GotP:
    1435 00008010     0d5f          calla   FINDPAL
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   35

         00008020 00000000! 
    1436 00008040     9768          move    *A11+,A8,L
    1437 00008050     b008          move    A0,*A8(OPAL),W
         00008060     0160  
    1438 00008070     3e82          dsjs    A2,LedLp
    1439                    
    1440 00008080                   SLEEP   5
    1441 000080c0     c0e4          jruc    BlinkLp
    1442                    
    1443 000080d0           BlinkX:
    1444 000080d0                   DIE
    1445                    *************************************************************************
    1446                    
    1447                    
    1448                    *************************************************************************
    1449 00008100           Led1Blnk:
    1450                    ;** PROCESS to blink MSU Dash Leds after button press
    1451                    ;* PARMS
    1452                    ;       A10 - ptr to data object
    1453                    ;       --- the data object will have ptrs to dash led objs in slots 0&1
    1454 00008100     4d4a          move    A10,A10
    1455 00008110     ca30          jrz     Blnk1X
    1456                    
    1457 00008120     09e0          movi    SCANPAL1,A0
         00008130 00000000! 
    1458 00008150     0d5f          calla   FINDPAL
         00008160 00000000! 
    1459 00008180     b00d          move    A0,*A13(PDATA),W
         00008190     0060  
    1460                    
    1461 000081a0     09e0          movi    SCANPAL2,A0
         000081b0 00000000! 
    1462 000081d0     0d5f          calla   FINDPAL
         000081e0 00000000! 
    1463 00008200     b00d          move    A0,*A13(PDATA+16),W
         00008210     0070  
    1464                            
    1465 00008220     9748          move    *A10+,A8,L
    1466 00008230     8749          move    *A10,A9,L
    1467                    
    1468 00008240     1840          movk    2,A0
    1469 00008250           Blnk1Lp:
    1470 00008250                   PUSHP   A0      ;# tiks to blink for
    1471 00008260     b5a1          move    *A13(PDATA),A1,W
         00008270     0060  
    1472 00008280     07e0          movb    @RAND,A0
         00008290 00000000! 
    1473 000082b0     ce02          jrn     GotP1
    1474 000082c0     b5a1          move    *A13(PDATA+16),A1,W
         000082d0     0070  
    1475 000082e0           GotP1:
    1476 000082e0     b028          move    A1,*A8(OPAL),W
         000082f0     0160  
    1477                    
    1478 00008300     b5a1          move    *A13(PDATA),A1,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   36

         00008310     0060  
    1479 00008320     05a0          move    @RAND,A0,W
         00008330 00000000! 
    1480 00008350     ce02          jrn     GotP2
    1481 00008360     b5a1          move    *A13(PDATA+16),A1,W
         00008370     0070  
    1482 00008380           GotP2:
    1483 00008380     b029          move    A1,*A9(OPAL),W
         00008390     0160  
    1484                    
    1485 000083a0                   SLEEP   3
    1486 000083e0                   PULLP   A0
    1487 00008400     1420          dec     A0
    1488 00008410     c1e3          jrp     Blnk1Lp
    1489                    
    1490 00008420           Blnk1X:
    1491 00008420                   DIE
    1492                    *************************************************************************
    1493                    
    1494                    
    1495                    *************************************************************************
    1496 00008450           Led2Blnk:
    1497                    ;** PROCESS to blink MSU Screen Leds after button press
    1498                    ;* PARMS
    1499                    ;       A10 - ptr to data object
    1500                    ;       --- the data object will have ptrs to scan led objs in slots 2&3
    1501 00008450     4d4a          move    A10,A10
    1502 00008460     ca33          jrz     Blnk2X
    1503                    
    1504 00008470     09e0          movi    SCANPAL1,A0
         00008480 00000000! 
    1505 000084a0     0d5f          calla   FINDPAL
         000084b0 00000000! 
    1506 000084d0     b00d          move    A0,*A13(PDATA),W
         000084e0     0060  
    1507                    
    1508 000084f0     09e0          movi    SCANPAL2,A0
         00008500 00000000! 
    1509 00008520     0d5f          calla   FINDPAL
         00008530 00000000! 
    1510 00008550     b00d          move    A0,*A13(PDATA+16),W
         00008560     0070  
    1511                            
    1512 00008570     0b0a          addi    64,A10          ;Skip Dash leds
         00008580     0040  
    1513 00008590     9748          move    *A10+,A8,L
    1514 000085a0     8749          move    *A10,A9,L
    1515                    
    1516 000085b0     09c0          movi    70,A0
         000085c0     0046  
    1517 000085d0           Blnk2Lp:
    1518 000085d0                   PUSHP   A0      ;# tiks to blink for
    1519 000085e0     b5a1          move    *A13(PDATA),A1,W
         000085f0     0060  
    1520 00008600     07e0          movb    @RAND,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   37

         00008610 00000000! 
    1521 00008630     ce02          jrn     GotP3
    1522 00008640     b5a1          move    *A13(PDATA+16),A1,W
         00008650     0070  
    1523 00008660           GotP3:
    1524 00008660     b028          move    A1,*A8(OPAL),W
         00008670     0160  
    1525                    
    1526 00008680     b5a1          move    *A13(PDATA),A1,W
         00008690     0060  
    1527 000086a0     05a0          move    @RAND,A0,W
         000086b0 00000000! 
    1528 000086d0     ce02          jrn     GotP4
    1529 000086e0     b5a1          move    *A13(PDATA+16),A1,W
         000086f0     0070  
    1530 00008700           GotP4:
    1531 00008700     b029          move    A1,*A9(OPAL),W
         00008710     0160  
    1532                    
    1533 00008720                   SLEEP   3
    1534 00008760                   PULLP   A0
    1535 00008780     1420          dec     A0
    1536 00008790     c1e3          jrp     Blnk2Lp
    1537                    
    1538 000087a0           Blnk2X:
    1539 000087a0                   DIE
    1540                    *************************************************************************
    1541                    
    1542                    *************************************************************************
    1543 000087d0           Led3Blnk:
    1544                    ;** PROCESS to blink MSU Radar Led
    1545                    ;* PARMS
    1546                    ;       A10 - ptr to data object
    1547                    ;       --- the data object will have ptrs to scan led objs in slots 2&3
    1548 000087d0     4d4a          move    A10,A10
    1549 000087e0     ca27          jrz     Blnk3X
    1550                    
    1551 000087f0     09e0          movi    SCANPAL1,A0
         00008800 00000000! 
    1552 00008820     0d5f          calla   FINDPAL
         00008830 00000000! 
    1553 00008850     b00d          move    A0,*A13(PDATA),W
         00008860     0060  
    1554                    
    1555 00008870     09e0          movi    SCANPAL2,A0
         00008880 00000000! 
    1556 000088a0     0d5f          calla   FINDPAL
         000088b0 00000000! 
    1557 000088d0     b00d          move    A0,*A13(PDATA+16),W
         000088e0     0070  
    1558                            
    1559 000088f0     b748          move    *A10(128),A8,L  ;Skip Dash leds & Scanner Leds
         00008900     0080  
    1560                    
    1561 00008910     09c0          movi    30,A0   ;# times to blink
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   38

         00008920     001e  
    1562 00008930           Blnk3Lp:
    1563 00008930                   PUSHP   A0      
    1564 00008940     b5a1          move    *A13(PDATA),A1,W
         00008950     0060  
    1565 00008960     07e0          movb    @RAND,A0
         00008970 00000000! 
    1566 00008990     cecc          jrn     GotP3
    1567 000089a0     b5a1          move    *A13(PDATA+16),A1,W
         000089b0     0070  
    1568 000089c0           GotP5:
    1569 000089c0     b028          move    A1,*A8(OPAL),W
         000089d0     0160  
    1570                    
    1571 000089e0                   SLEEP   5
    1572 00008a20                   PULLP   A0
    1573 00008a40     1420          dec     A0
    1574 00008a50     c1ed          jrp     Blnk3Lp
    1575                    
    1576 00008a60           Blnk3X:
    1577 00008a60                   DIE
    1578                    *************************************************************************
    1579                    
    1580                    *************************************************************************
    1581 00008a90           AlertBlink:
    1582                    ;** PROCESS to blink MSU Alert Light
    1583                    ;* PARMS
    1584                    ;       A9  - # times to BLINK
    1585                    ;       A10 - ptr to data object
    1586                    ;       --- the data object will have ptrs to led objs in slots 0-4
    1587 00008a90     4d4a          move    A10,A10
    1588 00008aa0     ca1e          jrz     BAlertX
    1589 00008ab0     0b0a          addi    NumLed*020H,A10 ;skip LEDS
         00008ac0     00a0  
    1590                    
    1591 00008ad0           AlertLp:
    1592 00008ad0     09e0          movi    SCANPAL1,A0
         00008ae0 00000000! 
    1593 00008b00     0d5f          calla   FINDPAL
         00008b10 00000000! 
    1594 00008b30     8748          move    *A10,A8,L
    1595 00008b40     b008          move    A0,*A8(OPAL),W
         00008b50     0160  
    1596 00008b60                   SLEEP   10
    1597                    
    1598 00008ba0     09e0          movi    SCANPAL2,A0
         00008bb0 00000000! 
    1599 00008bd0     0d5f          calla   FINDPAL
         00008be0 00000000! 
    1600 00008c00     8748          move    *A10,A8,L
    1601 00008c10     b008          move    A0,*A8(OPAL),W
         00008c20     0160  
    1602 00008c30                   SLEEP   5
    1603                    
    1604 00008c70     1429          dec     A9
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   39

    1605 00008c80     c1e4          jrp     AlertLp
    1606                    
    1607 00008c90           BAlertX:
    1608 00008c90                   DIE
    1609                    *************************************************************************
    1610                    
    1611                    *************************************************************************
    1612 00008cc0           SpkrMove:
    1613                    ;** PROCESS to manipulate speaker parts
    1614                    ;* PARMS
    1615                    ;       A10 - ptr to data object
    1616                    ;       --- the data object will have ptrs to led objs in slots 0-4
    1617                    
    1618 00008cc0     4d4a          move    A10,A10
    1619 00008cd0     ca28          jrz     BSpkrX
    1620                    
    1621 00008ce0     0b0a          addi    SpkrOff,A10     ;skip LEDS & Alert
         00008cf0     00c0  
    1622 00008d00     5729          clr     A9      ;A9 ctr for which piece to flip
    1623 00008d10     576b          clr     A11     ;if A11 == 1, dec A9 instead of inc
    1624                    
    1625 00008d20           FlipLp:
    1626 00008d20     4d20          move    A9,A0
    1627 00008d30     24a0          sll     5,A0    ;long word offset
    1628 00008d40     4140          add     A10,A0
    1629 00008d50     8600          move    *A0,A0,L        ;A0 now pts to spkr obj
    1630                    
    1631                            ;* flip it horizontally
    1632 00008d60     b601          move    *A0(OIMG),A1,L
         00008d70     0180  
    1633 00008d80     b404          move    *A0(OFLAGS),A4,W
         00008d90     0100  
    1634 00008da0     0bc4          XORI    M_FLIPH,A4
         00008db0 00000010  
    1635 00008dd0     0d5f          calla   GSAGOF
         00008de0 00000000! 
    1636 00008e00     0b00          addi    OSIZE+020H,A0
         00008e10     0160  
    1637 00008e20     0980          mmtm    A0,A2,A3,A4     ;stuff OSIZE,OSAG,OFFSET:OFLAGS
         00008e30     3800  
    1638                    
    1639 00008e40     4d6b          move    A11,A11
    1640 00008e50     ca05          jrz     IncIt
    1641                    
    1642 00008e60     1429          dec     A9
    1643 00008e70     cf02          jrnn    SpkDecd
    1644 00008e80     5729          clr     A9
    1645 00008e90     03eb          not     A11
    1646 00008ea0           SpkDecd:
    1647 00008ea0     c006          jruc    GotSpk
    1648                    
    1649 00008eb0           IncIt:
    1650 00008eb0     1029          inc     A9
    1651 00008ec0     0b49          cmpi    NumSpkr,A9
         00008ed0     fff9  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   40

    1652 00008ee0     c402          jrlt    SpkIncd
    1653 00008ef0     18a9          movk    NumSpkr-1,A9
    1654 00008f00     03eb          not     A11
    1655 00008f10           SpkIncd:
    1656                    
    1657 00008f10           GotSpk:
    1658                    
    1659 00008f10                   SLEEP   5
    1660 00008f50     c0dc          jruc    FlipLp
    1661                    
    1662 00008f60           BSpkrX:
    1663 00008f60                   DIE
    1664                    *************************************************************************
    1665                    
    1666                    *************************************************************************
    1667 00008f90           HndClr:
    1668 00008f90     0d5f          calla   GETOBJ
         00008fa0 00000000! 
    1669 00008fc0     ca4a          jrz     HndClrX
    1670 00008fd0     4c02          move    A0,A2
    1671                            
    1672 00008fe0     09c1          movi    156,A1
         00008ff0     009c  
    1673 00009000     b022          move    A1,*A2(OXPOS),W
         00009010     0090  
    1674 00009020     09c1          movi    316+SKYTOPOF,A1
         00009030     018c  
    1675 00009040     b022          move    A1,*A2(OYPOS),W
         00009050     00b0  
    1676 00009060     09c1          movi    240,A1
         00009070     00f0  
    1677 00009080     b022          move    A1,*A2(OSIZEX),W
         00009090     0140  
    1678 000090a0     09c1          movi    85,A1
         000090b0     0055  
    1679 000090c0     b022          move    A1,*A2(OSIZEY),W
         000090d0     0150  
    1680 000090e0     09e1          movi    02000000H,A1
         000090f0 02000000  
    1681 00009110     b222          move    A1,*A2(OSAG),L
         00009120     0120  
    1682 00009130     09e1          movi    DMACAL,A1
         00009140 0000800c  
    1683 00009160     0521          zext    A1,W
    1684 00009170     b022          move    A1,*A2(OFLAGS),W
         00009180     0100  
    1685                    
    1686 00009190     5600          clr     A0
    1687 000091a0     b202          move    A0,*A2(OPAL),L
         000091b0     0160  
    1688                    
    1689 000091c0     4c40          move    A2,A0
    1690 000091d0     0d5f          calla   INSB2OBJ
         000091e0 00000000! 
    1691                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   41

    1692                    
    1693 00009200     0d5f          calla   GETOBJ
         00009210 00000000! 
    1694 00009230     ca23          jrz     HndClrX
    1695 00009240     4c02          move    A0,A2
    1696                            
    1697 00009250     09c1          movi    396,A1
         00009260     018c  
    1698 00009270     b022          move    A1,*A2(OXPOS),W
         00009280     0090  
    1699 00009290     09c1          movi    316+SKYTOPOF,A1
         000092a0     018c  
    1700 000092b0     b022          move    A1,*A2(OYPOS),W
         000092c0     00b0  
    1701 000092d0     09c1          movi    32,A1
         000092e0     0020  
    1702 000092f0     b022          move    A1,*A2(OSIZEX),W
         00009300     0140  
    1703 00009310     09c1          movi    85,A1
         00009320     0055  
    1704 00009330     b022          move    A1,*A2(OSIZEY),W
         00009340     0150  
    1705 00009350     09e1          movi    02000000H,A1
         00009360 02000000  
    1706 00009380     b222          move    A1,*A2(OSAG),L
         00009390     0120  
    1707 000093a0     09e1          movi    DMACAL,A1
         000093b0 0000800c  
    1708 000093d0     0521          zext    A1,W
    1709 000093e0     b022          move    A1,*A2(OFLAGS),W
         000093f0     0100  
    1710                    
    1711 00009400     5600          clr     A0
    1712 00009410     b202          move    A0,*A2(OPAL),L
         00009420     0160  
    1713                    
    1714 00009430     4c40          move    A2,A0
    1715 00009440     0d5f          calla   INSB2OBJ
         00009450 00000000! 
    1716                    
    1717 00009470           HndClrX:
    1718 00009470     0960          rets
    1719                    *************************************************************************
    1720                    
    1721                    
    1722                    *************************************************************************
    1723 00009480           MoveHand:
    1724                    ;* PARMS
    1725                    ; A1 - 16.16  X offset
    1726                    ; A2 - 16.16  Y offset
    1727                    ; A9,A11 hand obj ptrs
    1728                    ;CLOBBERS       A0
    1729                    
    1730 00009480     b720          move    *A9(OYVAL),A0,L
         00009490     00a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   42

    1731 000094a0     4040          add     A2,A0
    1732 000094b0     b209          move    A0,*A9(OYVAL),L
         000094c0     00a0  
    1733 000094d0     b720          move    *A9(OXVAL),A0,L
         000094e0     0080  
    1734 000094f0     4020          add     A1,A0
    1735 00009500     b209          move    A0,*A9(OXVAL),L
         00009510     0080  
    1736                    
    1737 00009520     b760          move    *A11(OYVAL),A0,L
         00009530     00a0  
    1738 00009540     4040          add     A2,A0
    1739 00009550     b20b          move    A0,*A11(OYVAL),L
         00009560     00a0  
    1740 00009570     b760          move    *A11(OXVAL),A0,L
         00009580     0080  
    1741 00009590     4020          add     A1,A0
    1742 000095a0     b20b          move    A0,*A11(OXVAL),L
         000095b0     0080  
    1743 000095c0     0960          rets
    1744                    *************************************************************************
    1745                    
    1746                    
    1747                    *************************************************************************
    1748 000095d0           Hand1:
    1749                    ;** PROCESS to manipulate hand
    1750                    ;* PARMS
    1751                    ;       A8 - MSG to Print
    1752                    ;       A9 - # of buttons to push
    1753                    ;       A10 - ptr to data object
    1754                    ;       A11 - Initial Sleep Time
    1755                    ;       --- the data object will have ptrs to led objs in slots 0-4
    1756 000095d0                   PUSHP   A9              ;PUSH # of Buttons to Push
    1757 000095e0     ad0d          movb    A8,*A13(PDATA)
         000095f0     0060  
    1758 00009600     4d67          move    A11,A7          ;hang on to Sleep Time
    1759 00009610     4d4b          move    A10,A11
    1760 00009620     ca00          jrz     Hand1X
         00009630     00bc  
    1761                    
    1762 00009640     0b0b          addi    BoxOff,A11      ;set ptr to ButBox,hand pieces
         00009650     0180  
    1763                    
    1764 00009660     9768          move    *A11+,A8,L      ;A8 points to butbox
    1765 00009670     9769          move    *A11+,A9,L      ;A9 points to fing part
    1766 00009680     876b          move    *A11,A11,L      ;A11 points to hand part
    1767                    
    1768 00009690     0d3f          callr   HndClr          ;sets up erase objs under hand
         000096a0     ff8e  
    1769                    
    1770                            ;Get the Parts off Screen
    1771 000096b0     09e0          movi    [700,0],A0              ;Y off bottom of screen
         000096c0 02bc0000  
    1772 000096e0     b208          move    A0,*A8(OYVAL),L
         000096f0     00a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   43

    1773 00009700     5621          clr     A1
    1774 00009710     09e2          movi    0640000H,A2
         00009720 00640000  
    1775 00009740     0d3f          callr   MoveHand
         00009750     ffd2  
    1776                    
    1777                            ;* Do Initial Sleep
    1778 00009760     4ce0          move    A7,A0
    1779 00009770     ca03          jrz     NoHSlp
    1780 00009780     0d5f          calla   PRCSLP
         00009790 00000000! 
    1781 000097b0           NoHSlp:
    1782 000097b0                   PULLP   A0      ;# buts to push
    1783 000097d0     4c00          MOVE    A0,A0   ;CHECK IT OUT!
    1784 000097e0     ca00          jrz     Hand1X
         000097f0     00a0  
    1785 00009800                   PUSHP   A0
    1786                    
    1787 00009810           H1ButLp:
    1788                            ;select button to Press
    1789 00009810     19c0          movk    14,A0
    1790 00009820     0d5f          calla   RANDU
         00009830 00000000! 
    1791 00009850     1420          dec     A0
    1792 00009860     24a0          sll     5,A0    ;offset into but table is 2 words
    1793 00009870     0b20          addi    ButTbl,A0
         00009880 0000a280' 
    1794 000098a0                   PUSHP   A0      ;Push dest Button
    1795 000098b0     9401          move    *A0+,A1,W       ;X offset
    1796 000098c0     8403          move    *A0,A3,W        ;Y offset
    1797 000098d0     0be1          subi    5,A1
         000098e0     fffa  
    1798 000098f0     0b03          addi    14,A3
         00009900     000e  
    1799                    
    1800 00009910     09ce          movi    6,A14   ;# tiks per button push
         00009920     0006  
    1801                            
    1802 00009930     b520          move    *A9(OYPOS),A0,W
         00009940     00b0  
    1803 00009950     4403          sub     A0,A3
    1804 00009960     2203          sla     16,A3
    1805 00009970     59c3          divs    A14,A3
    1806 00009980     b520          move    *A9(OXPOS),A0,W
         00009990     0090  
    1807 000099a0     4401          sub     A0,A1
    1808 000099b0     2201          sla     16,A1
    1809 000099c0     59c1          divs    A14,A1  
    1810                    
    1811 000099d0                   PUSHP   A1      ;XVEL
    1812 000099e0                   PUSHP   A3      ;YVEL
    1813 000099f0                   PUSHP   A14     ;TIKS
    1814                    
    1815 00009a00           MvH1Lp:
    1816 00009a00                   PULLP   A14     ;TIKS
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   44

    1817 00009a20                   PULLP   A2      ;YVEL
    1818 00009a40                   PULLP   A1      ;XVEL
    1819                    
    1820 00009a60     0d3f          callr   MoveHand
         00009a70     ffa0  
    1821                    
    1822 00009a80     142e          dec     A14
    1823 00009a90     ca08          jrz     H1Dst
    1824                    
    1825 00009aa0                   PUSHP   A1      ;XVEL
    1826 00009ab0                   PUSHP   A2      ;YVEL
    1827 00009ac0                   PUSHP   A14     ;TIKS
    1828 00009ad0                   SLEEP   1
    1829 00009b10     c0ee          jruc    MvH1Lp
    1830                    
    1831 00009b20           H1Dst:
    1832                            ;* Do Button Press Action
    1833 00009b20     5621          clr     A1
    1834 00009b30     09e2          movi    -050000H,A2
         00009b40 fffb0000  
    1835 00009b60     0d3f          callr   MoveHand
         00009b70     ff90  
    1836 00009b80                   SLEEP   1
    1837                    
    1838                            ;* Get Red Box on Screen
    1839 00009bc0                   SOUND1  BEEPSND         ;TACTILE FEEDBACK       
    1840 00009c20                   PULLP   A0      ;Pop dest Button
    1841 00009c40     9401          move    *A0+,A1,W       ;X offset
    1842 00009c50     0be1          subi    4,A1
         00009c60     fffb  
    1843 00009c70     8402          move    *A0,A2,W        ;Y offset
    1844 00009c80     b028          move    A1,*A8(OXPOS),W
         00009c90     0090  
    1845 00009ca0     b048          move    A2,*A8(OYPOS),W
         00009cb0     00b0  
    1846                    
    1847                            ;* Start LEDs Flashing
    1848 00009cc0                   CREATE  BLINKPID,Led1Blnk
    1849                    
    1850                            ;* Do we type something out?
    1851 00009d40     afa0          movb    *A13(PDATA),A0
         00009d50     0060  
    1852 00009d60     ca02          jrz     SkMsg
    1853 00009d70     0d3f          callr   PutLMsg
         00009d80     0550  
    1854 00009d90           SkMsg:
    1855                    
    1856 00009d90     5621          clr     A1
    1857 00009da0     09e2          movi    -050000H,A2
         00009db0 fffb0000  
    1858 00009dd0     0d3f          callr   MoveHand
         00009de0     ff69  
    1859 00009df0                   SLEEP   1
    1860 00009e30     5621          clr     A1
    1861 00009e40     09e2          movi    -040000H,A2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   45

         00009e50 fffc0000  
    1862 00009e70     0d3f          callr   MoveHand
         00009e80     ff5f  
    1863 00009e90                   SLEEP   1
    1864 00009ed0     5621          clr     A1
    1865 00009ee0     09e2          movi    070000H,A2
         00009ef0 00070000  
    1866 00009f10     0d3f          callr   MoveHand
         00009f20     ff55  
    1867 00009f30                   SLEEP   1
    1868                    
    1869                            ;* Get Red Box off Screen
    1870                            ;set Y to 450+SKYOFFSET, off bottom of screen
    1871 00009f70     09e0          movi    ((450+SKYTOPOF)*010000H),A0
         00009f80 02120000  
    1872 00009fa0     b208          move    A0,*A8(OYVAL),L
         00009fb0     00a0  
    1873                    
    1874 00009fc0     09c0          movi    12,A0
         00009fd0     000c  
    1875 00009fe0     0d5f          calla   RANDU
         00009ff0 00000000! 
    1876 0000a010     14c0          subk    6,A0
    1877 0000a020     ce04          jrn     NoHes
    1878 0000a030     ca03          jrz     NoHes
    1879 0000a040     0d5f          calla   PRCSLP
         0000a050 00000000! 
    1880 0000a070           NoHes:
    1881                    
    1882 0000a070                   PULLP   A0      ;# of buttons left to push
    1883 0000a090     1420          dec     A0
    1884 0000a0a0     ca03          jrz     Hand1Bye
    1885 0000a0b0                   PUSHP   A0
    1886 0000a0c0     c000          jruc    H1ButLp
         0000a0d0     ff73  
    1887                            
    1888                    
    1889 0000a0e0           Hand1Bye:
    1890 0000a0e0     18ce          movk    6,A14
    1891 0000a0f0                   PUSHP   A14
    1892                    
    1893 0000a100           Bye1Lp:
    1894 0000a100                   PULLP   A14     ;TIKS
    1895                    
    1896 0000a120     09e2          movi    0110000H,A2     ;Yvel
         0000a130 00110000  
    1897 0000a150     5621          clr     A1              ;Xvel
    1898 0000a160     0d3f          callr   MoveHand
         0000a170     ff30  
    1899                    
    1900 0000a180     142e          dec     A14
    1901 0000a190     ca06          jrz     Hand1X
    1902                    
    1903 0000a1a0                   PUSHP   A14     ;TIKS
    1904 0000a1b0                   SLEEP   1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   46

    1905 0000a1f0     c0f0          jruc    Bye1Lp
    1906                    
    1907 0000a200           Hand1X:
    1908 0000a200     b520          move    *A9(OPAL),A0,W
         0000a210     0160  
    1909 0000a220     0d5f          calla   UNGETPAL
         0000a230 00000000! 
    1910 0000a250                   DIE
    1911                    *************************************************************************
    1912                    
    1913                    *************************************************************************
    1914 0000a280           ButTbl:
    1915 0000a280     00b5          .WORD   182+MSUX,316+SKYTOPOF, 202+MSUX,316+SKYTOPOF
    1916 0000a2c0     00dd          .WORD   222+MSUX,316+SKYTOPOF, 242+MSUX,316+SKYTOPOF
    1917 0000a300     0105          .WORD   262+MSUX,316+SKYTOPOF, 282+MSUX,316+SKYTOPOF
    1918 0000a340     012d          .WORD   302+MSUX,316+SKYTOPOF, 322+MSUX,316+SKYTOPOF
    1919 0000a380     00c9          .WORD   202+MSUX,339+SKYTOPOF, 222+MSUX,339+SKYTOPOF
    1920 0000a3c0     00f1          .WORD   242+MSUX,339+SKYTOPOF, 262+MSUX,339+SKYTOPOF
    1921 0000a400     0119          .WORD   282+MSUX,339+SKYTOPOF, 302+MSUX,339+SKYTOPOF
    1922                    *************************************************************************
    1923                    
    1924                    *************************************************************************
    1925 0000a440           GetObjs:
    1926                    ;* Finds all manipulable scanner objects
    1927                    ;* and loads ptrs to each of them into the SCANDATA
    1928                    ;* object space.
    1929                    
    1930                            ;* allocate space for recording all ptrs to objects
    1931 0000a440     0d5f          calla   GETOBJ
         0000a450 00000000! 
    1932 0000a470     b20d          move    A0,*A13(SCANDATA),L
         0000a480     0060  
    1933 0000a490     ca61          jrz     GetObjsX
    1934 0000a4a0     0d5f          calla   CLROBJ
         0000a4b0 00000000! 
    1935                    
    1936                            ;* load up the led ptrs
    1937 0000a4d0     09e1          movi    BAKLST,A1,L
         0000a4e0 00000000! 
    1938 0000a500           Led1Scan:
    1939 0000a500     8621          move    *A1,A1,L
    1940 0000a510     ca07          jrz     Led1X
    1941 0000a520     b422          move    *A1(OZPOS),A2,W
         0000a530     00d0  
    1942 0000a540     0b42          cmpi    DASHLED_Z,A2
         0000a550     ffb4  
    1943 0000a560     cbf9          jrnz    Led1Scan
    1944 0000a570     9220          move    A1,*A0+,L
    1945 0000a580     c0f7          jruc    Led1Scan
    1946 0000a590           Led1X:
    1947                    
    1948                            ;* load up the led ptrs
    1949 0000a590     09e1          movi    BAKLST,A1,L
         0000a5a0 00000000! 
    1950 0000a5c0           Led2Scan:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   47

    1951 0000a5c0     8621          move    *A1,A1,L
    1952 0000a5d0     ca07          jrz     Led2X
    1953 0000a5e0     b422          move    *A1(OZPOS),A2,W
         0000a5f0     00d0  
    1954 0000a600     0b42          cmpi    SCANLED_Z,A2
         0000a610     ffb3  
    1955 0000a620     cbf9          jrnz    Led2Scan
    1956 0000a630     9220          move    A1,*A0+,L
    1957 0000a640     c0f7          jruc    Led2Scan
    1958 0000a650           Led2X:
    1959                    
    1960                            ;* load up the led ptrs
    1961 0000a650     09e1          movi    BAKLST,A1,L
         0000a660 00000000! 
    1962 0000a680           Led3Scan:
    1963 0000a680     8621          move    *A1,A1,L
    1964 0000a690     ca06          jrz     Led3X
    1965 0000a6a0     b422          move    *A1(OZPOS),A2,W
         0000a6b0     00d0  
    1966 0000a6c0     0b42          cmpi    RDRLED_Z,A2
         0000a6d0     ffb2  
    1967 0000a6e0     cbf9          jrnz    Led3Scan
    1968 0000a6f0     9220          move    A1,*A0+,L
    1969                    ;       jruc    Led3Scan
    1970 0000a700           Led3X:
    1971                    
    1972                            ;* load up the Alert ptrs
    1973 0000a700     09e1          movi    BAKLST,A1,L
         0000a710 00000000! 
    1974 0000a730           AlrtScan:
    1975 0000a730     8621          move    *A1,A1,L
    1976 0000a740     ca06          jrz     AlertX
    1977 0000a750     b422          move    *A1(OZPOS),A2,W
         0000a760     00d0  
    1978 0000a770     0b42          cmpi    ALERT_Z,A2
         0000a780     ffb1  
    1979 0000a790     cbf9          jrnz    AlrtScan
    1980 0000a7a0     9220          move    A1,*A0+,L
    1981                    ;       jruc    AlrtScan                ;cause their is only 1 Alert
    1982 0000a7b0           AlertX:
    1983                    
    1984                            ;* load up the Spkr ptrs
    1985 0000a7b0     09e1          movi    BAKLST,A1,L
         0000a7c0 00000000! 
    1986 0000a7e0           SpkrScan:
    1987 0000a7e0     8621          move    *A1,A1,L
    1988 0000a7f0     ca07          jrz     SpkrX
    1989 0000a800     b422          move    *A1(OZPOS),A2,W
         0000a810     00d0  
    1990 0000a820     0b42          cmpi    SPKR_Z,A2
         0000a830     ffb0  
    1991 0000a840     cbf9          jrnz    SpkrScan
    1992 0000a850     9220          move    A1,*A0+,L
    1993 0000a860     c0f7          jruc    SpkrScan
    1994 0000a870           SpkrX:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   48

    1995                    
    1996                            ;* load up the button box ptr
    1997 0000a870     09e1          movi    BAKLST,A1,L
         0000a880 00000000! 
    1998 0000a8a0           BoxScan:
    1999 0000a8a0     8621          move    *A1,A1,L
    2000 0000a8b0     ca06          jrz     BoxX
    2001 0000a8c0     b422          move    *A1(OZPOS),A2,W
         0000a8d0     00d0  
    2002 0000a8e0     0b42          cmpi    BUTBOX_Z,A2
         0000a8f0     ffaf  
    2003 0000a900     cbf9          jrnz    BoxScan
    2004 0000a910     9220          move    A1,*A0+,L
    2005                    ;       jruc    BoxScan
    2006 0000a920           BoxX:
    2007                    
    2008                            ;* load up the Hand ptrs
    2009 0000a920     09e1          movi    BAKLST,A1,L
         0000a930 00000000! 
    2010 0000a950           HandScan:
    2011 0000a950     8621          move    *A1,A1,L
    2012 0000a960     ca07          jrz     HandX
    2013 0000a970     b422          move    *A1(OZPOS),A2,W
         0000a980     00d0  
    2014 0000a990     0b42          cmpi    HAND_Z,A2
         0000a9a0     ffae  
    2015 0000a9b0     cbf9          jrnz    HandScan
    2016 0000a9c0     9220          move    A1,*A0+,L
    2017 0000a9d0     c0f7          jruc    HandScan
    2018 0000a9e0           HandX:
    2019                            ;* order hand parts sorted by increasing Y
    2020 0000a9e0     a601          move    -*A0,A1,L
    2021 0000a9f0     a602          move    -*A0,A2,L
    2022 0000aa00     b423          move    *A1(OYPOS),A3,W
         0000aa10     00b0  
    2023 0000aa20     b444          move    *A2(OYPOS),A4,W
         0000aa30     00b0  
    2024 0000aa40     4864          cmp     A3,A4
    2025 0000aa50     c703          jrgt    LdHand
    2026 0000aa60                   SWAP    A1,A2
    2027 0000aa90           LdHand:
    2028 0000aa90     9220          move    A1,*A0+,L
    2029 0000aaa0     9240          move    A2,*A0+,L
    2030                    
    2031 0000aab0           GetObjsX:
    2032 0000aab0     0960          rets
    2033                    *************************************************************************
    2034                    
    2035                    *************************************************************************
    2036 0000aac0           DoFocusSnd:
    2037 0000aac0                   push    A0
    2038 0000aad0     09e0          movi    FOCUSSND,A0
         0000aae0 00000c00' 
    2039 0000ab00     0d5f          calla   ONESND
         0000ab10 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   49

    2040 0000ab30                   pull    A0
    2041 0000ab50     0960          rets
    2042                    *************************************************************************
    2043                    
    2044                    *************************************************************************
    2045 0000ab60           Zoomer:
    2046                    ;Parms  A0-ptr to image
    2047                    ;               A1 - palette
    2048                    ;               A2 - Unpack buffer must be 16K bytes+1word in size
    2049                    ;       A14 gets clobbered
    2050                    
    2051 0000ab60     4dae          move    A13,A14
    2052 0000ab70     0b0e          addi    SCANSTCK+(7*020H),A14
         0000ab80     0154  
    2053 0000ab90     098e          mmtm    A14,A1,A2,A3,A4,A5,A6,A11
         0000aba0     7e10  
    2054                    
    2055 0000abb0     4d62          move    A11,A2          ;A11 contains address to unpack to..
    2056 0000abc0     0d5f          calla   UnpackRLC
         0000abd0 0000bcf0' 
    2057 0000abf0     4c46          move    A2,A6           ;A6 is src addr
    2058 0000ac00     1842          movk    2,A2                    ;* number of bits per pixel
    2059 0000ac10     09e3          movi    [28,127+MSUX],A3
         0000ac20 001c007e  
    2060 0000ac40     09c4          movi    128,A4
         0000ac50     0080  
    2061                    
    2062 0000ac60           ZPlot:
    2063 0000ac60     0d3f          callr   DoFocusSnd
         0000ac70     ffe4  
    2064 0000ac80     0d5f          calla   Plt3Pack
         0000ac90 0000cd00' 
    2065 0000acb0     182e          movk    1,A14
    2066 0000acc0                   jsrp    ZoomRest
    2067 0000ad30     2fe4          srl     1,A4
    2068 0000ad40     0b44          cmpi    1,A4
         0000ad50     fffe  
    2069 0000ad60     c7ef          jrgt    ZPlot
    2070                    
    2071 0000ad70     0d3f          callr   DoFocusSnd
         0000ad80     ffd3  
    2072 0000ad90     0d5f          calla   PlotPack
         0000ada0 0000c630' 
    2073                    
    2074 0000adc0     1830          movk    1,B0
    2075 0000add0     0590          move    B0,@voiceoff,W
         0000ade0 000060b0- 
    2076 0000ae00     0d3f          callr   ClrMsg
         0000ae10     06cf  
    2077 0000ae20     05b0          move    @CRIMENO,B0,W
         0000ae30 00000000! 
    2078 0000ae50     0d3f          callr   PutMssn
         0000ae60     0413  
    2079 0000ae70     09ce          movi    65,A14
         0000ae80     0041  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   50

    2080 0000ae90                   jsrp    ZoomRest
    2081                    
    2082 0000af00     1824          movk    1,A4
    2083 0000af10           Uplot:
    2084 0000af10     2424          sll     1,A4
    2085 0000af20     0d3f          callr   DoFocusSnd
         0000af30     ffb8  
    2086 0000af40     0d5f          calla   Plt3Pack
         0000af50 0000cd00' 
    2087 0000af70     182e          movk    1,A14
    2088 0000af80                   jsrp    ZoomRest
    2089 0000aff0     0b44          cmpi    128,A4
         0000b000     ff7f  
    2090 0000b010     cbef          jrnz    Uplot
    2091                    
    2092 0000b020     0d3f          callr   ClrMsuScr
         0000b030     fb29  
    2093                    
    2094 0000b040     4dae          move    A13,A14
    2095 0000b050     0b0e          addi    SCANSTCK,A14
         0000b060     0074  
    2096 0000b070     09ae          mmfm    A14,A1,A2,A3,A4,A5,A6,A11
         0000b080     087e  
    2097 0000b090                   RETP
    2098                    
    2099 0000b0c0           ZoomRest:
    2100 0000b0c0     4c08          move    A0,A8
    2101 0000b0d0     4c29          move    A1,A9
    2102 0000b0e0     4c4a          move    A2,A10
    2103 0000b0f0     4c6b          move    A3,A11
    2104 0000b100                   PUSHP   A4
    2105 0000b110                   PUSHP   A6
    2106 0000b120     4dc0          move    A14,A0
    2107 0000b130     0d5f          calla   PRCSLP
         0000b140 00000000! 
    2108 0000b160                   PULLP   A6
    2109 0000b180                   PULLP   A4
    2110 0000b1a0     4d00          move    A8,A0
    2111 0000b1b0     4d21          move    A9,A1
    2112 0000b1c0     4d42          move    A10,A2
    2113 0000b1d0     4d63          move    A11,A3
    2114 0000b1e0                   RETP
    2115                    *************************************************************************
    2116                    
    2117                    *************************************************************************
    2118 0000b210           Spreader:
    2119                    ;Parms  A0-ptr to image
    2120                    ;               A1 - palette
    2121 0000b210     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000b220     fff0  
    2122 0000b230     09e2          movi    OBJSTR+03000H,A2,L
         0000b240 00003000! 
    2123 0000b260     0d5f          calla   UnpackRLC
         0000b270 0000bcf0' 
    2124 0000b290     4c46          move    A2,A6           ;A6 is src addr
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   51

    2125 0000b2a0     1842          movk    2,A2                    ;* number of bits per pixel
    2126 0000b2b0     09e3          movi    [28,127+MSUX],A3
         0000b2c0 001c007e  
    2127                    
    2128 0000b2e0     b407          move    *A0(ISIZEX),A7
         0000b2f0     0000  
    2129 0000b300     2607          sll     16,A7   
    2130 0000b310     5708          clr     A8
    2131 0000b320     56a5          clr     A5              ;pixel pad
    2132 0000b330     09eb          movi    SprdTbl,A11
         0000b340 0000b5d0' 
    2133 0000b360           SPlot:
    2134 0000b360     120b          addk    16,A11
    2135 0000b370     856a          move    *A11,A10,W
    2136 0000b380     ca0c          jrz     SPlotX
    2137 0000b390     4d48          move    A10,A8
    2138 0000b3a0     4ce9          move    A7,A9
    2139 0000b3b0     5b09          divu    A8,A9
    2140 0000b3c0     4d24          move    A9,A4
    2141 0000b3d0     0d5f          calla   Plt4Pack
         0000b3e0 0000d1c0' 
    2142 0000b400                   SLEEP   1
    2143 0000b440     c0f1          jruc    SPlot
    2144 0000b450           SPlotX:
    2145 0000b450     160b          subk    16,A11
    2146                    
    2147 0000b460     09e5          movi    8000000,A5
         0000b470 007a1200  
    2148 0000b490     3c25  SStall: dsjs    A5,SStall       
    2149                    
    2150 0000b4a0           SPlot2:
    2151 0000b4a0     160b          subk    16,A11
    2152 0000b4b0     856a          move    *A11,A10,W
    2153 0000b4c0     ca0d          jrz     SPlot2X
    2154 0000b4d0     4d05          move    A8,A5
    2155 0000b4e0     4545          sub     A10,A5
    2156 0000b4f0     1025          inc     A5              ;round up
    2157 0000b500     2fe5          srl     1,A5
    2158 0000b510     4d48          move    A10,A8
    2159 0000b520     ca07          jrz     SpreadX
    2160 0000b530     4ce9          move    A7,A9
    2161 0000b540     5b09          divu    A8,A9
    2162 0000b550     4d24          move    A9,A4
    2163 0000b560     0d5f          calla   Plt4Pack
         0000b570 0000d1c0' 
    2164 0000b590     c0f0          jruc    SPlot2
    2165 0000b5a0           SPlot2X:
    2166                    
    2167 0000b5a0           SpreadX:
    2168 0000b5a0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000b5b0     0fff  
    2169 0000b5c0     0960          rets
    2170                    
    2171 0000b5d0           SprdTbl:
    2172 0000b5d0     0000          .word   0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   52

    2173 0000b5e0     0001          .word   1,2,4,6,8,10
    2174 0000b640     000d          .word   13,16,20,24,25,31
    2175 0000b6a0     0026          .word   38,46
    2176 0000b6c0     0036          .word   54,64
    2177 0000b6e0     004b          .word   75,86
    2178 0000b700     0062          .word   98,111
    2179 0000b720     007d          .word   125
    2180 0000b730     008c          .word   140
    2181 0000b740     009c          .word   156
    2182 0000b750     00ac          .word   172
    2183 0000b760     00be          .word   190
    2184 0000b770     00d2          .word   210
    2185 0000b780     00e8          .word   232
    2186 0000b790     0100          .word   256
    2187 0000b7a0     0000          .word   0
    2188                    *************************************************************************
    2189                    
    2190                    *************************************************************************
    2191 0000b7b0           DoMug:
    2192                    ;* PARMS
    2193                    ;crimeno
    2194 0000b7b0     09e0          movi    NARCS,A0
         0000b7c0 00000000! 
    2195 0000b7e0     0d5f          calla   GETFPAL
         0000b7f0 00000000! 
    2196 0000b810                   SLEEP   1
    2197 0000b850     09e3          MOVI    [28+SKYTOPOF,127+MSUX],A3       
         0000b860 006c007e  
    2198 0000b880     09e4          MOVI    [200,256],A4
         0000b890 00c80100  
    2199 0000b8b0     0d5f          CALLA   BLNKAREA                ;WIPE-OUT ANY LEFT OVER DATA
         0000b8c0 00000000! 
    2200 0000b8e0                   SLEEP   2
    2201 0000b920     05a5          move    @CRIMENO,A5,W
         0000b930 00000000! 
    2202 0000b950     0d3f          callr   GetMug
         0000b960     0018  
    2203 0000b970                   PUSHP   A0
    2204 0000b980                   PUSHP   A1
    2205 0000b990                   SLEEP   1       ;allow palette to be allocated
    2206 0000b9d0                   PULLP   A1
    2207 0000b9f0                   PULLP   A0
    2208 0000ba10                   jsrp    Zoomer
    2209                    
    2210 0000ba80     4c20          move    A1,A0
    2211 0000ba90     0d5f          calla   FREEPAL
         0000baa0 00000000! 
    2212 0000bac0                   RETP
    2213                    *************************************************************************
    2214                    
    2215                    *************************************************************************
    2216 0000baf0           GetMug:
    2217                    ;* PARM A5 - # of mug to load
    2218                            ;* load ptr to mug in A0
    2219                            ;* palette in A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   53

    2220                    
    2221 0000baf0     098f          mmtm    SP,A5
         0000bb00     0400  
    2222                    
    2223 0000bb10     24a5          sll     5,A5            ;long word ptr
    2224 0000bb20     0b25          addi    MugTbl,A5
         0000bb30 0000bbb0' 
    2225 0000bb50     86a0          move    *A5,A0,L
    2226 0000bb60     0d3f          callr   LdImgPal
         0000bb70     0057  
    2227                            
    2228 0000bb80     09af          mmfm    SP,A5
         0000bb90     0020  
    2229 0000bba0     0960          rets
    2230                    
    2231 0000bbb0           MugTbl:
    2232 0000bbb0 00000280"         .long   loafmug
    2233 0000bbd0 00000280"         .long   loafmug         ;pimpmug
    2234 0000bbf0 00000480"         .long   clownmug
    2235 0000bc10 00000300"         .long   hypomug
    2236 0000bc30 00000380"         .long   dumpmug
    2237 0000bc50 00000180"         .long   gangmug
    2238 0000bc70 00000400"         .long   rambomug
    2239 0000bc90 00000200"         .long   mbigmug         ;gaymug
    2240 0000bcb0 00000280"         .long   loafmug         ;snowmug
    2241 0000bcd0 00000200"         .long   mbigmug
    2242                    
    2243                    *************************************************************************
    2244                    
    2245                    *************************************************************************
    2246 0000bcf0           UnpackRLC:
    2247                    ;*****  This function takes a run length code image and generates the
    2248                    ;* packed form.  Right now this function only works with 4 color
    2249                    ;* images in the following format..
    2250                    ;*      [1][rrrrr][cc]
    2251                    ;*              r is a run length decoded as follows:
    2252                    ;*                      0 -> 68
    2253                    ;*                      1-31 -> 4-34
    2254                    ;*              cc is the color of the run.
    2255                    ;*      [00][c2][c1][c0]
    2256                    ;*              c0 - color pixel 0
    2257                    ;
    2258                    ;PARMS:
    2259                    ;       A0 ptr to image frame
    2260                    ;       A2 dest addr -- dest space needs at least 1 extra word of space
    2261                    
    2262                    ;RETURNS nothing
    2263                    
    2264 0000bcf0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000bd00     ffe0  
    2265 0000bd10     01e0          pushst
    2266                    
    2267 0000bd20     b403          move    *A0(ISIZEX),A3,W                ;size in bytes
         0000bd30     0000  
    2268 0000bd40     b404          move    *A0(ISIZEY),A4,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   54

         0000bd50     0010  
    2269 0000bd60     5e83          mpyu    A4,A3                           ;A3 # pixels to unpack
    2270                    
    2271 0000bd70     b606          move    *A0(ISAG),A6,L          ;A6 is src addr
         0000bd80     0040  
    2272 0000bd90     1506          subk    8,A6
    2273 0000bda0           PixLp:
    2274 0000bda0     1106          addk    8,A6
    2275 0000bdb0     8ec4          movb    *A6,A4
    2276 0000bdc0     ce05          jrn     RunLen
    2277                            ;* put pixels into packed data space
    2278 0000bdd0     8c82          movb    A4,*A2
    2279 0000bde0     10c2          addk    6,A2
    2280 0000bdf0     1463          subk    3,A3
    2281 0000be00     c3f9          jrhi    PixLp   
    2282 0000be10     c029          jruc    PixLpX
    2283 0000be20           RunLen:
    2284 0000be20     4c85          move    A4,A5
    2285 0000be30     2725          sll     25,A5   
    2286 0000be40     2ca5          srl     27,A5
    2287 0000be50     cb03          jrnz    SkSetLen
    2288 0000be60     09c5          movi    68,A5
         0000be70     0044  
    2289 0000be80     c001          jruc    GotLen
    2290 0000be90           SkSetLen:
    2291 0000be90     1065          addk    3,A5
    2292 0000bea0           GotLen:
    2293                    
    2294                            ;* in case of corrupted src data
    2295 0000bea0     4865          cmp     A3,A5
    2296 0000beb0     c201          jrls    CtOK
    2297 0000bec0     4c65          move    A3,A5
    2298 0000bed0           CtOK:
    2299                    
    2300 0000bed0     27c4          sll     30,A4
    2301 0000bee0     2c44          srl     30,A4
    2302 0000bef0     4ca7          move    A5,A7
    2303 0000bf00           PutRun:
    2304 0000bf00     0742          setf    2,0,1
    2305 0000bf10     5621          clr     A1              ;No adjust needed for dest ptr if field size is 2
    2306 0000bf20     0b45          cmpi    16,A5
         0000bf30     ffef  
    2307 0000bf40     c411          jrlt    RunLp   
    2308                    
    2309                            ;fill data out to a full word in length
    2310 0000bf50     4c88          move    A4,A8
    2311 0000bf60     2448          sll     2,A8    
    2312 0000bf70     4104          add     A8,A4   
    2313 0000bf80     4c88          move    A4,A8
    2314 0000bf90     2488          sll     4,A8    
    2315 0000bfa0     4104          add     A8,A4   
    2316 0000bfb0     4c88          move    A4,A8
    2317 0000bfc0     2508          sll     8,A8    
    2318 0000bfd0     4104          add     A8,A4   
    2319                            
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   55

    2320 0000bfe0     0750          setf    16,0,1
    2321 0000bff0     4ca1          move    A5,A1
    2322 0000c000     2fa5          srl     3,A5            ;divide by 8
    2323 0000c010     27a1          sll     29,A1   ; is there any remainder?
    2324 0000c020     ca03          jrz     SkAdj
    2325                    
    2326 0000c030     2c81          srl     28,A1   ;remainder * 2
    2327 0000c040     1601          subk    16,A1   
    2328 0000c050     1025          inc     A5
    2329 0000c060           SkAdj:
    2330                    
    2331 0000c060           RunLp:
    2332 0000c060     9282          move    A4,*A2+,1
    2333 0000c070     3c45          dsjs    A5,RunLp
    2334 0000c080     4022          add     A1,A2           ;readjust ptr if write went to far
    2335                    
    2336 0000c090     44e3          sub     A7,A3
    2337 0000c0a0     cbcf          jrnz    PixLp
    2338 0000c0b0           PixLpX:
    2339                    
    2340 0000c0b0     01c0          popst
    2341 0000c0c0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10
         0000c0d0     07ff  
    2342 0000c0e0     0960          rets
    2343                    *************************************************************************
    2344                    
    2345                    
    2346                    *************************************************************************
    2347 0000c0f0           LdImgPal:
    2348                    ;* PARMS
    2349                    ;       A0 ptr to image frame
    2350                    ;* RETURNS
    2351                    ;       A1 colormap allocated - returns EQ if no Pal Free
    2352 0000c0f0     098f          mmtm    SP,A0
         0000c100     8000  
    2353 0000c110     b600          move    *A0(ICMAP),A0,L
         0000c120     0060  
    2354 0000c130     0d5f          calla   GETFPAL
         0000c140 00000000! 
    2355 0000c160     ca02          jrz     LdPalX
    2356 0000c170     4c01          move    A0,A1
    2357 0000c180     1020          inc     A0              ;reset Z flag
    2358 0000c190           LdPalX:
    2359 0000c190     09af          mmfm    SP,A0
         0000c1a0     0001  
    2360 0000c1b0     0960          rets
    2361                    *************************************************************************
    2362                    
    2363                    *************************************************************************
    2364 0000c1c0           SetField1:
    2365                    ;* PARMS        A0-#bits to set field size to
    2366                    ;destroys A0
    2367                            ;*** set field size
    2368 0000c1c0     24a0          sll     5,A0
    2369 0000c1d0     0b20          addi    SetfTbl,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   56

         0000c1e0 0000c210' 
    2370 0000c200     0160          jump    A0
    2371 0000c210           SetfTbl:
    2372 0000c210     0741          setf    1,0,1           ;* can't set to Zero    
    2373 0000c220     0960          rets
    2374 0000c230     0741          setf    1,0,1   
    2375 0000c240     0960          rets
    2376 0000c250     0742          setf    2,0,1   
    2377 0000c260     0960          rets
    2378 0000c270     0743          setf    3,0,1   
    2379 0000c280     0960          rets
    2380 0000c290     0744          setf    4,0,1   
    2381 0000c2a0     0960          rets
    2382 0000c2b0     0745          setf    5,0,1   
    2383 0000c2c0     0960          rets
    2384 0000c2d0     0746          setf    6,0,1   
    2385 0000c2e0     0960          rets
    2386 0000c2f0     0747          setf    7,0,1   
    2387 0000c300     0960          rets
    2388 0000c310     0748          setf    8,0,1   
    2389 0000c320     0960          rets
    2390 0000c330     0749          setf    9,0,1   
    2391 0000c340     0960          rets
    2392 0000c350     074a          setf    10,0,1  
    2393 0000c360     0960          rets
    2394 0000c370     074b          setf    11,0,1  
    2395 0000c380     0960          rets
    2396 0000c390     074c          setf    12,0,1  
    2397 0000c3a0     0960          rets
    2398 0000c3b0     074d          setf    13,0,1  
    2399 0000c3c0     0960          rets
    2400 0000c3d0     074e          setf    14,0,1  
    2401 0000c3e0     0960          rets
    2402 0000c3f0     074f          setf    15,0,1  
    2403 0000c400     0960          rets
    2404 0000c410     0750          setf    16,0,1  
    2405 0000c420     0960          rets
    2406 0000c430     0751          setf    17,0,1  
    2407 0000c440     0960          rets
    2408 0000c450     0752          setf    18,0,1  
    2409 0000c460     0960          rets
    2410 0000c470     0753          setf    19,0,1  
    2411 0000c480     0960          rets
    2412 0000c490     0754          setf    20,0,1  
    2413 0000c4a0     0960          rets
    2414 0000c4b0     0755          setf    21,0,1  
    2415 0000c4c0     0960          rets
    2416 0000c4d0     0756          setf    22,0,1  
    2417 0000c4e0     0960          rets
    2418 0000c4f0     0757          setf    23,0,1  
    2419 0000c500     0960          rets
    2420 0000c510     0758          setf    24,0,1  
    2421 0000c520     0960          rets
    2422 0000c530     0759          setf    25,0,1  
    2423 0000c540     0960          rets
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   57

    2424 0000c550     075a          setf    26,0,1  
    2425 0000c560     0960          rets
    2426 0000c570     075b          setf    27,0,1  
    2427 0000c580     0960          rets
    2428 0000c590     075c          setf    28,0,1  
    2429 0000c5a0     0960          rets
    2430 0000c5b0     075d          setf    29,0,1  
    2431 0000c5c0     0960          rets
    2432 0000c5d0     075e          setf    30,0,1  
    2433 0000c5e0     0960          rets
    2434 0000c5f0     075f          setf    31,0,1  
    2435 0000c600     0960          rets
    2436 0000c610     0740          setf    32,0,1  
    2437 0000c620     0960          rets
    2438                    *************************************************************************
    2439                    
    2440                    
    2441                    *************************************************************************
    2442 0000c630           PlotPack:
    2443                    ;*****  This function plots a packed image.
    2444                    ;PARMS:
    2445                    ;       A0 ptr to image frame
    2446                    ;       A1 color map containing palette for image
    2447                    ;       A2 #bits per pixel
    2448                    ;       A3 packed Y:X screen coors to plot the image
    2449                    ;       A6 src addr
    2450                    
    2451                    ;RETURNS nothing
    2452                    
    2453 0000c630     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9
         0000c640     ffc0  
    2454 0000c650     01e0          pushst
    2455                    
    2456 0000c660     0b23          addi    SKYTOPOF*010000H,A3
         0000c670 00500000  
    2457                    
    2458 0000c690     05a5          move    @DISPLAYON,A5,W
         0000c6a0 00000000! 
    2459 0000c6c0                   PUSH    A5
    2460 0000c6d0     56a5          CLR     A5
    2461 0000c6e0     0585          MOVE    A5,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         0000c6f0 00000000! 
    2462 0000c710     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         0000c720 00000000! 
    2463                    
    2464 0000c740     0581          move    A1,@DMACMAP,W
         0000c750 01a80080  
    2465 0000c770     56e7          clr     A7
    2466 0000c780     ee67          movy    A3,A7
    2467 0000c790     2f87          srl     4,A7
    2468 0000c7a0     0523          zext    A3,W
    2469 0000c7b0     2463          sll     3,A3
    2470 0000c7c0     4067          add     A3,A7                   ;A7 is dest addr
    2471                    
    2472 0000c7d0     1909          movk    8,A9
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   58

    2473 0000c7e0     4449          sub     A2,A9   ;A9 # of bits needed to incr dest ptr by
    2474                    
    2475 0000c7f0     b403          move    *A0(ISIZEX),A3,W                ;size in bytes
         0000c800     0000  
    2476                            ;*** compute vertical adjust
    2477 0000c810     09c8          movi    512,A8                          ;512 bytes in horizontal row
         0000c820     0200  
    2478 0000c830     4468          sub     A3,A8
    2479 0000c840     2468          sll     3,A8                                    ;want bit address increment
    2480 0000c850     4c65          move    A3,A5
    2481 0000c860     b404          move    *A0(ISIZEY),A4,W
         0000c870     0010  
    2482                    
    2483 0000c880     4c40          move    A2,A0
    2484 0000c890     0d3f          callr   SetField1
         0000c8a0     ff91  
    2485 0000c8b0           YLp:
    2486 0000c8b0           XLp:
    2487 0000c8b0     9ac7          move    *A6+,*A7+,1
    2488 0000c8c0     4127          add     A9,A7
    2489 0000c8d0     3c63          dsjs    A3,XLp
    2490 0000c8e0     4ca3          move    A5,A3                   ;reset X count
    2491 0000c8f0     4107          add     A8,A7                   ;Vertical dest addr adjust
    2492 0000c900     3cc4          dsjs    A4,YLp
    2493                    
    2494 0000c910                   PULL    A5
    2495 0000c930     0585          MOVE    A5,@DISPLAYON,W         ;RESTORE DISPLAY PROC. STATE
         0000c940 00000000! 
    2496                    
    2497 0000c960     01c0          popst
    2498 0000c970     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9
         0000c980     03ff  
    2499 0000c990     0960          rets
    2500                    *************************************************************************
    2501                    
    2502                    
    2503                    *************************************************************************
    2504 0000c9a0           Plt2Pack:
    2505                    ;*****  This function sample plots a packed image with jaggies.
    2506                    ;PARMS:
    2507                    ;       A0 ptr to image frame
    2508                    ;       A1 color map containing palette for image
    2509                    ;       A2 #bits per pixel
    2510                    ;       A3 packed Y:X screen coors to plot the image
    2511                    ;       A4 #pixels plotted per pixel sampled
    2512                    ;       A6 src addr
    2513                    
    2514                    ;RETURNS nothing
    2515                    
    2516 0000c9a0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000c9b0     fff0  
    2517 0000c9c0     01e0          pushst
    2518                    
    2519 0000c9d0     0581          move    A1,@DMACMAP,W
         0000c9e0 01a80080  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   59

    2520 0000ca00     56e7          clr     A7
    2521 0000ca10     ee67          movy    A3,A7
    2522 0000ca20     2f87          srl     4,A7
    2523 0000ca30     0523          zext    A3,W
    2524 0000ca40     2463          sll     3,A3
    2525 0000ca50     4067          add     A3,A7                   ;A7 is dest addr
    2526                    
    2527 0000ca60     4c49          move    A2,A9
    2528 0000ca70     4c41          move    A2,A1
    2529 0000ca80     4c4a          move    A2,A10
    2530 0000ca90     5e89          mpyu    A4,A9                   ;A9 is x src increment in bits
    2531                    
    2532 0000caa0     b403          move    *A0(ISIZEY),A3,W                ;A3 - number rows left
         0000cab0     0010  
    2533 0000cac0     b402          move    *A0(ISIZEX),A2,W                ;A2 - bytes left on horizontal row
         0000cad0     0000  
    2534 0000cae0     4c45          move    A2,A5                   ;A5 # pixels in X dimension
    2535                            ;*** compute vertical adjust
    2536 0000caf0     09c8          movi    512,A8                          ;512 bytes in horizontal row
         0000cb00     0200  
    2537 0000cb10     4448          sub     A2,A8
    2538 0000cb20     2468          sll     3,A8                                    ;A8 = dest vertical adjust
    2539 0000cb30     5e81          mpyu    A4,A1
    2540 0000cb40     5e41          mpyu    A2,A1                           ;A1 = src vert inc.
    2541                    
    2542 0000cb50     4d40          move    A10,A0
    2543 0000cb60     0d3f          callr   SetField1
         0000cb70     ff64  
    2544 0000cb80     574a          clr     A10                             ;x pixel sample ct
    2545 0000cb90     576b          clr     A11                             ;y pixel sample ct
    2546 0000cba0           YLp2:
    2547 0000cba0     4cc0          move    A6,A0           ;record start of horizontal row
    2548 0000cbb0           XLp2:
    2549 0000cbb0     8ac7          move    *A6,*A7,1
    2550 0000cbc0     1107          addk    8,A7
    2551 0000cbd0     102a          inc     A10
    2552 0000cbe0     4944          cmp     A10,A4          ; is x ct = pix sample ct?
    2553 0000cbf0     cb02          jrnz    SkXinc
    2554 0000cc00     574a          clr     A10
    2555 0000cc10     4126          add     A9,A6           ; add X src inc
    2556 0000cc20           SkXinc:
    2557 0000cc20     3d02          dsjs    A2,XLp2
    2558 0000cc30     4c06          move    A0,A6           ;reset src back to start of horizontal row
    2559 0000cc40     102b          inc     A11
    2560 0000cc50     4964          cmp     A11,A4
    2561 0000cc60     cb02          jrnz    SkYinc
    2562 0000cc70     576b          clr     A11
    2563 0000cc80     4026          add     A1,A6           ;inc src (sample ct) vertical rows
    2564 0000cc90           SkYinc:
    2565 0000cc90     4ca2          move    A5,A2                   ;reset X count
    2566 0000cca0     4107          add     A8,A7                   ;Vertical dest addr adjust
    2567 0000ccb0     3e43          dsjs    A3,YLp2
    2568                    
    2569 0000ccc0     01c0          popst
    2570 0000ccd0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   60

         0000cce0     0fff  
    2571 0000ccf0     0960          rets
    2572                    *************************************************************************
    2573                    
    2574                    
    2575                    *************************************************************************
    2576 0000cd00           Plt3Pack:
    2577                    ;*****  This function sample plots a packed image without jaggies.
    2578                    ;PARMS:
    2579                    ;       A0 ptr to image frame
    2580                    ;       A1 color map containing palette for image
    2581                    ;       A2 #bits per pixel
    2582                    ;       A3 packed Y:X screen coors to plot the image
    2583                    ;       A4 #pixels plotted per pixel sampled
    2584                    ;       A6 src addr
    2585                    
    2586                    ;RETURNS nothing
    2587                    
    2588 0000cd00     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000cd10     fff0  
    2589 0000cd20     01e0          pushst
    2590                    
    2591 0000cd30     0b23          addi    SKYTOPOF*010000H,A3
         0000cd40 00500000  
    2592                    
    2593 0000cd60     05a5          move    @DISPLAYON,A5,W
         0000cd70 00000000! 
    2594 0000cd90                   PUSH    A5
    2595 0000cda0     56a5          CLR     A5
    2596 0000cdb0     0585          MOVE    A5,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         0000cdc0 00000000! 
    2597 0000cde0     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         0000cdf0 00000000! 
    2598                    
    2599 0000ce10     0581          move    A1,@DMACMAP,W
         0000ce20 01a80080  
    2600 0000ce40     56e7          clr     A7
    2601 0000ce50     ee67          movy    A3,A7
    2602 0000ce60     2f87          srl     4,A7
    2603 0000ce70     0523          zext    A3,W
    2604 0000ce80     2463          sll     3,A3
    2605 0000ce90     4067          add     A3,A7                   ;A7 is dest addr
    2606                    
    2607 0000cea0     4c49          move    A2,A9
    2608 0000ceb0     4c41          move    A2,A1
    2609 0000cec0     4c4a          move    A2,A10
    2610 0000ced0     5e89          mpyu    A4,A9                   ;A9 is x src increment in bits
    2611                    
    2612 0000cee0     b403          move    *A0(ISIZEY),A3,W                ;A3 - number rows left
         0000cef0     0010  
    2613 0000cf00     b402          move    *A0(ISIZEX),A2,W                ;A2 - bytes left on horizontal row
         0000cf10     0000  
    2614 0000cf20     4c45          move    A2,A5                   ;A5 # pixels in X dimension
    2615                            ;*** compute vertical adjust
    2616 0000cf30     09c8          movi    512,A8                          ;512 bytes in horizontal row
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   61

         0000cf40     0200  
    2617 0000cf50     4448          sub     A2,A8
    2618 0000cf60     2468          sll     3,A8                                    ;A8 = dest vertical adjust
    2619 0000cf70     5e81          mpyu    A4,A1
    2620 0000cf80     5e41          mpyu    A2,A1                           ;A1 = src vert inc.
    2621                    
    2622 0000cf90     4d40          move    A10,A0
    2623 0000cfa0     0d3f          callr   SetField1
         0000cfb0     ff20  
    2624 0000cfc0     86ce          move    *A6,A14,1               ;preload source value
    2625 0000cfd0     576b          clr     A11                             ;y pixel sample ct
    2626 0000cfe0           YLp3A:
    2627 0000cfe0     574a          clr     A10                             ;x pixel sample ct
    2628 0000cff0     4cc0          move    A6,A0           ;record start of horizontal row
    2629 0000d000           XLp3A:
    2630 0000d000     83c7          move    A14,*A7,1
    2631 0000d010     1107          addk    8,A7
    2632 0000d020     102a          inc     A10
    2633 0000d030     4944          cmp     A10,A4          ; is x ct = pix sample ct?
    2634 0000d040     cb03          jrnz    SkXinc3A
    2635 0000d050     574a          clr     A10
    2636 0000d060     4126          add     A9,A6           ; add X src inc
    2637 0000d070     86ce          move    *A6,A14,1
    2638 0000d080           SkXinc3A:
    2639 0000d080     3d22          dsjs    A2,XLp3A
    2640 0000d090     4c06          move    A0,A6           ;reset src back to start of horizontal row
    2641 0000d0a0     102b          inc     A11
    2642 0000d0b0     4964          cmp     A11,A4
    2643 0000d0c0     cb02          jrnz    SkYinc3A
    2644 0000d0d0     576b          clr     A11
    2645 0000d0e0     4026          add     A1,A6           ;inc src (sample ct) vertical rows
    2646 0000d0f0           SkYinc3A:
    2647 0000d0f0     86ce          move    *A6,A14,1
    2648 0000d100     4ca2          move    A5,A2                   ;reset X count
    2649 0000d110     4107          add     A8,A7                   ;Vertical dest addr adjust
    2650 0000d120     3ea3          dsjs    A3,YLp3A
    2651                    
    2652 0000d130                   PULL    A5
    2653 0000d150     0585          MOVE    A5,@DISPLAYON,W         ;RESTORE DISPLAY PROC. STATE
         0000d160 00000000! 
    2654                    
    2655 0000d180     01c0          popst
    2656 0000d190     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000d1a0     0fff  
    2657 0000d1b0     0960          rets
    2658                    *************************************************************************
    2659                    
    2660                    
    2661                    *************************************************************************
    2662 0000d1c0           Plt4Pack:
    2663                    ;*****  This function plots a packed image.
    2664                    ;PARMS:
    2665                    ;       A0 ptr to image frame
    2666                    ;       A1 color map containing palette for image
    2667                    ;       A2 #bits per pixel
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   62

    2668                    ;       A3 packed Y:X screen coors to plot the image
    2669                    ;       A4 XSrcInc
    2670                    ;       A5 # pixels to pad left & right with
    2671                    ;       A6 src addr
    2672                    
    2673                    ;RETURNS nothing
    2674                    
    2675 0000d1c0     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000d1d0     fff0  
    2676 0000d1e0     099f          mmtm    SP,B0,B1,B2
         0000d1f0     e000  
    2677 0000d200     01e0          pushst
    2678                    
    2679 0000d210     0581          move    A1,@DMACMAP,W
         0000d220 01a80080  
    2680 0000d240     56e7          clr     A7
    2681 0000d250     ee67          movy    A3,A7
    2682 0000d260     2f87          srl     4,A7
    2683 0000d270     0523          zext    A3,W
    2684 0000d280     2463          sll     3,A3
    2685 0000d290     4067          add     A3,A7                   ;A7 is Base dest addr
    2686                    
    2687 0000d2a0     b40b          move    *A0(ISIZEX),A11,W               ;size in bytes
         0000d2b0     0000  
    2688 0000d2c0     4f61          move    A11,B1
    2689 0000d2d0     4e42          move    A2,B2
    2690 0000d2e0     5e51          mpyu    B2,B1                   ;B1 - Src addr incr for one row
    2691 0000d2f0     4ec0          move    A6,B0
    2692 0000d300     4430          sub     B1,B0                   ;B0 - Src Address 
    2693                    
    2694 0000d310     4d6a          move    A11,A10
    2695 0000d320     260b          sll     16,A11
    2696 0000d330     5a8b          divu    A4,A11                  ;A11 = #pixels in destination row
    2697 0000d340     40ab          add     A5,A11                  ;add in left pad
    2698 0000d350     40ab          add     A5,A11                  ;add in right pad
    2699 0000d360     456a          sub     A11,A10
    2700 0000d370     2fea          srl     1,A10                   ;A10 = #bytes to offset start of dest row
    2701 0000d380     246a          sll     3,A10                   ;A10 = #bits to offset start of dest row
    2702 0000d390     4147          add     A10,A7
    2703                    
    2704                            ;*** compute vertical destination adjust as bit offset
    2705 0000d3a0     09c8          movi    512,A8                          ;512 bytes in horizontal row
         0000d3b0     0200  
    2706 0000d3c0     4568          sub     A11,A8
    2707 0000d3d0     2468          sll     3,A8                                    ;want bit address increment
    2708                    
    2709 0000d3e0     44ab          sub     A5,A11                  ;sub left pad
    2710 0000d3f0     44ab          sub     A5,A11                  ;sub right pad
    2711                    
    2712 0000d400     09ea          movi    010000H,A10             ;CONST Decr for X Src Ctr
         0000d410 00010000  
    2713 0000d430     4c81          move    A4,A1                   ;XSrcInc
    2714 0000d440     b404          move    *A0(ISIZEY),A4,W        ;set Y count
         0000d450     0010  
    2715                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   63

    2716 0000d460     4c40          move    A2,A0
    2717 0000d470     0d3f          callr   SetField1
         0000d480     fed3  
    2718                    
    2719 0000d490     4c29          move    A1,A9
    2720 0000d4a0     2e09          srl     16,A9
    2721 0000d4b0     2609          sll     16,A9
    2722 0000d4c0     4521          sub     A9,A1
    2723 0000d4d0     2e09          srl     16,A9
    2724 0000d4e0     5e49          mpyu    A2,A9
    2725                    
    2726 0000d4f0           YLp4:
    2727 0000d4f0     4030          add     B1,B0
    2728 0000d500     4e16          move    B0,A6
    2729                    
    2730 0000d510     4ca3          move    A5,A3
    2731 0000d520     ca04          jrz     SkLftPad
    2732 0000d530     1820          movk    1,A0
    2733 0000d540           LftPad:
    2734 0000d540     8c07          movb    A0,*A7
    2735 0000d550     1107          addk    8,A7
    2736 0000d560     3c63          dsjs    A3,LftPad
    2737 0000d570           SkLftPad:
    2738                    
    2739 0000d570     09e0          movi    -010000H,A0             ;XSrcCt
         0000d580 ffff0000  
    2740 0000d5a0     4d63          move    A11,A3                  ;reset X count
    2741 0000d5b0           XLp4:
    2742 0000d5b0     8ac7          move    *A6,*A7,1
    2743 0000d5c0     1107          addk    8,A7
    2744 0000d5d0     4126          add     A9,A6
    2745 0000d5e0     4020          add     A1,A0           ;inc X source ctr
    2746 0000d5f0     ce02          jrn     SkXFrac
    2747 0000d600     4540          sub     A10,A0
    2748 0000d610     4046          add     A2,A6
    2749 0000d620           SkXFrac:
    2750 0000d620     3d03          dsjs    A3,XLp4
    2751                    
    2752 0000d630     4ca3          move    A5,A3
    2753 0000d640     ca04          jrz     SkRgtPad
    2754 0000d650     1820          movk    1,A0
    2755 0000d660           RgtPad:
    2756 0000d660     8c07          movb    A0,*A7
    2757 0000d670     1107          addk    8,A7
    2758 0000d680     3c63          dsjs    A3,RgtPad
    2759 0000d690           SkRgtPad:
    2760                    
    2761 0000d690     4107          add     A8,A7                   ;Vertical dest addr adjust
    2762 0000d6a0     3f84          dsjs    A4,YLp4
    2763                    
    2764 0000d6b0     01c0          popst
    2765 0000d6c0     09bf          mmfm    SP,B0,B1,B2
         0000d6d0     0007  
    2766 0000d6e0     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11
         0000d6f0     0fff  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   64

    2767 0000d700     0960          rets
    2768                    *************************************************************************
    2769                    
    2770                    *************************************************************************
    2771 0000d710           Plt5Pack:
    2772                    ;*****  This function plots a packed image.
    2773                    ;PARMS:
    2774                    ;       A0 ptr to image frame
    2775                    ;       A1 color map containing palette for image
    2776                    ;       A2 #bits per pixel
    2777                    ;       A3 packed Y:X screen coors to plot the image
    2778                    ;       A6 src addr
    2779                    ;       A10 starting Y:X in image
    2780                    ;       A11 Ylen:Xlen
    2781                    
    2782                    ;RETURNS nothing
    2783                    
    2784 0000d710     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A14
         0000d720     fffa  
    2785 0000d730     01e0          pushst
    2786                    
    2787 0000d740     05a5          move    @DISPLAYON,A5,W
         0000d750 00000000! 
    2788 0000d770                   PUSH    A5
    2789 0000d780     56a5          CLR     A5
    2790 0000d790     0585          MOVE    A5,@DISPLAYON,W ;TURN OFF DISPLAY PROC.
         0000d7a0 00000000! 
    2791 0000d7c0     0d5f          CALLA   DMAQWAIT        ;AND WAIT FOR THE DMA TO CLEAR
         0000d7d0 00000000! 
    2792                    
    2793 0000d7f0     0581          move    A1,@DMACMAP,W
         0000d800 01a80080  
    2794                    
    2795                            ;compute dest addr
    2796 0000d820     56e7          clr     A7
    2797 0000d830     ee67          movy    A3,A7
    2798 0000d840     2f87          srl     4,A7
    2799 0000d850     0523          zext    A3,W
    2800 0000d860     2463          sll     3,A3
    2801 0000d870     4067          add     A3,A7           ;A7 is dest addr
    2802                    
    2803                            ;dest ptr horizontal inc
    2804 0000d880     190c          movk    8,A12
    2805 0000d890     444c          sub     A2,A12          ;A9 # of bits needed to incr dest ptr by
    2806                    
    2807 0000d8a0     56a5          clr     A5
    2808 0000d8b0     ed65          movx    A11,A5          ;X ct of pixels to plot                         
    2809 0000d8c0     ef64          movy    A11,A4
    2810 0000d8d0     2e04          srl     16,A4           ;Y ct of pixels to plot
    2811                    
    2812                            ;*** compute destination vertical adjust
    2813 0000d8e0     09c8          movi    512,A8          ;512 bytes in horizontal row
         0000d8f0     0200  
    2814 0000d900     44a8          sub     A5,A8
    2815 0000d910     2468          sll     3,A8            ;dest. vert. adj bit addr inc
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   65

    2816                    
    2817                            ;* compute starting src addr
    2818 0000d920     5729          clr     A9
    2819 0000d930     ed49          movx    A10,A9          ;horizontal start offset
    2820 0000d940     5e49          mpyu    A2,A9           ;mult by # bits per pix
    2821 0000d950     4126          add     A9,A6
    2822                    
    2823 0000d960     b409          move    *A0(ISIZEX),A9,W        ;src width in pix
         0000d970     0000  
    2824 0000d980     5e49          mpyu    A2,A9           ; mult  # pixels in row by pixel width
    2825 0000d990     4d20          move    A9,A0           ; Src delt for 1 entire row
    2826 0000d9a0     ef4e          movy    A10,A14
    2827 0000d9b0     2e0e          srl     16,A14
    2828 0000d9c0     5fc9          mpyu    A14,A9          ; mult by #hor rows to skip
    2829 0000d9d0     4126          add     A9,A6
    2830                    
    2831                            ;* compute src addr vert adj
    2832 0000d9e0     4ca3          move    A5,A3           ;#pixels plotted in hor row
    2833 0000d9f0     5e43          mpyu    A2,A3
    2834 0000da00     4460          sub     A3,A0           
    2835 0000da10     4c09          move    A0,A9           ;src vert adj 
    2836                    
    2837 0000da20     4c40          move    A2,A0
    2838 0000da30     0d3f          callr   SetField1
         0000da40     fe77  
    2839 0000da50           YLp5:
    2840 0000da50     4ca3          move    A5,A3                   ;reset X count
    2841 0000da60           XLp5:
    2842 0000da60     9ac7          move    *A6+,*A7+,1
    2843 0000da70     4187          add     A12,A7
    2844 0000da80     3c63          dsjs    A3,XLp5
    2845 0000da90     4107          add     A8,A7                   ;vert dest addr adj
    2846 0000daa0     4126          add     A9,A6                   ;vert src addr adj
    2847 0000dab0     3ce4          dsjs    A4,YLp5
    2848                    
    2849 0000dac0                   PULL    A5
    2850 0000dae0     0585          MOVE    A5,@DISPLAYON,W         ;RESTORE DISPLAY PROC. STATE
         0000daf0 00000000! 
    2851                    
    2852 0000db10     01c0          popst
    2853 0000db20     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A14
         0000db30     5fff  
    2854 0000db40     0960          rets
    2855                    *************************************************************************
    2856                    
    2857                    *************************************************************************
    2858 0000db50           PlotVBox:
    2859                    ;* called from VOX process to plot one bar in Graph
    2860                    ;* PARMS
    2861                    ;       A0 - color
    2862                    ;       A2 - Height
    2863                    ;       A5 - col #
    2864                    ;       A11 - palette
    2865                            
    2866 0000db50     098f          mmtm    SP,A1,A2,A3,A4,A5
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   66

         0000db60     7c00  
    2867                    
    2868                            ;bottom left of Vox Scan at 154:11 - add in offset of -4:6
    2869 0000db70     09e3          movi    000960012H+MSUX+(SKYTOPOF*010000H),A3
         0000db80 00e60011  
    2870 0000dba0     09c1          movi    3,A1
         0000dbb0     0003  
    2871 0000dbc0     5e41          mpyu    A2,A1
    2872 0000dbd0     2601          sll     16,A1
    2873 0000dbe0     e223          subxy   A1,A3           ;Add in adjustment for height
    2874 0000dbf0     09c1          movi    11,A1   
         0000dc00     000b  
    2875 0000dc10     5ea1          mpyu    A5,A1
    2876 0000dc20     e023          addxy   A1,A3           ;A3 - Y:X plot location
    2877                    
    2878 0000dc30     4c01          move    A0,A1           ;double up color #
    2879 0000dc40     2501          sll     8,A1
    2880 0000dc50     4020          add     A1,A0
    2881                    
    2882 0000dc60     4c01          move    A0,A1           ;A1 - Color:Pal
    2883 0000dc70     ca02          jrz     GotCP
    2884 0000dc80     2601          sll     16,A1
    2885 0000dc90     ed61          movx    A11,A1
    2886 0000dca0           GotCP:
    2887 0000dca0     09e2          movi    000020008H,A2   ;A2 - VSIZE:HSIZE
         0000dcb0 00020008  
    2888 0000dcd0     09e4          movi    02000000H,A4    ;A4 - SAG
         0000dce0 02000000  
    2889 0000dd00     09e5          movi    DMACAL,A5       ;A5 - offset:control
         0000dd10 0000800c  
    2890 0000dd30     0525          zext    A5,W
    2891                    
    2892 0000dd40     0d5f          calla   QDMAN
         0000dd50 00000000! 
    2893 0000dd70     09af          mmfm    SP,A1,A2,A3,A4,A5
         0000dd80     003e  
    2894 0000dd90     0960          rets
    2895                    *************************************************************************
    2896                    
    2897                    *************************************************************************
    2898 0000dda0           ChngHght:
    2899                    ;       A11 - palette
    2900                    ;* For Each Column Attempt to place height at desired height
    2901                    ;* height can shrink by at most 1.
    2902                    
    2903 0000dda0     56a5          clr     A5      ;col ctr
    2904 0000ddb0           ColHtLp:
    2905 0000ddb0     4ca1          move    A5,A1
    2906 0000ddc0     2461          sll     3,A1
    2907 0000ddd0     41a1          add     A13,A1
    2908 0000dde0     0b01          addi    PDATA,A1
         0000ddf0     0060  
    2909 0000de00     4c22          move    A1,A2
    2910 0000de10     8e24          movb    *A1,A4          ;A4 = current height of column
    2911 0000de20     0b02          addi    6*8,A2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   67

         0000de30     0030  
    2912 0000de40     8e46          movb    *A2,A6          ;A6 = desired height of column
    2913                    
    2914 0000de50     4886          cmp     A4,A6
    2915 0000de60     ca12          jrz     NoChng
    2916 0000de70     c708          jrgt    ColUp
    2917                    
    2918                            ;* Col Goes Down
    2919 0000de80     4c80          move    A4,A0
    2920 0000de90     1420          dec     A0
    2921 0000dea0     8c01          movb    A0,*A1          ;set new col height
    2922 0000deb0     5600          clr     A0              ;set color
    2923 0000dec0     4c82          move    A4,A2           ;set height
    2924 0000ded0     0d3f          callr   PlotVBox
         0000dee0     ffc6  
    2925 0000def0     c009          jruc    NoChng
    2926                    
    2927 0000df00           ColUp:
    2928 0000df00     8cc1          movb    A6,*A1          ;set new col height
    2929 0000df10     4cc1          move    A6,A1
    2930 0000df20     4c82          move    A4,A2
    2931 0000df30           ColUpLp:
    2932 0000df30     1022          inc     A2
    2933 0000df40     4c40          move    A2,A0
    2934 0000df50     0d3f          callr   PlotVBox
         0000df60     ffbe  
    2935 0000df70     4841          cmp     A2,A1
    2936 0000df80     c7fa          jrgt    ColUpLp
    2937                    
    2938 0000df90           NoChng:
    2939 0000df90     1025          inc     A5
    2940 0000dfa0     0b45          cmpi    6,A5
         0000dfb0     fff9  
    2941 0000dfc0     c4de          jrlt    ColHtLp
    2942                    
    2943 0000dfd0           ChngHX:
    2944 0000dfd0     0960          rets
    2945                    *************************************************************************
    2946                    
    2947                    
    2948                    ;*      Volume, VolumeDelta, count
    2949                    ;*      if volume=1, all bars on 1, no randomness
    2950 0000dfe0           VOXLOFF:
    2951 0000dfe0       01          .byte   1,0,7
    2952 0000dff8       14          .byte   20,0,1
    2953 0000e010       0a          .byte   10,0,2  
    2954 0000e028       14          .byte   20,0,1
    2955 0000e040       0a          .byte   10,0,2  
    2956 0000e058       14          .byte   20,0,1
    2957 0000e070       0a          .byte   10,0,2  
    2958 0000e088       14          .byte   20,0,1
    2959 0000e0a0       0a          .byte   10,0,2  
    2960 0000e0b8       14          .byte   20,0,1
    2961 0000e0d0       0f          .byte   15,0,1
    2962 0000e0e8       00          .byte   0,0,0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   68

    2963                    
    2964 0000e100           VOXCLOWN:
    2965 0000e100       01          .byte   1,0,8
    2966 0000e118       05          .byte   5,4,3   
    2967 0000e130       01          .byte   1,0,1   
    2968 0000e148       0a          .byte   10,0,10 
    2969 0000e160       00          .byte   0,0,0
    2970                    
    2971 0000e178           VOXDUMP:
    2972 0000e178       01          .byte   1,0,7
    2973 0000e190       19          .byte   25,0,1
    2974 0000e1a8       0f          .byte   15,0,6
    2975 0000e1c0       19          .byte   25,0,1
    2976 0000e1d8       0f          .byte   15,0,2
    2977 0000e1f0       00          .byte   0,0,0
    2978                    
    2979 0000e208           VOXHEAD:
    2980 0000e208       01          .byte   1,0,1
    2981 0000e220       14          .byte   20,0,5
    2982 0000e238       0f          .byte   15,0,6
    2983 0000e250       14          .byte   20,0,4
    2984 0000e268       0f          .byte   15,0,1
    2985 0000e280       00          .byte   0,0,0
    2986                    
    2987 0000e298           VOXPIMP:
    2988 0000e298       01          .byte   1,0,6
    2989 0000e2b0       0f          .byte   15,0,2
    2990 0000e2c8       02          .byte   2,0,3   
    2991 0000e2e0       14          .byte   20,0,2
    2992 0000e2f8       02          .byte   2,0,3   
    2993 0000e310       00          .byte   0,0,0
    2994                    
    2995 0000e328           VOXMBIG:
    2996 0000e328       01          .byte   1,0,6
    2997 0000e340       14          .byte   20,0,1
    2998 0000e358       02          .byte   2,0,1   
    2999 0000e370       16          .byte   22,0,1
    3000 0000e388       02          .byte   2,0,1   
    3001 0000e3a0       18          .byte   24,0,1
    3002 0000e3b8       02          .byte   2,0,1   
    3003 0000e3d0       14          .byte   20,0,1
    3004 0000e3e8       02          .byte   2,0,1   
    3005 0000e400       14          .byte   20,0,1
    3006 0000e418       02          .byte   2,0,1   
    3007 0000e430       12          .byte   18,0,1
    3008 0000e448       02          .byte   2,0,1   
    3009 0000e460       10          .byte   16,0,1
    3010 0000e478       02          .byte   2,0,1   
    3011 0000e490       0e          .byte   14,0,1
    3012 0000e4a8       02          .byte   2,0,1   
    3013 0000e4c0       0e          .byte   14,0,1
    3014 0000e4d8       02          .byte   2,0,1   
    3015 0000e4f0       0c          .byte   12,0,1
    3016 0000e508       02          .byte   2,0,1   
    3017 0000e520       0a          .byte   10,0,1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   69

    3018 0000e538       02          .byte   2,0,1   
    3019 0000e550       00          .byte   0,0,0
    3020                    
    3021                    
    3022 0000e568           VOXHYPO:
    3023 0000e568           VOXGANG:
    3024 0000e568           VOXTIMBO:
    3025 0000e568           VOXQUEEN:
    3026 0000e568       01          .byte   1,0,5
    3027 0000e580       00          .byte   0,0,0
    3028                    
    3029 0000e5a0                   .even
    3030                    
    3031                    *************************************************************************
    3032 0000e5a0           VSCAN:
    3033                    ;* PARMS
    3034                    ;crimeno
    3035 0000e5a0     05a0          move    @CRIMENO,A0,W
         0000e5b0 00000000! 
    3036 0000e5d0     24a0          sll     5,A0
    3037 0000e5e0     0b20          addi    VoiceTbl,A0
         0000e5f0 00011750' 
    3038 0000e610     8608          move    *A0,A8,L
    3039                            
    3040 0000e620     09e0          movi    VOXPAL,A0
         0000e630 00011dc0' 
    3041 0000e650     0d5f          calla   GETFPAL
         0000e660 00000000! 
    3042 0000e680     4c0b          move    A0,A11
    3043                    
    3044                            ;* clear first 6 bytes of process data for height of column vars
    3045 0000e690     5600          clr     A0
    3046 0000e6a0     b20d          move    A0,*A13(PDATA),L
         0000e6b0     0060  
    3047 0000e6c0     b00d          move    A0,*A13(PDATA+32),W     
         0000e6d0     0080  
    3048                    
    3049 0000e6e0           VRdLp:
    3050 0000e6e0     af01          movb    *A8(16),A1      ;Count
         0000e6f0     0010  
    3051 0000e700     ca35          jrz     VSCANX
    3052 0000e710     af0a          movb    *A8(8),A10      ;Delta
         0000e720     0008  
    3053 0000e730     8f09          movb    *A8,A9          ;Vol
    3054 0000e740     0b08          addi    24,A8
         0000e750     0018  
    3055                    
    3056 0000e760           VDeltLp:
    3057 0000e760                   PUSHP   A1
    3058 0000e770     56a5          clr     A5      ;Col Ctr
    3059 0000e780     4d22          move    A9,A2
    3060 0000e790           ColLp:
    3061 0000e790     0b42          cmpi    1,A2
         0000e7a0     fffe  
    3062 0000e7b0     ca0d          jreq    MaxHOk
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   70

    3063 0000e7c0     19c0          movk    14,A0
    3064 0000e7d0     0d5f          calla   RANDU
         0000e7e0 00000000! 
    3065 0000e800     14e0          subk    7,A0
    3066 0000e810     4002          add     A0,A2
    3067 0000e820     c101          jrp     MinHOk
    3068 0000e830     5642          clr     A2
    3069 0000e840           MinHOk:
    3070 0000e840     0b42          cmpi    34,A2
         0000e850     ffdd  
    3071 0000e860     c402          jrlt    MaxHOk
    3072 0000e870     09c2          movi    33,A2
         0000e880     0021  
    3073 0000e890           MaxHOk:
    3074 0000e890     4ca0          move    A5,A0
    3075 0000e8a0     2460          sll     3,A0    ;Byte Offset
    3076 0000e8b0     0b00          addi    PDATA+6*8,A0    ;skip col height indicators
         0000e8c0     0090  
    3077 0000e8d0     41a0          add     A13,A0
    3078 0000e8e0     8c40          movb    A2,*A0
    3079                    
    3080 0000e8f0           ColX:
    3081 0000e8f0     1025          inc     A5
    3082 0000e900     0b45          cmpi    6,A5            ;# of cols      
         0000e910     fff9  
    3083 0000e920     c4e6          jrlt    ColLp
    3084                    
    3085 0000e930     18a0          movk    5,A0
    3086 0000e940           AdjHtLp:
    3087 0000e940     ac0d          movb    A0,*A13(PDATA+6*16)     ;skip the 6 col heights, desired heights
         0000e950     00c0  
    3088 0000e960     0d3f          callr   ChngHght
         0000e970     ff42  
    3089 0000e980                   SLEEP   1
    3090 0000e9c0     afa0          movb    *A13(PDATA+6*16),A0
         0000e9d0     00c0  
    3091 0000e9e0     1420          dec     A0
    3092 0000e9f0     c1f4          jrp     AdjHtLp
    3093                    
    3094 0000ea00     4149          add     A10,A9  ;Add Delta to Volume
    3095 0000ea10                   PULLP   A1      ;Count
    3096 0000ea30     1421          dec     A1
    3097 0000ea40     cbd1          jrnz    VDeltLp
    3098                    
    3099 0000ea50     c0c8          jruc    VRdLp
    3100                            
    3101 0000ea60           VSCANX:
    3102 0000ea60     05b0          move    @CRIMENO,B0,W
         0000ea70 00000000! 
    3103 0000ea90     0d3f          callr   PutMatch
         0000eaa0     0040  
    3104 0000eab0     c021          jruc    VSCANXX
    3105                    
    3106 0000eac0     5600          clr     A0
    3107 0000ead0     0580          move    A0,@voiceoff,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   71

         0000eae0 000060b0- 
    3108 0000eb00           WaitFall:
    3109 0000eb00                   SLEEP   1
    3110 0000eb40     05a0          move    @voiceoff,A0,W
         0000eb50 000060b0- 
    3111 0000eb70     caf8          jrz     WaitFall
    3112                    
    3113 0000eb80     5600          clr     A0
    3114 0000eb90     4da1          move    A13,A1
    3115 0000eba0     0b01          addi    PDATA+6*8,A1
         0000ebb0     0090  
    3116 0000ebc0     18c2          movk    6,A2
    3117 0000ebd0           ClrHght:
    3118 0000ebd0     8c01          movb    A0,*A1
    3119 0000ebe0     1101          addk    8,A1
    3120 0000ebf0     3c62          dsjs    A2,ClrHght
    3121                    
    3122 0000ec00     09c0          movi    34,A0
         0000ec10     0022  
    3123 0000ec20           VScanOff:
    3124 0000ec20                   PUSHP   A0
    3125 0000ec30     0d3f          callr   ChngHght
         0000ec40     ff15  
    3126 0000ec50                   SLEEP   1
    3127 0000ec90                   PULLP   A0
    3128 0000ecb0     1420          dec     A0
    3129 0000ecc0     c1f5          jrp     VScanOff
    3130                    
    3131                            ;Free Voice Scanner Palette
    3132                    ;       move    A11,A0          ;Voxpal         this is now done in msuclear
    3133                    ;       calla   UNGETPAL
    3134                    
    3135 0000ecd0           VSCANXX:
    3136 0000ecd0                   DIE
    3137                    *************************************************************************
    3138                    
    3139                    
    3140                    *************************************************************************
    3141 0000ed00           PutPass:
    3142 0000ed00                   PUSH    A0
    3143 0000ed10     b5a0          MOVE    *A13(PROCID),A0,W
         0000ed20     0020  
    3144 0000ed30     0520          ZEXT    A0
    3145 0000ed40     0b60          CMPI    P1SWPID,A0
         0000ed50 ffff7eff  
    3146 0000ed70     cb04          JRNE    PUTPASS1
    3147 0000ed80     09f0          MOVI    PASS1MSG,B0
         0000ed90 0000f490' 
    3148 0000edb0     c003          JRUC    PUTPASS2
    3149 0000edc0           PUTPASS1
    3150 0000edc0     09f0          MOVI    PASS2MSG,B0
         0000edd0 0000f588' 
    3151 0000edf0           PUTPASS2
    3152 0000edf0                   PULL    A0
    3153 0000ee10     0790          move    B0,@msgptr,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   72

         0000ee20 00006070- 
    3154 0000ee40     09f0          MOVI    [268+SKYTOPOF,222+MSUX],B0      ;POSITION
         0000ee50 015c00dd  
    3155 0000ee70     0790          move    B0,@msgpos,L
         0000ee80 00006090- 
    3156 0000eea0     c01e          jruc    PutMsg
    3157 0000eeb0           PutMatch:
    3158 0000eeb0     24b0          sll     5,B0
    3159 0000eec0     0b30          addi    VMATCHTBL,B0
         0000eed0 000114d0' 
    3160 0000eef0     8610          move    *B0,B0,L
    3161 0000ef00     0790          move    B0,@msgptr,L
         0000ef10 00006070- 
    3162 0000ef30     09f0          MOVI    [268+SKYTOPOF,256+MSUX],B0      ;POSITION
         0000ef40 015c00ff  
    3163 0000ef60     0790          move    B0,@msgpos,L
         0000ef70 00006090- 
    3164 0000ef90     c00f          jruc    PutMsg
    3165 0000efa0           PutMssn:
    3166 0000efa0     24b0          sll     5,B0
    3167 0000efb0     0b30          addi    MSSNTBL,B0
         0000efc0 00011610' 
    3168 0000efe0     8610          move    *B0,B0,L
    3169 0000eff0     0790          move    B0,@msgptr,L
         0000f000 00006070- 
    3170 0000f020     09f0          MOVI    [268+SKYTOPOF,256+MSUX],B0      ;POSITION
         0000f030 015c00ff  
    3171 0000f050     0790          move    B0,@msgpos,L
         0000f060 00006090- 
    3172 0000f080     0300          jruc    PutMsg
    3173                    
    3174 0000f090           PutMsg:
    3175 0000f090     098f          mmtm    SP,A0,A6,A8,A9,A10,A11
         0000f0a0     82f0  
    3176 0000f0b0     07a8          move    @msgptr,A8,L
         0000f0c0 00006070- 
    3177 0000f0e0     07a9          move    @msgpos,A9,L
         0000f0f0 00006090- 
    3178 0000f110     5600          clr     A0              ;No Sleep
    3179 0000f120     09e6          MOVI    0FCFCH,A6
         0000f130 0000fcfc  
    3180 0000f150     09eb          MOVI    RD7FONT,A11
         0000f160 00000000! 
    3181 0000f180     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
    3182 0000f190                   JSRP    STRCNRM
    3183 0000f200     0788          move    A8,@msgptr,L
         0000f210 00006070- 
    3184 0000f230     0789          move    A9,@msgpos,L
         0000f240 00006090- 
    3185 0000f260     09af          mmfm    SP,A0,A6,A8,A9,A10,A11
         0000f270     0f41  
    3186 0000f280     0960          rets
    3187 0000f290           PutLMsg:
    3188 0000f290     098f          mmtm    SP,A0,A6,A8,A9,A10,A11
         0000f2a0     82f0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   73

    3189 0000f2b0     07a8          move    @msgptr,A8,L
         0000f2c0 00006070- 
    3190 0000f2e0     07a9          move    @msgpos,A9,L
         0000f2f0 00006090- 
    3191 0000f310     5600          clr     A0              ;No Sleep
    3192 0000f320     09e6          MOVI    0FCFCH,A6
         0000f330 0000fcfc  
    3193 0000f350     09eb          MOVI    RD7FONT,A11
         0000f360 00000000! 
    3194 0000f380     182a          MOVK    1,A10           ;ONE SPACE BETWEEN LETTERS
    3195 0000f390                   JSRP    STRLNRM
    3196 0000f400     0788          move    A8,@msgptr,L
         0000f410 00006070- 
    3197 0000f430     0789          move    A9,@msgpos,L
         0000f440 00006090- 
    3198 0000f460     09af          mmfm    SP,A0,A6,A8,A9,A10,A11
         0000f470     0f41  
    3199 0000f480     0960          rets
    3200                    *************************************************************************
    3201                    
    3202                    
    3203 0000f490           PASS1MSG:
    3204 0000f490       4e          .STRING "NARC 2000  PASSWORD:  "
         0000f498       41  
         0000f4a0       52  
         0000f4a8       43  
         0000f4b0       20  
         0000f4b8       32  
         0000f4c0       30  
         0000f4c8       30  
         0000f4d0       30  
         0000f4d8       20  
         0000f4e0       20  
         0000f4e8       50  
         0000f4f0       41  
         0000f4f8       53  
         0000f500       53  
         0000f508       57  
         0000f510       4f  
         0000f518       52  
         0000f520       44  
         0000f528       3a  
         0000f530       20  
         0000f538       20  
    3205 0000f540       00          .BYTE   0
    3206 0000f548       4d          .STRING "M"
    3207 0000f550       00          .BYTE   0
    3208 0000f558       41          .STRING "A"
    3209 0000f560       00          .BYTE   0
    3210 0000f568       58          .STRING "X"
    3211 0000f570       00          .BYTE   0
    3212 0000f578       31          .STRING "1"
    3213 0000f580       00          .BYTE   0
    3214                    
    3215 0000f588           PASS2MSG:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   74

    3216 0000f588       4e          .STRING "NARC 2000  PASSWORD:  "
         0000f590       41  
         0000f598       52  
         0000f5a0       43  
         0000f5a8       20  
         0000f5b0       32  
         0000f5b8       30  
         0000f5c0       30  
         0000f5c8       30  
         0000f5d0       20  
         0000f5d8       20  
         0000f5e0       50  
         0000f5e8       41  
         0000f5f0       53  
         0000f5f8       53  
         0000f600       57  
         0000f608       4f  
         0000f610       52  
         0000f618       44  
         0000f620       3a  
         0000f628       20  
         0000f630       20  
    3217 0000f638       00          .BYTE   0
    3218 0000f640       48          .STRING "H"
    3219 0000f648       00          .BYTE   0
    3220 0000f650       49          .STRING "I"
    3221 0000f658       00          .BYTE   0
    3222 0000f660       54          .STRING "T"
    3223 0000f668       00          .BYTE   0
    3224 0000f670       32          .STRING "2"
    3225 0000f678       00          .BYTE   0
    3226                    
    3227 0000f680                   .even
    3228                    
    3229 0000f680           VMLOFF:
    3230 0000f680       56          .STRING "VOICE MATCH:  DAS LOF GANG"
         0000f688       4f  
         0000f690       49  
         0000f698       43  
         0000f6a0       45  
         0000f6a8       20  
         0000f6b0       4d  
         0000f6b8       41  
         0000f6c0       54  
         0000f6c8       43  
         0000f6d0       48  
         0000f6d8       3a  
         0000f6e0       20  
         0000f6e8       20  
         0000f6f0       44  
         0000f6f8       41  
         0000f700       53  
         0000f708       20  
         0000f710       4c  
         0000f718       4f  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   75

         0000f720       46  
         0000f728       20  
         0000f730       47  
         0000f738       41  
         0000f740       4e  
         0000f748       47  
    3231 0000f750       00          .BYTE   0
    3232 0000f758           MSLOFF:
    3233 0000f758       49          .STRING "INVESTIGATE "
         0000f760       4e  
         0000f768       56  
         0000f770       45  
         0000f778       53  
         0000f780       54  
         0000f788       49  
         0000f790       47  
         0000f798       41  
         0000f7a0       54  
         0000f7a8       45  
         0000f7b0       20  
    3234 0000f7b8       22          .BYTE   22H
    3235 0000f7c0       50          .STRING "PIPELINE"
         0000f7c8       49  
         0000f7d0       50  
         0000f7d8       45  
         0000f7e0       4c  
         0000f7e8       49  
         0000f7f0       4e  
         0000f7f8       45  
    3236 0000f800       22          .BYTE   22H
    3237 0000f808       20          .STRING " HIDEOUT"
         0000f810       48  
         0000f818       49  
         0000f820       44  
         0000f828       45  
         0000f830       4f  
         0000f838       55  
         0000f840       54  
    3238 0000f848       00          .BYTE   0
    3239 0000f850                   .even
    3240 0000f850           ATNLOFF:
    3241 0000f850 00000000          .LONG   0,attnS,30,narc1S,0,0
    3242 0000f910           SNDLOFF:
    3243 0000f910 00000000          .LONG   0,SND511,47,prgrssS,45,letsgoS,0,0
    3244                    
    3245 0000fa10           VMPIMP:
    3246 0000fa10       56          .STRING "VOICE MATCH:  BEVON FACE"
         0000fa18       4f  
         0000fa20       49  
         0000fa28       43  
         0000fa30       45  
         0000fa38       20  
         0000fa40       4d  
         0000fa48       41  
         0000fa50       54  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   76

         0000fa58       43  
         0000fa60       48  
         0000fa68       3a  
         0000fa70       20  
         0000fa78       20  
         0000fa80       42  
         0000fa88       45  
         0000fa90       56  
         0000fa98       4f  
         0000faa0       4e  
         0000faa8       20  
         0000fab0       46  
         0000fab8       41  
         0000fac0       43  
         0000fac8       45  
    3247 0000fad0       00          .BYTE   0
    3248 0000fad8           MSPIMP:
    3249 0000fad8       41          .STRING "ARMED & DANGEROUS -- PROCEED WITH CAUTION"
         0000fae0       52  
         0000fae8       4d  
         0000faf0       45  
         0000faf8       44  
         0000fb00       20  
         0000fb08       26  
         0000fb10       20  
         0000fb18       44  
         0000fb20       41  
         0000fb28       4e  
         0000fb30       47  
         0000fb38       45  
         0000fb40       52  
         0000fb48       4f  
         0000fb50       55  
         0000fb58       53  
         0000fb60       20  
         0000fb68       2d  
         0000fb70       2d  
         0000fb78       20  
         0000fb80       50  
         0000fb88       52  
         0000fb90       4f  
         0000fb98       43  
         0000fba0       45  
         0000fba8       45  
         0000fbb0       44  
         0000fbb8       20  
         0000fbc0       57  
         0000fbc8       49  
         0000fbd0       54  
         0000fbd8       48  
         0000fbe0       20  
         0000fbe8       43  
         0000fbf0       41  
         0000fbf8       55  
         0000fc00       54  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   77

         0000fc08       49  
         0000fc10       4f  
         0000fc18       4e  
    3250 0000fc20       00          .BYTE   0
    3251 0000fc30                   .even
    3252 0000fc30           ATNPIMP:
    3253 0000fc30 00000000          .LONG   0,coderedS,40,SND773,45,prgrssS,0,0
    3254 0000fd30           SNDPIMP:
    3255 0000fd30 00000000          .LONG   0,watchS,50,letsgoS,0,0 
    3256                    
    3257 0000fdf0           VMCLOWN:
    3258 0000fdf0       56          .STRING "VOICE MATCH:  KINKY PINKY"
         0000fdf8       4f  
         0000fe00       49  
         0000fe08       43  
         0000fe10       45  
         0000fe18       20  
         0000fe20       4d  
         0000fe28       41  
         0000fe30       54  
         0000fe38       43  
         0000fe40       48  
         0000fe48       3a  
         0000fe50       20  
         0000fe58       20  
         0000fe60       4b  
         0000fe68       49  
         0000fe70       4e  
         0000fe78       4b  
         0000fe80       59  
         0000fe88       20  
         0000fe90       50  
         0000fe98       49  
         0000fea0       4e  
         0000fea8       4b  
         0000feb0       59  
    3259 0000feb8       00          .BYTE   0
    3260 0000fec0           MSCLOWN:
    3261 0000fec0       50          .STRING "PROTECT THE INNOCENT !"
         0000fec8       52  
         0000fed0       4f  
         0000fed8       54  
         0000fee0       45  
         0000fee8       43  
         0000fef0       54  
         0000fef8       20  
         0000ff00       54  
         0000ff08       48  
         0000ff10       45  
         0000ff18       20  
         0000ff20       49  
         0000ff28       4e  
         0000ff30       4e  
         0000ff38       4f  
         0000ff40       43  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   78

         0000ff48       45  
         0000ff50       4e  
         0000ff58       54  
         0000ff60       20  
         0000ff68       21  
    3262 0000ff70       00          .BYTE   0
    3263 0000ff80                   .even
    3264 0000ff80           ATNCLOWN:
    3265 0000ff80 00000000          .LONG   0,coderedS,0,0
    3266 00010000           SNDCLOWN:
    3267 00010000 0000000a          .LONG   10,whereruS,65,onrwayS,0,0
    3268                    
    3269 000100c0           VMHYPO:
    3270 000100c0       44          .STRING "DR. SPIKE RUSH (HYPOMAN) - CHEMIST/PUSHER"
         000100c8       52  
         000100d0       2e  
         000100d8       20  
         000100e0       53  
         000100e8       50  
         000100f0       49  
         000100f8       4b  
         00010100       45  
         00010108       20  
         00010110       52  
         00010118       55  
         00010120       53  
         00010128       48  
         00010130       20  
         00010138       28  
         00010140       48  
         00010148       59  
         00010150       50  
         00010158       4f  
         00010160       4d  
         00010168       41  
         00010170       4e  
         00010178       29  
         00010180       20  
         00010188       2d  
         00010190       20  
         00010198       43  
         000101a0       48  
         000101a8       45  
         000101b0       4d  
         000101b8       49  
         000101c0       53  
         000101c8       54  
         000101d0       2f  
         000101d8       50  
         000101e0       55  
         000101e8       53  
         000101f0       48  
         000101f8       45  
         00010200       52  
    3271 00010208       00          .BYTE   0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   79

    3272 00010210           MSHYPO:
    3273 00010210       42          .STRING "BUST HIM, DESTROY CLANDESTINE DRUG LAB"
         00010218       55  
         00010220       53  
         00010228       54  
         00010230       20  
         00010238       48  
         00010240       49  
         00010248       4d  
         00010250       2c  
         00010258       20  
         00010260       44  
         00010268       45  
         00010270       53  
         00010278       54  
         00010280       52  
         00010288       4f  
         00010290       59  
         00010298       20  
         000102a0       43  
         000102a8       4c  
         000102b0       41  
         000102b8       4e  
         000102c0       44  
         000102c8       45  
         000102d0       53  
         000102d8       54  
         000102e0       49  
         000102e8       4e  
         000102f0       45  
         000102f8       20  
         00010300       44  
         00010308       52  
         00010310       55  
         00010318       47  
         00010320       20  
         00010328       4c  
         00010330       41  
         00010338       42  
    3274 00010340       00          .BYTE   0
    3275 00010350                   .even
    3276 00010350           ATNHYPO:
    3277 00010350 00000000          .LONG   0,allunitsS,42,apbS,45,sarmedS,24,sightedS,0,0
    3278 00010490           SNDHYPO:
    3279 00010490 00000000          .LONG   0,pickupS,65,rogerS,0,0
    3280                    
    3281 00010550           VMDUMP:
    3282 00010550       56          .STRING "VOICE MATCH: JOE ROCKHED A.K.A. DUMPSTER MAN"
         00010558       4f  
         00010560       49  
         00010568       43  
         00010570       45  
         00010578       20  
         00010580       4d  
         00010588       41  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   80

         00010590       54  
         00010598       43  
         000105a0       48  
         000105a8       3a  
         000105b0       20  
         000105b8       4a  
         000105c0       4f  
         000105c8       45  
         000105d0       20  
         000105d8       52  
         000105e0       4f  
         000105e8       43  
         000105f0       4b  
         000105f8       48  
         00010600       45  
         00010608       44  
         00010610       20  
         00010618       41  
         00010620       2e  
         00010628       4b  
         00010630       2e  
         00010638       41  
         00010640       2e  
         00010648       20  
         00010650       44  
         00010658       55  
         00010660       4d  
         00010668       50  
         00010670       53  
         00010678       54  
         00010680       45  
         00010688       52  
         00010690       20  
         00010698       4d  
         000106a0       41  
         000106a8       4e  
    3283 000106b0       00          .BYTE   0
    3284 000106b8           MSDUMP:
    3285 000106b8       50          .STRING "P.C.P. ADDICT, PROCEED WITH CAUTION"
         000106c0       2e  
         000106c8       43  
         000106d0       2e  
         000106d8       50  
         000106e0       2e  
         000106e8       20  
         000106f0       41  
         000106f8       44  
         00010700       44  
         00010708       49  
         00010710       43  
         00010718       54  
         00010720       2c  
         00010728       20  
         00010730       50  
         00010738       52  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   81

         00010740       4f  
         00010748       43  
         00010750       45  
         00010758       45  
         00010760       44  
         00010768       20  
         00010770       57  
         00010778       49  
         00010780       54  
         00010788       48  
         00010790       20  
         00010798       43  
         000107a0       41  
         000107a8       55  
         000107b0       54  
         000107b8       49  
         000107c0       4f  
         000107c8       4e  
    3286 000107d0       00          .BYTE   0
    3287 000107e0                   .even
    3288 000107e0           ATNDUMP:
    3289 000107e0 00000000          .LONG   0,sarmedS,24,atlargeS,0,0
    3290 000108a0           SNDDUMP:
    3291 000108a0 0000000f          .LONG   15,getonitS,65,onrwayS,0,0
    3292                    
    3293 00010960           VMGANG:
    3294 00010960       48          .STRING "HQ POSSE - HEAVILY ARMED"
         00010968       51  
         00010970       20  
         00010978       50  
         00010980       4f  
         00010988       53  
         00010990       53  
         00010998       45  
         000109a0       20  
         000109a8       2d  
         000109b0       20  
         000109b8       48  
         000109c0       45  
         000109c8       41  
         000109d0       56  
         000109d8       49  
         000109e0       4c  
         000109e8       59  
         000109f0       20  
         000109f8       41  
         00010a00       52  
         00010a08       4d  
         00010a10       45  
         00010a18       44  
    3295 00010a20       00          .BYTE   0
    3296 00010a28           MSGANG:
    3297 00010a28       42          .STRING "BUST 'EM OR BLAST 'EM"
         00010a30       55  
         00010a38       53  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   82

         00010a40       54  
         00010a48       20  
         00010a50       27  
         00010a58       45  
         00010a60       4d  
         00010a68       20  
         00010a70       4f  
         00010a78       52  
         00010a80       20  
         00010a88       42  
         00010a90       4c  
         00010a98       41  
         00010aa0       53  
         00010aa8       54  
         00010ab0       20  
         00010ab8       27  
         00010ac0       45  
         00010ac8       4d  
    3298 00010ad0       00          .BYTE   0
    3299 00010ae0                   .even
    3300 00010ae0           ATNGANG:
    3301 00010ae0 00000000          .LONG   0,coderedS,40,sarmedS,0,0
    3302 00010ba0           SNDGANG:
    3303 00010ba0 00000000          .LONG   0,bustemS,60,wegotitS,0,0
    3304                    
    3305                    
    3306 00010c60           VMTIMBO:
    3307 00010c60       53          .STRING "SGT. SKYHIGH -- KNOWN CULTIVATOR"
         00010c68       47  
         00010c70       54  
         00010c78       2e  
         00010c80       20  
         00010c88       53  
         00010c90       4b  
         00010c98       59  
         00010ca0       48  
         00010ca8       49  
         00010cb0       47  
         00010cb8       48  
         00010cc0       20  
         00010cc8       2d  
         00010cd0       2d  
         00010cd8       20  
         00010ce0       4b  
         00010ce8       4e  
         00010cf0       4f  
         00010cf8       57  
         00010d00       4e  
         00010d08       20  
         00010d10       43  
         00010d18       55  
         00010d20       4c  
         00010d28       54  
         00010d30       49  
         00010d38       56  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   83

         00010d40       41  
         00010d48       54  
         00010d50       4f  
         00010d58       52  
    3308 00010d60       00          .BYTE   0
    3309 00010d68           MSTIMBO:
    3310 00010d68       48          .STRING "HARVEST TIME -- ENJOY!"
         00010d70       41  
         00010d78       52  
         00010d80       56  
         00010d88       45  
         00010d90       53  
         00010d98       54  
         00010da0       20  
         00010da8       54  
         00010db0       49  
         00010db8       4d  
         00010dc0       45  
         00010dc8       20  
         00010dd0       2d  
         00010dd8       2d  
         00010de0       20  
         00010de8       45  
         00010df0       4e  
         00010df8       4a  
         00010e00       4f  
         00010e08       59  
         00010e10       21  
    3311 00010e18       00          .BYTE   0
    3312 00010e20                   .even
    3313 00010e20           ATNTIMBO:
    3314 00010e20 00000000          .LONG   0,allunitsS,42,apbS,45,sarmedS,0,0
    3315 00010f20           SNDTIMBO:
    3316 00010f20 00000040          .LONG   64,watchS,70,letsgoS,0,0        
    3317                    
    3318 00010fe0           VMHEAD:
    3319 00010fe0       4d          .STRING "MR. BIG LIVES !"
         00010fe8       52  
         00010ff0       2e  
         00010ff8       20  
         00011000       42  
         00011008       49  
         00011010       47  
         00011018       20  
         00011020       4c  
         00011028       49  
         00011030       56  
         00011038       45  
         00011040       53  
         00011048       20  
         00011050       21  
    3320 00011058       00          .BYTE   0
    3321 00011060           MSHEAD:
    3322 00011060       21          .STRING "!! BEWARE !!"
         00011068       21  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   84

         00011070       20  
         00011078       42  
         00011080       45  
         00011088       57  
         00011090       41  
         00011098       52  
         000110a0       45  
         000110a8       20  
         000110b0       21  
         000110b8       21  
    3323 000110c0       00          .BYTE   0
    3324 000110d0                   .even
    3325 000110d0           ATNHEAD:
    3326 000110d0 00000024          .LONG   024H,UDIE1SND,0,0
    3327 00011150           SNDHEAD:
    3328 00011150 00000030          .LONG   030H,SLOWLAFF,0,0
    3329                    
    3330 000111d0           VMQUEEN:
    3331                    ;       .STRING "VOICE MATCH:  SNOWQUEEN"
    3332 000111d0       00          .BYTE   0
    3333 000111d8           MSQUEEN:
    3334                    ;       .STRING "WICKED BITCH -- NAIL HER GOOD"
    3335 000111d8       00          .BYTE   0
    3336 000111e0                   .even
    3337 000111e0           ATNQUEEN:
    3338 000111e0           SNDQUEEN:
    3339 000111e0 00000000          .LONG   0,0
    3340                    
    3341 00011220           VMMBIG:
    3342 00011220       56          .STRING "VOICE MATCH:  MR. BIG!"
         00011228       4f  
         00011230       49  
         00011238       43  
         00011240       45  
         00011248       20  
         00011250       4d  
         00011258       41  
         00011260       54  
         00011268       43  
         00011270       48  
         00011278       3a  
         00011280       20  
         00011288       20  
         00011290       4d  
         00011298       52  
         000112a0       2e  
         000112a8       20  
         000112b0       42  
         000112b8       49  
         000112c0       47  
         000112c8       21  
    3343 000112d0       00          .BYTE   0
    3344 000112d8           MSMBIG:
    3345 000112d8       50          .STRING "PUBLIC ENEMY #1 -- APPREHEND AT ALL COSTS!"
         000112e0       55  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   85

         000112e8       42  
         000112f0       4c  
         000112f8       49  
         00011300       43  
         00011308       20  
         00011310       45  
         00011318       4e  
         00011320       45  
         00011328       4d  
         00011330       59  
         00011338       20  
         00011340       23  
         00011348       31  
         00011350       20  
         00011358       2d  
         00011360       2d  
         00011368       20  
         00011370       41  
         00011378       50  
         00011380       50  
         00011388       52  
         00011390       45  
         00011398       48  
         000113a0       45  
         000113a8       4e  
         000113b0       44  
         000113b8       20  
         000113c0       41  
         000113c8       54  
         000113d0       20  
         000113d8       41  
         000113e0       4c  
         000113e8       4c  
         000113f0       20  
         000113f8       43  
         00011400       4f  
         00011408       53  
         00011410       54  
         00011418       53  
         00011420       21  
    3346 00011428       00          .BYTE   0
    3347 00011430                   .even
    3348 00011430           ATNMBIG:
    3349 00011430           SNDMBIG:
    3350 00011430 00000000          .LONG   0,nicejobS,50,0,0
    3351                    
    3352 000114d0           VMATCHTBL:
    3353 000114d0 0000f680'         .LONG     VMLOFF,   VMPIMP,  VMCLOWN,   VMHYPO,   VMDUMP,   VMGANG
    3354 00011590 00010c60'         .LONG    VMTIMBO,    VMHEAD,  VMQUEEN,   VMMBIG
    3355 00011610           MSSNTBL:
    3356 00011610 0000f758'         .LONG     MSLOFF,   MSPIMP,  MSCLOWN,   MSHYPO,   MSDUMP,   MSGANG
    3357 000116d0 00010d68'         .LONG    MSTIMBO,    MSHEAD,  MSQUEEN,   MSMBIG
    3358 00011750           VoiceTbl:
    3359 00011750 0000dfe0'         .LONG    VOXLOFF,  VOXPIMP, VOXCLOWN,  VOXHYPO,  VOXDUMP,  VOXGANG
    3360 00011810 0000e568'         .LONG   VOXTIMBO,   VOXHEAD, VOXQUEEN,  VOXMBIG
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   86

    3361 00011890           MSSNSNDS:
    3362 00011890 0000f910'         .LONG    SNDLOFF,  SNDPIMP, SNDCLOWN,  SNDHYPO,  SNDDUMP,  SNDGANG
    3363 00011950 00010f20'         .LONG   SNDTIMBO,   SNDHEAD, SNDQUEEN,  SNDMBIG
    3364 000119d0           ATTNSNDS:
    3365 000119d0 0000f850'         .LONG    ATNLOFF,  ATNPIMP, ATNCLOWN,  ATNHYPO,  ATNDUMP,  ATNGANG
    3366 00011a90 00010e20'         .LONG   ATNTIMBO,   ATNHEAD, ATNQUEEN,  ATNMBIG
    3367                    
    3368 00011b10                   .even
    3369                    *************************************************************************
    3370 00011b10           ClrMsg:
    3371                    ;* PARMS
    3372                    ;       A0 - color
    3373                    ;       A2 - Height
    3374                    ;       A5 - col #
    3375                    ;       A11 - palette
    3376                            
    3377 00011b10     098f          mmtm    SP,A1,A2,A3,A4,A5
         00011b20     7c00  
    3378                    
    3379 00011b30     09e1          movi    001010000H,A1   ;A1 - Color:Pal
         00011b40 01010000  
    3380 00011b60     09e2          movi    0000B00FCH,A2   ;A2 - VSIZE:HSIZE
         00011b70 000b00fc  
    3381 00011b90     09e3          movi    [267+SKYTOPOF,105+MSUX],A3      ;A3 - Y:X plot location
         00011ba0 015b0068  
    3382 00011bc0     09e4          movi    02000000H,A4    ;A4 - SAG
         00011bd0 02000000  
    3383 00011bf0     09e5          movi    DMACAL,A5       ;A5 - offset:control
         00011c00 0000800c  
    3384 00011c20     0525          zext    A5,W
    3385 00011c30     0d5f          calla   QDMAN
         00011c40 00000000! 
    3386                    
    3387 00011c60     09e1          movi    001010000H,A1   ;A1 - Color:Pal
         00011c70 01010000  
    3388 00011c90     09e2          movi    0000B0030H,A2   ;A2 - VSIZE:HSIZE
         00011ca0 000b0030  
    3389 00011cc0     09e3          movi    [267+SKYTOPOF,357+MSUX],A3      ;A3 - Y:X plot location
         00011cd0 015b0164  
    3390 00011cf0     09e4          movi    02000000H,A4    ;A4 - SAG
         00011d00 02000000  
    3391 00011d20     09e5          movi    DMACAL,A5       ;A5 - offset:control
         00011d30 0000800c  
    3392 00011d50     0525          zext    A5,W
    3393 00011d60     0d5f          calla   QDMAN
         00011d70 00000000! 
    3394                    
    3395 00011d90     09af          mmfm    SP,A1,A2,A3,A4,A5
         00011da0     003e  
    3396 00011db0     0960          rets
    3397                    *************************************************************************
    3398                    
    3399                    
    3400 00011dc0           VOXPAL:
    3401 00011dc0     0025          .WORD   37
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:21:09 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- Mug Plotter >>>                                  PAGE   87

    3402 00011dd0     7c00          .word   (31 *1024)+( 0 *32)+( 0 )       ; 1
    3403 00011de0     7c20          .word   (31 *1024)+( 1 *32)+( 0 )       ; 2
    3404 00011df0     7c40          .word   (31 *1024)+( 2 *32)+( 0 )       ; 3
    3405 00011e00     7c60          .word   (31 *1024)+( 3 *32)+( 0 )       ; 4
    3406 00011e10     7c80          .word   (31 *1024)+( 4 *32)+( 0 )       ; 5
    3407 00011e20     7ca0          .word   (31 *1024)+( 5 *32)+( 0 )       ; 6
    3408 00011e30     7cc0          .word   (31 *1024)+( 6 *32)+( 0 )       ; 7
    3409 00011e40     7ce0          .word   (31 *1024)+( 7 *32)+( 0 )       ; 8
    3410 00011e50     7d00          .word   (31 *1024)+( 8 *32)+( 0 )       ; 9
    3411 00011e60     7d20          .word   (31 *1024)+( 9 *32)+( 0 )       ; 10
    3412 00011e70     7d40          .word   (31 *1024)+(10 *32)+( 0 )       ; 11
    3413 00011e80     7d60          .word   (31 *1024)+(11 *32)+( 0 )       ; 12
    3414 00011e90     7d80          .word   (31 *1024)+(12 *32)+( 0 )       ; 13
    3415 00011ea0     7da0          .word   (31 *1024)+(13 *32)+( 0 )       ; 14
    3416 00011eb0     7dc0          .word   (31 *1024)+(14 *32)+( 0 )       ; 15
    3417 00011ec0     7de0          .word   (31 *1024)+(15 *32)+( 0 )       ; 16
    3418 00011ed0     7e00          .word   (31 *1024)+(16 *32)+( 0 )       ; 17
    3419 00011ee0     7e20          .word   (31 *1024)+(17 *32)+( 0 )       ; 18
    3420 00011ef0     7e40          .word   (31 *1024)+(18 *32)+( 0 )       ; 19
    3421 00011f00     7e60          .word   (31 *1024)+(19 *32)+( 0 )       ; 20
    3422 00011f10     7e80          .word   (31 *1024)+(20 *32)+( 0 )       ; 21
    3423 00011f20     7ea0          .word   (31 *1024)+(21 *32)+( 0 )       ; 22
    3424 00011f30     7ec0          .word   (31 *1024)+(22 *32)+( 0 )       ; 23
    3425 00011f40     7ee0          .word   (31 *1024)+(23 *32)+( 0 )       ; 24
    3426 00011f50     7f00          .word   (31 *1024)+(24 *32)+( 0 )       ; 25
    3427 00011f60     7f20          .word   (31 *1024)+(25 *32)+( 0 )       ; 26
    3428 00011f70     7f40          .word   (31 *1024)+(26 *32)+( 0 )       ; 27
    3429 00011f80     7f60          .word   (31 *1024)+(27 *32)+( 0 )       ; 28
    3430 00011f90     7f80          .word   (31 *1024)+(28 *32)+( 0 )       ; 29
    3431 00011fa0     7fa0          .word   (31 *1024)+(29 *32)+( 0 )       ; 30
    3432 00011fb0     7fc0          .word   (31 *1024)+(30 *32)+( 0 )       ; 31
    3433 00011fc0     7fe0          .word   (31 *1024)+(31 *32)+( 0 )       ; 32
    3434 00011fd0     7fc0          .word   (31 *1024)+(30 *32)+( 0 )       ; 33
    3435 00011fe0     7fe0          .word   (31 *1024)+(31 *32)+( 0 )       ; 34
    3436 00011ff0     7fe0          .word   (31 *1024)+(31 *32)+( 0 )       ; 35
    3437 00012000     7fe0          .word   (31 *1024)+(31 *32)+( 0 )       ; 36
    3438                    
    3439                            .END

 No Errors,  No Warnings
