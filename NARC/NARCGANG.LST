TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .FILE   "NARCGANG.ASM"
       3                    
       4                    **************************************************************************
       5                    *                                                                        *
       6                    *       COPYRIGHT (C) 1988 WILLIAMS ELECTRONICS GAMES, INC.              *
       7                    *       ALL RIGHTS RESERVED.                                             *
       8                    *                                                                        *
       9                    **************************************************************************
      10                    
      11                            .WIDTH  132
      12                            .OPTION B,D,L
      13                            .MNOLIST
      14                    
      15                    *       GET THE SYSTEM STUFF
      16                            .INCLUDE        "\video\mprocEQU.ASM"   ;MPROC equates
      17                            .INCLUDE        "\video\DISPEQU.ASM"    ;Display processor equates
      18                            .INCLUDE        "\video\GSP.INC"        ;GSP assembler equates
      19                            .INCLUDE        "\video\SYS.INC"        ;Zunit system equates
      20                            .INCLUDE        "\video\MACROS.HDR"     ;Macros, Yeah!
      21                    *       LOCAL STUFF
      22                            .INCLUDE        "NARCEQU.ASM"           ;NARC Equates
      23                            .INCLUDE        "NARCTEQU.ASM"
      24                            .include        "imgtbl.glo"
      25                            .INCLUDE        "NARCFRAG.GLO"
      26                    
      27                            .include        "narcgang.tbl"
      28                            .GLOBL  GANGCRM1
      29                    
      30 00000000                   .bss    gangcol,16,1
      31                    
      32              0009  MAXGANG .set    9
      33              0120  BCMD    .set    MAXGANG*32
      34                    
      35                    ;BOSS process block offsets
      36              0180  BIDLEANI .set   ETEMP1
      37                    ;ACTION .set    ETEMP2+16       ;set in narctequ
      38              01c0  BSYNC   .set    ETEMP3          ;* sync counter - word
      39              01d0  BHOME   .set    ETEMP3+16       ;* homing tick ctr
      40              01e0  BZXPOS  .set    ETEMP4
      41              01e0  BXPOS   .set    ETEMP4
      42              01f0  BZPOS   .set    ETEMP4+16
      43              0200  BVICT   .set    ETEMP5          ;* ptr to players data block 
      44              0220  BFORM   .set    ETEMP6
      45                    
      46                    ;valide actions
      47              0000  IDLEACT .set    0
      48              0001  FIREACT .set    1
      49                    
      50                    ********** GEORGE -- COMMENT THIS STUFF OUT **************
      51                    ;* Also uncomment RETS in VARINIT
      52                    ;       .BSS    gangbmax,16,16          ;U - # of active bosses 
      53                    ;       .BSS    gangrock,16,16          ;U - chance/1000 of gangster having a rocket
      54                    ;       .BSS    gangmgun,16,16          ;U - (clips*gangmgun)/1000 chance of machine gunning
      55                    ;       .BSS    gangfrck,16,16          ;U - (clips*gangmgun)/1000 chance of machine gunning
      56 00000010                   .BSS    gangclip,16,16          ;U - chance/1000 of gangster having a clip
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    2

      57                    
      58 00000000                   .TEXT
      59 00000000           VARINIT:
      60 00000000     09c0          movi    130,A0
         00000010     0082  
      61 00000020     0580          move    A0,@gangclip,W
         00000030 00000010- 
      62 00000050     0960          rets
      63 00000060     09c0          movi    400,A0
         00000070     0190  
      64 00000080     0580          move    A0,@gangmgun,W
         00000090 00000000! 
      65 000000b0     09c0          movi    300,A0
         000000c0     012c  
      66 000000d0     0580          move    A0,@gangfrck,W
         000000e0 00000000! 
      67 00000100     1820          movk    1,A0
      68 00000110     0580          move    A0,@gangbmax,W
         00000120 00000000! 
      69 00000140     09c0          movi    220,A0
         00000150     00dc  
      70 00000160     0580          move    A0,@gangrock,W
         00000170 00000000! 
      71 00000190     0960          rets
      72                    **********************************************************
      73                    
      74                    ************************* FUNCTION TABLE ***************************
      75 000001a0           GANGFUNCS:
      76 000001a0 00000240'         .long   BOOF
      77 000001c0 00000000!         .long   GoDestV
      78 000001e0 000070b0'         .long   GetXVel
      79 00000200 0000ffff          .long   0FFFFH  ;MaxXZAngle - can move on 45 degree angle
      80 00000220 00000014          .long   20      ;FlipTiks
      81                    ********************************************************************
      82                    ********************************************************************
      83                    ;To catch a nulled dereference through GANGFUNCS
      84 00000240     c000  BOOF:   jruc    $
         00000250     fffe  
      85                    ********************************************************************
      86                    
      87                    **************************************************************************
      88                    ; GANGSTER SUB_TYPES
      89                    ; NOTE!!!!  -- right now, gangsters ignore their starting coors
      90                    ;               but I will fix this eventually...
      91                    ; All gangsters start ~200 pixels off screen, 70% chance of coming
      92                    ; up to the right.
      93                    
      94                    ;SUB_TYPE bits
      95                    ; Bit 0 - set to dodge bullets  
      96              0001  M_GTDODG        .set    00001H
      97                    ; Bit 2 -
      98                    ; Bit 3 -
      99                    
     100 00000260           DTBL:
     101 00000260 00000ed0'         .long   D0,D0,D0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    3

     102 000002c0 00000ed0'         .long   D0,D0,D0,D0,D0,D0
     103 00000380 00000ed0'         .long   D0,D0,D0,D0,D0,D0,D0
     104                    **************************************************************************
     105                    
     106                    **************************************************************************
     107 00000460           GANGCOLD:
     108                    ;* PARMS
     109                    ; A5  - Y:X
     110                    ; A6  - 0:Z     ;if A5 and A6=0 then Random Position
     111                    ; A14 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
     112                    
     113 00000460     098f          mmtm    SP,A0,A1,A2,A7,A9,A10,A11
         00000470     e170  
     114 00000480     0d3f          callr   VARINIT
         00000490     ffb6  
     115                            
     116 000004a0     05a0          move    @SLPGANGS,A0,W
         000004b0 00000000! 
     117 000004d0     0b40          cmpi    3,A0
         000004e0     fffc  
     118 000004f0     c50b          jrge    ColdX
     119                    
     120 00000500     4ca9          move    A5,A9           ;Y:X in A9
     121 00000510     4cca          move    A6,A10          ;0:Z in A10
     122 00000520     4dcb          move    A14,A11         ;ID in A11
     123 00000530                   CREATE  GANGBPID,GANGBOSS ;allocate process?    (bashes A1,A7)
     124 000005b0           ColdX:
     125 000005b0     09af          mmfm    SP,A0,A1,A2,A7,A9,A10,A11
         000005c0     0e87  
     126 000005d0     0960          rets
     127                    **************************************************************************
     128                    
     129                    **************************************************************************
     130 000005e0           CkPal:
     131 000005e0     05a0          move    @gangcol,A0,W
         000005f0 00000000- 
     132 00000610     ca11          jrz     CkPalX
     133 00000620     24a0          sll     5,A0
     134 00000630     0b20          addi    GANGPALS,A0
         00000640 0000d440' 
     135 00000660     8600          move    *A0,A0,L
     136 00000670     0d5f          calla   GETFPAL
         00000680 00000000! 
     137 000006a0     ca08          jrz     CkPalX
     138 000006b0     4c01          move    A0,A1
     139 000006c0     b500          move    *A8(OPAL),A0,W
         000006d0     0160  
     140 000006e0     0d5f          calla   FREEPAL
         000006f0 00000000! 
     141 00000710     b028          move    A1,*A8(OPAL),W
         00000720     0160  
     142 00000730           CkPalX:
     143 00000730     0960          rets
     144                    **************************************************************************
     145                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    4

     146                    **************************************************************************
     147              0001  Cstagger        .set    1
     148              0002  Cclrdest        .set    2
     149              0003  Cgrab           .set    3
     150 00000740           CMDTBL:
     151 00000740 00000000          .LONG   0,STAGGER,ClrDest,GoGrab
     152                    **************************************************************************
     153                    
     154                    **************************************************************************
     155                    ;* CMDTBL index in A0
     156 000007c0           CmdAll:
     157 000007c0     4d41          move    A10,A1
     158 000007d0     0b01          addi    BCMD,A1
         000007e0     0120  
     159 000007f0     1922          movk    MAXGANG,A2
     160 00000800           StuffCmd:
     161 00000800     8e20          movb    *A1,A0
     162 00000810     0b40          cmpi    Cgrab,A0
         00000820     fffc  
     163 00000830     ca01          jreq    SkStfCmd
     164 00000840     8c01          movb    A0,*A1
     165 00000850           SkStfCmd:
     166 00000850     1101          addk    8,A1
     167 00000860     3ce2          dsjs    A2,StuffCmd
     168 00000870     0960          rets
     169                    **************************************************************************
     170                    
     171                    **************************************************************************
     172                    ;* CMDTBL index in A0
     173                    ;* gangster to command in A1
     174 00000880           CmdOne:
     175 00000880     2461          sll     3,A1
     176 00000890     4141          add     A10,A1
     177 000008a0     0b01          addi    BCMD,A1
         000008b0     0120  
     178 000008c0     8c01          movb    A0,*A1
     179 000008d0     0960          rets
     180                    **************************************************************************
     181                    
     182                    **************************************************************************
     183                    ;* this routine is to be called by a gangster to check if he is commanded
     184 000008e0           CkCmd:
     185 000008e0     098f          mmtm    SP,A10
         000008f0     0020  
     186 00000900     b7a0          move    *A13(BOSS),A0,L 
         00000910     0180  
     187 00000920     0d5f          calla   GETA10
         00000930 00000000! 
     188 00000950     0b0a          addi    BCMD,A10
         00000960     0120  
     189 00000970     afa1          movb    *A13(GNUM),A1
         00000980     01c8  
     190 00000990     2461          sll     3,A1            ;* indexing through bytes
     191 000009a0     402a          add     A1,A10
     192 000009b0     8f41          movb    *A10,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    5

     193 000009c0     ca09          jrz     NoCmd
     194 000009d0     24a1          sll     5,A1            ;* indexing through table of addresses
     195 000009e0     0b21          addi    CMDTBL,A1,L
         000009f0 00000740' 
     196 00000a10     8620          move    *A1,A0,L        ;* return command in A0
     197 00000a20     09af          mmfm    SP,A10
         00000a30     0400  
     198 00000a40     0de0          setc
     199 00000a50     0960          rets
     200 00000a60           NoCmd:
     201 00000a60     09af          mmfm    SP,A10
         00000a70     0400  
     202 00000a80     0320          clrc
     203 00000a90     0960          rets
     204                    **************************************************************************
     205                    
     206                    **************************************************************************
     207                    ;* this routine is to be called by a gangster to clear his command
     208 00000aa0           ClrCmd:
     209 00000aa0     098f          mmtm    SP,A10
         00000ab0     0020  
     210 00000ac0     b7a0          move    *A13(BOSS),A0,L 
         00000ad0     0180  
     211 00000ae0     0d5f          calla   GETA10
         00000af0 00000000! 
     212 00000b10     0b0a          addi    BCMD,A10
         00000b20     0120  
     213 00000b30     afa1          movb    *A13(GNUM),A1
         00000b40     01c8  
     214 00000b50     2461          sll     3,A1            ;* indexing through bytes
     215 00000b60     402a          add     A1,A10
     216 00000b70     5600          clr     A0
     217 00000b80     8c0a          movb    A0,*A10
     218 00000b90     09af          mmfm    SP,A10
         00000ba0     0400  
     219 00000bb0     0960          rets
     220                    **************************************************************************
     221                    
     222                    **************************************************************************
     223                    BossMove        $MACRO
     224                            move    *A13(BZXPOS),A0,L
     225                            addxy   A1,A0
     226                            move    A0,*A13(BZXPOS),L
     227                            $ENDM
     228                    
     229                    SetAnim $MACRO  ANISCRIPT
     230                            movi    :ANISCRIPT:,A1
     231                            move    A1,*A13(ANIMPTR),L
     232                            $ENDM
     233                    
     234                    SetForm $MACRO  FORM
     235                            movi    :FORM:,A1
     236                            move    A1,*A13(BFORM),L
     237                            $ENDM
     238                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    6

     239                    
     240                    
     241                    *********************  START OF GANGBOSS PROCESS  *************************
     242 00000bc0           GANGBOSS:
     243                    * A9  - Y:X
     244                    * A10 - 0:Z     ;if A9,A10 = 0 generate random start pos.
     245                    * A11 - 0.8:#.4:rand#.4:00EH.8:OIDtype.4:OIDsubtype.4
     246                    ;based on sub-type, jump to appropriate routine
     247                    
     248 00000bc0                   INCW    @SLPGANGS
     249 00000c30           MaxWait:
     250 00000c30     05a0          move    @gangbmax,A0,W
         00000c40 00000000! 
     251 00000c60     05a1          move    @GANGCNT,A1,W
         00000c70 00000000! 
     252 00000c90     4801          cmp     A0,A1
     253 00000ca0     c405          jrlt    MaxWaitX
     254 00000cb0                   SLEEP   30
     255 00000cf0     c0f3          jruc    MaxWait
     256 00000d00           MaxWaitX:
     257 00000d00                   DECW    @SLPGANGS
     258 00000d70                   INCW    @GANGCNT
     259                    
     260 00000de0     5600          clr     A0
     261 00000df0     0580          move    A0,@gangcol,W
         00000e00 00000000- 
     262                    
     263 00000e20     4d60          move    A11,A0
     264 00000e30     2780          sll     28,A0
     265 00000e40     2c80          srl     28,A0
     266 00000e50     24a0          sll     5,A0
     267 00000e60     0b20          addi    DTBL,A0
         00000e70 00000260' 
     268 00000e90     8600          move    *A0,A0,L
     269 00000ea0     0160          jump    A0
     270                    
     271                    ***********************************************************************
     272 00000eb0           D15:
     273                    ;* CRIME SCENE
     274                    
     275                    
     276                    ***********************************************************************
     277 00000eb0           D2:
     278 00000eb0     c001          jruc    DMain
     279                    
     280                    ***********************************************************************
     281 00000ec0           D1:
     282 00000ec0     0300          jruc    DMain
     283                    
     284                    ***********************************************************************
     285 00000ed0           D0:
     286                    ;       jruc    DMain
     287                            
     288                    
     289 00000ed0           DMain:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    7

     290 00000ed0     098c          mmtm    A12,A9,A10      ;Y:X in A9, 0:Z in A10
         00000ee0     0060  
     291                    
     292 00000ef0     0d5f          CALLA   GETOBJ          ;GET AN OBJECT BLOCK
         00000f00 00000000! 
     293 00000f20     ca00          jrz     BOSSXX
         00000f30     06ee  
     294 00000f40     4c0a          move    A0,A10          ;A10 - ptr to extra space
     295 00000f50     0d5f          calla   CLROBJ
         00000f60 00000000! 
     296                    
     297                            ;* initialize BOSS'S VARS
     298 00000f80     5600          clr     A0
     299 00000f90     0d3f          callr   CmdAll
         00000fa0     ff81  
     300 00000fb0     5600          clr     A0
     301 00000fc0     b20d          move    A0,*A13(BVICT),L
         00000fd0     0200  
     302 00000fe0     ac0d          movb    A0,*A13(BHOME)
         00000ff0     01d0  
     303 00001000     ac0d          movb    A0,*A13(ACTION)
         00001010     01b0  
     304                    
     305                            ;* Determine Start Pattern to use
     306 00001020     c025          jruc    Side
     307 00001030           PickStrt:
     308                    ;* can we use wall start??
     309 00001030     05a3          move    @PLZMIN,A3,W
         00001040 00000000! 
     310 00001060     0b03          addi    75,A3
         00001070     004b  
     311 00001080     09e0          movi    P1DATA,A0
         00001090 00000000! 
     312 000010b0     b600          move    *A0(POBJ),A0,L
         000010c0     00a0  
     313 000010d0     ca04          jrz     CkP2
     314 000010e0     b401          move    *A0(OZPOS),A1,W
         000010f0     00d0  
     315 00001100     4861          cmp     A3,A1
     316 00001110     c40e          jrlt    NoWall
     317 00001120           CkP2:
     318 00001120     09e0          movi    P2DATA,A0
         00001130 00000000! 
     319 00001150     b600          move    *A0(POBJ),A0,L
         00001160     00a0  
     320 00001170     ca04          jrz     Wall
     321 00001180     b401          move    *A0(OZPOS),A1,W
         00001190     00d0  
     322 000011a0     4861          cmp     A3,A1
     323 000011b0     c404          jrlt    NoWall
     324 000011c0           Wall:
     325 000011c0     09e2          movi    WallStrt,A2  ;A2 - routine to jump to for start
         000011d0 00002600' 
     326 000011f0     c011          jruc    GotStrt
     327 00001200           NoWall:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    8

     328 00001200     0d3f          callr   DumpScan        
         00001210     003d  
     329 00001220     c905          jrnc    Side
     330 00001230     4c0b          move    A0,A11
     331 00001240     09e2          movi    DumpStrt,A2
         00001250 00002cb0' 
     332 00001270     c009          jruc    GotStrt
     333 00001280           Side:
     334 00001280     09e2          movi    SideStrt,A2
         00001290 00002780' 
     335 000012b0     c005          jruc    GotStrt
     336                    
     337 000012c0                   SLEEP   30
     338 00001300     c0d2          jruc    PickStrt
     339 00001310           GotStrt:
     340                    
     341                    
     342                    ;*********************** BOSS DISPATCHING GANGSTERS ************************
     343 00001310     4d60          move    A11,A0
     344 00001320     2580          sll     12,A0
     345 00001330     2c80          srl     28,A0
     346 00001340     ca03          jrz     SkRndCnt
     347 00001350     0d5f          calla   RANDU
         00001360 00000000! 
     348 00001380           SkRndCnt:
     349 00001380     4d63          move    A11,A3
     350 00001390     2503          sll     8,A3
     351 000013a0     2c83          srl     28,A3
     352 000013b0     4003          add     A0,A3           ;A3 - # to dispatch
     353 000013c0     0b43          cmpi    MAXGANG,A3
         000013d0     fff6  
     354 000013e0     c602          jrle    MAXGOK
     355 000013f0     09c3          movi    MAXGANG,A3
         00001400     0009  
     356 00001410           MAXGOK:
     357                    
     358 00001410           DISPATCH:
     359 00001410     5684          clr     A4              ;A4 - number of gangsters dispatched
     360 00001420     4d46          move    A10,A6          ;A6 - for stuffing child ptrs
     361 00001430           GANGB_LP:
     362 00001430     4883          cmp     A4,A3
     363 00001440     ca16          jreq    GANG_OUT
     364                    
     365 00001450     05a0          move    @OVERLOAD,A0            ;check system load                                       
         00001460 00000000! 
     366 00001480     0b40          cmpi    4,A0                                                     
         00001490     fffb  
     367 000014a0     ca10          jreq    GANG_OUT
     368 000014b0                   CREATE  GANGEPID,GANGSTER       ;allocate process?      (bashes A1,A7)
     369 00001530     ca07          jrz     GANG_OUT
     370 00001540     b3a0          move    A13,*A0(BOSS),L         ;* Tell em who's BOSS
         00001550     0180  
     371 00001560     ac80          movb    A4,*A0(GNUM)            ;* Give em an ID
         00001570     01c8  
     372 00001580     1024          inc     A4
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE    9

     373 00001590     9206          move    A0,*A6+,L
     374 000015a0     c0e8          jruc    GANGB_LP
     375 000015b0           GANG_OUT:
     376 000015b0     4c84          move    A4,A4
     377 000015c0     ca00          jrz     BOSSX
         000015d0     0680  
     378 000015e0     0162          jump    A2              ;* jump to start routine..
     379                    **************************************************************************
     380                    
     381                    *************************************************************************
     382                    ;* This routine looks for an on screen dumpster
     383                    ;* PARMS:
     384                    ;* RETURNS:
     385                    ;*      A0 - ptr to obj
     386 000015f0           DumpScan:
     387 000015f0     07a1          move    @BACKSLST,A1,L
         00001600 00000000! 
     388 00001620     ca0f          jrz     NODUMP
     389 00001630     09c3          movi    BGDMPID,A3,W
         00001640     0bc9  
     390 00001650     0523          zext    A3,W
     391 00001660           DUMP_LP:
     392 00001660     b422          move    *A1(OID),A2,W
         00001670     01a0  
     393 00001680     0522          zext    A2,W
     394 00001690     4843          cmp     A2,A3
     395 000016a0     cb04          jrnz    DUMPMIS
     396 000016b0     0d5f          calla   RANDOM
         000016c0 00000000! 
     397 000016e0     ce05          jrn     GOTDUMP
     398 000016f0           DUMPMIS:
     399 000016f0     b621          move    *A1(OSLINK),A1,L        ;* get next item and try again
         00001700     0020  
     400 00001710     cbf4          jrnz    DUMP_LP
     401 00001720           NODUMP:
     402 00001720     0320          clrc
     403 00001730     0960          rets
     404 00001740           GOTDUMP:
     405 00001740     4c20          move    A1,A0
     406 00001750     0de0          setc
     407 00001760     0960          rets
     408                    *******************************************************************
     409                    
     410                    *******************************************************************
     411                    ;* obj to grab in A0
     412                    ;* ptr to list of gangsters in A10
     413 00001770           GTOGRAB:
     414 00001770     098f          mmtm    SP,A1,A2,A3,A4
         00001780     7800  
     415 00001790     4c04          move    A0,A4
     416 000017a0     09c2          movi    BCMD,A2
         000017b0     0120  
     417 000017c0     4142          add     A10,A2  ;* end of list 
     418 000017d0     09c1          movi    MAXGANG,A1
         000017e0     0009  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   10

     419 000017f0           GGLP:
     420 000017f0     1421          dec     A1
     421 00001800     ce14          jrn     GTOGRABX
     422 00001810     a643          move    -*A2,A3,L
     423 00001820     cafc          jrz     GGLP
     424 00001830     b660          move    *A3(WANTOBJ),A0,L
         00001840     0220  
     425 00001850     ca03          jrz     GetIt
     426 00001860     4804          cmp     A0,A4
     427 00001870     ca0d          jreq    GTOGRABX
     428 00001880     c0f6          jruc    GGLP
     429 00001890           GetIt:
     430 00001890     0d5f          calla   RANDU
         000018a0 00000000! 
     431 000018c0     07e0          movb    @RAND,A0
         000018d0 00000000! 
     432 000018f0     ceef          jrn     GGLP
     433 00001900     b283          move    A4,*A3(WANTOBJ),L
         00001910     0220  
     434 00001920     1860          movk    Cgrab,A0
     435 00001930     0d3f          callr   CmdOne
         00001940     fef3  
     436                    
     437 00001950           GTOGRABX:
     438 00001950     09af          mmfm    SP,A1,A2,A3,A4
         00001960     001e  
     439 00001970     0960          rets
     440                    **************************************************************************
     441                    
     442                    **************************************************************************
     443 00001980           BNRPLYR:
     444                    ;Get Plyr data block ptr of nearest player to Boss
     445                    ; RETURNS       A0 - ptr to player OBJ or Zero (with Z flag set)
     446                    ; DESTROYS A1,A2,A3,A4,A5,A6
     447 00001980     5684          clr     A4                      ;* A4 is ptr to player to chase
     448 00001990     09c5          movi    07FFFH,A5               ;* distance to first player
         000019a0     7fff  
     449 000019b0     09e6          movi    P1DATA,A6
         000019c0 00000000! 
     450 000019e0     b6c0          move    *A6(POBJ),A0,L
         000019f0     00a0  
     451 00001a00     ca0f          jrz     TRYP2
     452 00001a10     b401          move    *A0(OZPOS),A1,W
         00001a20     00d0  
     453 00001a30     b5a2          move    *A13(BZPOS),A2,W
         00001a40     01f0  
     454 00001a50     4441          sub     A2,A1
     455 00001a60     0381          abs     A1
     456 00001a70     b402          move    *A0(OXPOS),A2,W
         00001a80     0090  
     457 00001a90     b5a3          move    *A13(BXPOS),A3,W
         00001aa0     01e0  
     458 00001ab0     4462          sub     A3,A2
     459 00001ac0     0382          abs     A2
     460 00001ad0     4041          add     A2,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   11

     461 00001ae0     4c25          move    A1,A5
     462 00001af0     4cc4          move    A6,A4
     463 00001b00           TRYP2:
     464 00001b00     09e6          movi    P2DATA,A6
         00001b10 00000000! 
     465 00001b30     b6c0          move    *A6(POBJ),A0,L
         00001b40     00a0  
     466 00001b50     ca10          jrz     WhichP
     467 00001b60     b401          move    *A0(OZPOS),A1,W
         00001b70     00d0  
     468 00001b80     b5a2          move    *A13(BZPOS),A2,W
         00001b90     01f0  
     469 00001ba0     4441          sub     A2,A1
     470 00001bb0     0381          abs     A1
     471 00001bc0     b402          move    *A0(OXPOS),A2,W
         00001bd0     0090  
     472 00001be0     b5a3          move    *A13(BXPOS),A3,W
         00001bf0     01e0  
     473 00001c00     4462          sub     A3,A2
     474 00001c10     0382          abs     A2
     475 00001c20     4041          add     A2,A1
     476 00001c30     4825          cmp     A1,A5
     477 00001c40     c601          jrle    WhichP
     478 00001c50     4cc4          move    A6,A4      ;* player 2 is closer
     479 00001c60           WhichP:
     480 00001c60     4c80          move    A4,A0
     481 00001c70     0960          rets
     482                    **************************************************************************
     483                    
     484                    *******************************************************************
     485 00001c80           BDISTP:
     486                    ;* PARMS: A0 Zdist:Xdist to stay away from player
     487                    ;* will return A0 ptr to Player OBJ and SETC if player too close..
     488 00001c80     4c06          move    A0,A6
     489 00001c90     0d3f          callr   BNRPLYR
         00001ca0     ffcd  
     490 00001cb0     ca18          jrz     BPlyrFar
     491 00001cc0     b600          move    *A0(POBJ),A0,L
         00001cd0     00a0  
     492 00001ce0     b401          move    *A0(OZPOS),A1,W
         00001cf0     00d0  
     493 00001d00     b5a2          move    *A13(BZPOS),A2,W
         00001d10     01f0  
     494 00001d20     4441          sub     A2,A1
     495 00001d30     0381          abs     A1
     496 00001d40     eec2          movy    A6,A2
     497 00001d50     2e02          srl     16,A2
     498 00001d60     4841          cmp     A2,A1
     499 00001d70     c70c          jrgt    BPlyrFar
     500 00001d80     b401          move    *A0(OXPOS),A1,W
         00001d90     0090  
     501 00001da0     b5a2          move    *A13(BXPOS),A2,W
         00001db0     01e0  
     502 00001dc0     4441          sub     A2,A1
     503 00001dd0     0381          abs     A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   12

     504 00001de0     ecc2          movx    A6,A2
     505 00001df0     0522          zext    A2,W
     506 00001e00     4841          cmp     A2,A1
     507 00001e10     c702          jrgt    BPlyrFar
     508                    ;* there is a close player
     509 00001e20     0de0          setc
     510 00001e30     0960          rets
     511 00001e40           BPlyrFar:
     512 00001e40     0320          clrc
     513 00001e50     0960          rets
     514                    *******************************************************************
     515                    
     516                    
     517                    *************************************************************************
     518                    ;* This routine looks for the nearest object of type obj Id to the Boss
     519                    ;* PARMS:
     520                    ;*      A0 - Obj Id
     521                    ;* RETURNS:
     522                    ;*      A0 - ptr to obj  (0 if no close objs)
     523 00001e60           CK_BTY:
     524 00001e60     56a5          clr     A5              ;A5 will be pointer to nearest obj
     525 00001e70     07a1          move    @BOOTY,A1,L
         00001e80 00000000! 
     526 00001ea0     ca23          jrz     NOBOOTY
     527 00001eb0     09c6          movi    1000,A6 ;A6 is distance of nearest booty
         00001ec0     03e8  
     528 00001ed0     b5a3          move    *A13(BXPOS),A3,W
         00001ee0     01e0  
     529 00001ef0     0520          zext    A0,W
     530 00001f00           BOOTY_LP:
     531 00001f00     098f          mmtm    SP,A0
         00001f10     8000  
     532 00001f20     09c0          movi    500,A0
         00001f30     01f4  
     533 00001f40     0d5f          calla   RANDPER
         00001f50 00000000! 
     534 00001f70     09af          mmfm    SP,A0
         00001f80     0001  
     535 00001f90     c80d          jrc     BOOTYMIS
     536 00001fa0     b422          move    *A1(OID),A2,W
         00001fb0     01a0  
     537 00001fc0     0522          zext    A2,W
     538 00001fd0     4840          cmp     A2,A0
     539 00001fe0     cb08          jrnz    BOOTYMIS
     540 00001ff0     b422          move    *A1(OXPOS),A2,W
         00002000     0090  
     541 00002010     4462          sub     A3,A2
     542 00002020     0382          abs     A2
     543 00002030     48c2          cmp     A6,A2
     544 00002040     c702          jrgt    BOOTYMIS
     545 00002050           GOTBOOTY:
     546 00002050     4c25          move    A1,A5   ;new closest booty
     547 00002060     4c46          move    A2,A6   ;new distance
     548 00002070           BOOTYMIS:
     549 00002070     b621          move    *A1(OSLINK),A1,L        ;* get next item and try again
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   13

         00002080     0020  
     550 00002090     cbe6          jrnz    BOOTY_LP
     551 000020a0           BOOTYX:
     552 000020a0     4ca0          move    A5,A0
     553 000020b0     ca02          jrz     NOBOOTY
     554 000020c0     0de0          setc
     555 000020d0     0960          rets
     556 000020e0           NOBOOTY:
     557 000020e0     0320          clrc
     558 000020f0     0960          rets
     559                    *******************************************************************
     560                    
     561                    **************************************************************************
     562                    ;* Formation patterns for gangs of gangsters.
     563                    ;* the values are the X,Z offsets for each gangster
     564                    ;* X offset will be multiplied by 2.
     565 00002100           GF_HOR: ;* horizontal, narrow gap.
     566 00002100       00          .BYTE   0,0, 10,0, -10,0, 20,0, -20,0, 30,0, -30,0, 40,0, -40,0 
     567 00002190           GF_HOR2: ;* horizontal, wide gap.
     568 00002190       00          .BYTE   0,0, 15,0, -15,0, 30,0, -30,0, 45,0, -45,0, 60,0, -60,0 
     569 00002220           GF_VER: ;* vertical, narrow gap.
     570 00002220       00          .BYTE   0,0, 0,-10, 0,10, 0,-20, 0,20, 0,-30, 0,30, 0,-40, 0,40
     571 000022b0           GF_VER1:        ;* vertical, wide gap.
     572 000022b0       00          .BYTE   0,0, 0,-15, 0,15, 0,-35, 0,35, 0,-45, 0,45, 0,-60, 0,60
     573 00002340           GF_OSIDE1: ;* enter from Opposite sides
     574 00002340       7f          .BYTE   127,0, -127,15, -127,-15, 127,30, 127,-30, -127,45, -127,-45, 127,60, 127,-60
     575 000023d0           GF_OSIDE2: ;* center from Opposite sides
     576 000023d0       00          .BYTE   0,0, 0,15, 0,-15, 0,30, 0,-30, 0,45, 0,-45, 0,60, 0,-60
     577 00002460           GF_DUMP1:       ;* horizontal, very narrow gap.
     578 00002460       00          .BYTE   0,0, 3,-2, 6,2, 9,-4, 12,4, 15,-6, 18,6, 21,-8, 21,8
     579 000024f0           GF_SCAT:        ;* scatter
     580 000024f0       f1          .BYTE   -15,0, 15,0, 0,-30, 0,30, -10,20, 10,-20, -8,-15, 8,15, 0,0
     581                    
     582              0004  GS1_TBL_LEN     .set    4
     583 00002580           GS1_TBL:
     584 00002580 00002100'         .LONG   GF_HOR, GF_VER, GF_VER1, GF_DUMP1
     585                    **************************************************************************
     586                    
     587                    
     588                    ;*************************** WALL START **********************************
     589 00002600           WallStrt:
     590 00002600                   SetForm GF_HOR
     591 00002650     05a1          move    @(WORLDTLX+16),A1,W                              
         00002660 00000010! 
     592 00002680     0b01          addi    570,A1
         00002690     023a  
     593 000026a0     b02d          move    A1,*A13(BXPOS),W
         000026b0     01e0  
     594 000026c0     05a1          move    @PLZMIN,A1,W
         000026d0 00000000! 
     595 000026f0     10a1          addk    5,A1
     596 00002700     b02d          move    A1,*A13(BZPOS),W
         00002710     01f0  
     597 00002720     0d3f          callr   BNRPLYR
         00002730     ff24  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   14

     598 00002740     b20d          move    A0,*A13(BVICT),L
         00002750     0200  
     599 00002760     c000          jruc    BOSS1
         00002770     00a2  
     600                    ************************************************************************
     601                    
     602                    ;*************************** SIDE START ********************************
     603 00002780           SideStrt:
     604                    ;       SetForm GF_OSIDE1
     605 00002780     09c0          movi    GS1_TBL_LEN,A0
         00002790     0004  
     606 000027a0     0d5f          calla   RANDU
         000027b0 00000000! 
     607 000027d0     1420          dec     A0
     608 000027e0     24a0          sll     5,A0
     609 000027f0     0b20          addi    GS1_TBL,A0
         00002800 00002580' 
     610 00002820     ba0d          move    *A0(0),*A13(BFORM),L
         00002830     0000  
         00002840     0220  
     611                    
     612 00002850     09ac          mmfm    A12,A6,A7       ;Y:X in A6, 0:Z in A7
         00002860     00c0  
     613 00002870     4cc5          move    A6,A5
     614 00002880     0505          sext    A5,W
     615 00002890     ca03          jrz     SkStrtX
     616 000028a0     b0ad          move    A5,*A13(BXPOS),W
         000028b0     01e0  
     617 000028c0     c010          jruc    GetZPos
     618 000028d0           SkStrtX:
     619 000028d0     09c1          movi    700,A1
         000028e0     02bc  
     620 000028f0     09c0          movi    700,A0
         00002900     02bc  
     621 00002910     0d5f          calla   RANDPER
         00002920 00000000! 
     622 00002940     c802          jrc     SkLftSt
     623 00002950     09c1          movi    -150,A1
         00002960     ff6a  
     624 00002970           SkLftSt:
     625 00002970     05a0          move    @(WORLDTLX+16),A0,W                              
         00002980 00000010! 
     626 000029a0     4020          add     A1,A0
     627 000029b0     b00d          move    A0,*A13(BXPOS),W
         000029c0     01e0  
     628 000029d0           GetZPos:
     629 000029d0     4ce5          move    A7,A5
     630 000029e0     0505          sext    A5,W
     631 000029f0     ca03          jrz     SkStrtZ
     632 00002a00     b0ad          move    A5,*A13(BZPOS),W
         00002a10     01f0  
     633 00002a20     c016          jruc    GotZPos
     634 00002a30           SkStrtZ:
     635 00002a30     4ce5          move    A7,A5
     636 00002a40     2a05          sra     16,A5
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   15

     637 00002a50     ca04          jrz     SkStrtY
     638 00002a60     0be5          subi    ZORIGIN,A5
         00002a70     ff37  
     639 00002a80     b0ad          move    A5,*A13(BZPOS),W
         00002a90     01f0  
     640 00002aa0           SkStrtY:
     641 00002aa0     05b0          move    @PLZMIN,B0
         00002ab0 00000000! 
     642 00002ad0     05b1          move    @PLZMAX,B1
         00002ae0 00000000! 
     643 00002b00     0d5f          calla   RANGRAND
         00002b10 00000000! 
     644 00002b30     b00d          move    A0,*A13(BZPOS),W
         00002b40     01f0  
     645 00002b50     0d3f          callr   BNRPLYR
         00002b60     fee1  
     646 00002b70     b20d          move    A0,*A13(BVICT),L
         00002b80     0200  
     647 00002b90           GotZPos:
     648                    
     649 00002b90     09e1          movi    GSTAND,A1
         00002ba0 0000a220' 
     650 00002bc0     b22d          move    A1,*A13(BIDLEANI),L
         00002bd0     0180  
     651 00002be0     4c20          move    A1,A0
     652 00002bf0     0d5f          calla   SumSlp          ;sleep time in A0
         00002c00 00000000! 
     653 00002c20     05a1          move    @WAVETIME,A1,W
         00002c30 00000000! 
     654 00002c50     b02d          move    A1,*A13(BSYNC),W
         00002c60     01c0  
     655 00002c70     0d5f          calla   PRCSLP          ;wait out animation
         00002c80 00000000! 
     656 00002ca0     c04f          jruc    BOSS1
     657                    ************************************************************************
     658                    
     659                    ;*************************** DUMP START ********************************
     660 00002cb0           DumpStrt:
     661 00002cb0                   SetForm GF_DUMP1
     662 00002d00                   SetAnim GKNEELED
     663 00002d50     b560          move    *A11(OXPOS),A0,W        ;* A11 must point at dumpster
         00002d60     0090  
     664 00002d70     11e0          addk    15,A0
     665 00002d80     b00d          move    A0,*A13(BXPOS),W
         00002d90     01e0  
     666 00002da0     b560          move    *A11(OZPOS),A0,W
         00002db0     00d0  
     667 00002dc0     1700          subk    24,A0
     668 00002dd0     b00d          move    A0,*A13(BZPOS),W
         00002de0     01f0  
     669 00002df0     1820          movk    Cstagger,A0
     670 00002e00     0d3f          callr   CmdAll
         00002e10     fd9a  
     671                    
     672 00002e20           HideLp:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   16

     673 00002e20     0d3f          callr   BNRPLYR
         00002e30     feb4  
     674 00002e40     b20d          move    A0,*A13(BVICT),L
         00002e50     0200  
     675 00002e60     b600          move    *A0(POBJ),A0,L
         00002e70     00a0  
     676 00002e80     b402          move    *A0(OZPOS),A2,W
         00002e90     00d0  
     677 00002ea0     b5a1          move    *A13(BZPOS),A1,W
         00002eb0     01f0  
     678 00002ec0     4441          sub     A2,A1
     679 00002ed0     0381          abs     A1
     680 00002ee0     0b41          cmpi    25,A1
         00002ef0     ffe6  
     681 00002f00     c60e          jrle    DoDS
     682                    
     683 00002f10     b402          move    *A0(OXPOS),A2,W
         00002f20     0090  
     684 00002f30     b5a1          move    *A13(BXPOS),A1,W
         00002f40     01e0  
     685 00002f50     4441          sub     A2,A1
     686 00002f60     0381          abs     A1
     687 00002f70     0b41          cmpi    40,A1
         00002f80     ffd7  
     688 00002f90     c605          jrle    DmpGo
     689                    
     690 00002fa0     1940          movk    10,A0
     691 00002fb0     0d5f          calla   PRCSLP
         00002fc0 00000000! 
     692                    
     693 00002fe0     c0e3          jruc    HideLp
     694                    
     695 00002ff0           DmpGo:
     696 00002ff0           DoDS:
     697 00002ff0                   SetAnim GDSHOOT
     698 00003040     1940          movk    10,A0
     699 00003050     0d5f          calla   PRCSLP
         00003060 00000000! 
     700 00003080     c011          jruc    BOSS1
     701                    ************************************************************************
     702                    
     703                    
     704                    **************************************************************************
     705 00003090           MkGrabs:
     706 00003090     09e0          movi    CLIPOID,A0
         000030a0 00008013  
     707 000030c0     0d3f          callr   CK_BTY
         000030d0     fed8  
     708 000030e0     c902          jrnc    SkGClip
     709                            ;* assign a gangster to go grab the clip
     710 000030f0     0d3f          callr   GTOGRAB
         00003100     fe66  
     711 00003110           SkGClip:
     712 00003110     09e0          movi    ROCKOID,A0
         00003120 00008012  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   17

     713 00003140     0d3f          callr   CK_BTY
         00003150     fed0  
     714 00003160     c902          jrnc    SkGRock
     715 00003170     0d3f          callr   GTOGRAB
         00003180     fe5e  
     716 00003190           SkGRock:
     717 00003190     0960          rets
     718                    **************************************************************************
     719                    
     720                    
     721                    ************************************************************************
     722 000031a0           BOSS1:
     723 000031a0     09c0          movi    90,A0
         000031b0     005a  
     724 000031c0     0d5f          calla   RANDPER
         000031d0 00000000! 
     725 000031f0     c90d          jrnc    SkFormCh
     726 00003200     09c0          movi    GS1_TBL_LEN,A0
         00003210     0004  
     727 00003220     0d5f          calla   RANDU
         00003230 00000000! 
     728 00003250     1420          dec     A0
     729 00003260     24a0          sll     5,A0
     730 00003270     0b20          addi    GS1_TBL,A0
         00003280 00002580' 
     731 000032a0     ba0d          move    *A0(0),*A13(BFORM),L
         000032b0     0000  
         000032c0     0220  
     732 000032d0           SkFormCh:
     733 000032d0     0d3f          callr   BNRPLYR
         000032e0     fe69  
     734 000032f0     56c6          clr     A6                 ;don't need to clrdest gangsters
     735 00003300     b20d          move    A0,*A13(BVICT),L
         00003310     0200  
     736 00003320     b607          move    *A0(POBJ),A7,L
         00003330     00a0  
     737                    
     738 00003340     afa1          movb    *A13(BHOME),A1
         00003350     01d0  
     739 00003360     ca1c          jrz     NewBPos
     740 00003370     1421          dec     A1
     741 00003380     ac2d          movb    A1,*A13(BHOME)
         00003390     01d0  
     742                    
     743 000033a0     b5a1          move    *A13(BZPOS),A1,W
         000033b0     01f0  
     744 000033c0     b4e2          move    *A7(OZPOS),A2,W
         000033d0     00d0  
     745 000033e0     4441          sub     A2,A1
     746 000033f0     0381          abs     A1
     747 00003400     0b41          cmpi    25,A1                   ;* if Z delta < 25 don't change zpos
         00003410     ffe6  
     748 00003420     c603          jrle    NoZMov
     749 00003430     b04d          move    A2,*A13(BZPOS),W
         00003440     01f0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   18

     750 00003450     1826          movk    1,A6                    ;* clrdest the gangers
     751 00003460           NoZMov:
     752                    
     753 00003460           DoBXP:
     754 00003460     b4e1          move    *A7(OXPOS),A1,W
         00003470     0090  
     755 00003480     b5a2          move    *A13(BXPOS),A2,W
         00003490     01e0  
     756 000034a0     4441          sub     A2,A1
     757 000034b0     0381          abs     A1                      ;* A1 is plyrX, gangX delta
     758 000034c0     0be1          subi    140,A1
         000034d0     ff73  
     759 000034e0     0381          abs     A1
     760 000034f0     0b41          cmpi    50,A1
         00003500     ffcd  
     761 00003510     c705          jrgt    NewBXpos                ;Xdelt in range of 90:190 ?
     762                    
     763                            ;* old BXPOS is ok
     764 00003520     c040          jruc    GotBXP
     765                    
     766 00003530           NewBPos:
     767 00003530     1826          movk    1,A6                    ;* clrdest the gangers
     768 00003540     b8ed          move    *A7(OZPOS),*A13(BZPOS),W
         00003550     00d0  
         00003560     01f0  
     769 00003570           NewBXpos:
     770 00003570     09c1          movi    7,A1
         00003580     0007  
     771 00003590     ac2d          movb    A1,*A13(BHOME)
         000035a0     01d0  
     772                            
     773                            ;* generate new BXPOS
     774 000035b0     b4e1          move    *A7(OXPOS),A1,W
         000035c0     0090  
     775 000035d0     b5a2          move    *A13(BXPOS),A2,W
         000035e0     01e0  
     776 000035f0     4822          cmp     A1,A2
     777 00003600     c717          jrgt    BOnRt
     778                    ;* boss is on the left of the player
     779 00003610     0be1          subi    150,A1
         00003620     ff69  
     780 00003630     05a2          move    @(WORLDTLX+16),A2,W                              
         00003640 00000010! 
     781 00003660     0b02          addi    30,A2                   ;* within 30 of edge of screen?
         00003670     001e  
     782 00003680     4822          cmp     A1,A2
     783 00003690     c424          jrlt    SetBXP
     784 000036a0     0b01          addi    360,A1
         000036b0     0168  
     785 000036c0     05b0          move    @PLZMIN,B0
         000036d0 00000000! 
     786 000036f0     05b1          move    @PLZMAX,B1
         00003700 00000000! 
     787 00003720     0d5f          calla   RANGRAND
         00003730 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   19

     788 00003750     b00d          move    A0,*A13(BZPOS),W
         00003760     01f0  
     789 00003770     c016          jruc    SetBXP
     790 00003780           BOnRt:
     791                    ;* boss is on the right of the player
     792 00003780     0b01          addi    150,A1
         00003790     0096  
     793 000037a0     05a2          move    @(WORLDTLX+16),A2,W                              
         000037b0 00000010! 
     794 000037d0     0b02          addi    482,A2                  ;* within 30 of edge of screen?
         000037e0     01e2  
     795 000037f0     4822          cmp     A1,A2
     796 00003800     c70d          jrgt    SetBXP
     797 00003810     0be1          subi    360,A1
         00003820     fe97  
     798 00003830     05b0          move    @PLZMIN,B0
         00003840 00000000! 
     799 00003860     05b1          move    @PLZMAX,B1
         00003870 00000000! 
     800 00003890     0d5f          calla   RANGRAND
         000038a0 00000000! 
     801 000038c0     b00d          move    A0,*A13(BZPOS),W
         000038d0     01f0  
     802 000038e0           SetBXP:
     803 000038e0     1826          movk    1,A6                    ;* clrdest the gangers
     804 000038f0     b02d          move    A1,*A13(BXPOS),W
         00003900     01e0  
     805 00003910     0d3f          callr   MkGrabs
         00003920     ff76  
     806                    
     807 00003930           GotBXP:
     808 00003930     4cc6          move    A6,A6
     809 00003940     ca03          jrz     SkCclr
     810 00003950     1840          movk    Cclrdest,A0
     811 00003960     0d3f          callr   CmdAll
         00003970     fce4  
     812 00003980           SkCclr:
     813                    
     814                            ;* set desired animation for gangsters when they reach their dest
     815 00003980     09e1          movi    GSTAND,A1
         00003990 0000a220' 
     816 000039b0     09c2          movi    IDLEACT,A2
         000039c0     0000  
     817 000039d0     09c0          movi    400,A0
         000039e0     0190  
     818 000039f0     0d5f          calla   RANDPER
         00003a00 00000000! 
     819 00003a20     c905          jrnc    NoGDFire
     820 00003a30     09e1          movi    GDFIRE,A1
         00003a40 0000a6f0' 
     821 00003a60     1822          movk    FIREACT,A2
     822 00003a70     c00a          jruc    GotIdleA
     823 00003a80           NoGDFire:
     824 00003a80     09c0          movi    300,A0
         00003a90     012c  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   20

     825 00003aa0     0d5f          calla   RANDPER
         00003ab0 00000000! 
     826 00003ad0     c904          jrnc    NoGFire
     827 00003ae0     09e1          movi    GFIRE,A1
         00003af0 0000a270' 
     828 00003b10     1822          movk    FIREACT,A2
     829                    ;       jruc    GotIdleA
     830 00003b20           NoGFire:
     831                    
     832 00003b20           GotIdleA:
     833 00003b20     b22d          move    A1,*A13(BIDLEANI),L
         00003b30     0180  
     834 00003b40     ac4d          movb    A2,*A13(ACTION)
         00003b50     01b0  
     835 00003b60     4c20          move    A1,A0
     836 00003b70     0d5f          calla   SumSlp          ;sleep time in A0
         00003b80 00000000! 
     837 00003ba0     05a1          move    @WAVETIME,A1,W
         00003bb0 00000000! 
     838 00003bd0     b02d          move    A1,*A13(BSYNC),W
         00003be0     01c0  
     839 00003bf0     0d5f          calla   PRCSLP          ;wait out animation
         00003c00 00000000! 
     840                    
     841 00003c20     c000          jruc    BOSS1
         00003c30     ff56  
     842                    ************************************************************************
     843                    
     844                    
     845                    *************************************************************************
     846                    *******************  START OF GANGSTER STUFF  ***************************
     847                    *************************************************************************
     848                    
     849                    **************************************************************************
     850                    *INIT TABLE
     851                    *       .LONG   OXVEL,OYVEL,OXVAL,XYVAL
     852                    *       .WORD   OZPOS,OZVEL
     853                    *       .LONG   OIMG,OZSIZ,OCVECT
     854                    *       .WORD   OFLAGS,OID
     855 00003c40           GANGINIT
     856 00003c40 00000000          .LONG   0,0,0,0
     857 00003cc0     0000          .WORD   0,0
     858 00003ce0 00000c00"         .LONG   n_bht1,GANGZSIZ,GANGCOLL
     859 00003d40     8002          .WORD   DMAWNZ,GANGEOID
     860 00003d60 00000000!         .LONG   GANGBLIP
     861                    **************************************************************************
     862                    
     863                    **************************************************************************
     864                    * GANGSTER - THE GANG PROCESS 
     865                    * A11 = I.D.
     866 00003d80           GANGSTER:       
     867 00003d80     0d3f          callr   GETGPOS
         00003d90     00a5  
     868 00003da0     09e1          movi    [ZORIGIN,0],A1
         00003db0 00c80000  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   21

     869 00003dd0     e001          addxy   A0,A1           ;A1 = Y:X pos for start
     870                    
     871 00003de0     09e6          movi    GANGTAB,A6
         00003df0 00009300' 
     872 00003e10     09ee          movi    GANGINIT,A14    
         00003e20 00003c40' 
     873 00003e40     098f          mmtm    SP,A11
         00003e50     0010  
     874 00003e60     0d5f          calla   ESINITLL
         00003e70 00000000! 
     875 00003e90     09af          mmfm    SP,A11
         00003ea0     0800  
     876 00003eb0     ca00          jrz     GANG_DIE
         00003ec0     0403  
     877 00003ed0     b168          move    A11,*A8(OID),W
         00003ee0     01a0  
     878 00003ef0     27eb          sll     31,A11
     879 00003f00     ca06          jrz     SkNewPal
     880 00003f10     1820          movk    1,A0
     881 00003f20     0580          move    A0,@gangcol,W
         00003f30 00000000- 
     882 00003f50     0d3f          callr   CkPal
         00003f60     fc67  
     883 00003f70           SkNewPal:
     884                    
     885 00003f70     0d5f          calla   ClrVel
         00003f80 00000000! 
     886 00003fa0     5600          clr     A0
     887 00003fb0     b20d          move    A0,*A13(DEST),L
         00003fc0     01e0  
     888 00003fd0     b20d          move    A0,*A13(TEMPDEST),L
         00003fe0     0200  
     889 00003ff0     ac0d          movb    A0,*A13(DEST_TAG)
         00004000     01c0  
     890 00004010     ac0d          movb    A0,*A13(SNOOZE)
         00004020     01d0  
     891 00004030     ac0d          movb    A0,*A13(FLIPTIKS)
         00004040     01d8  
     892 00004050     b20d          move    A0,*A13(WANTOBJ),L
         00004060     0220  
     893 00004070     b20d          move    A0,*A13(TIKCTRS),L
         00004080     01a0  
     894                    ;       move    A0,*A13(EBYTES),L
     895 00004090     09e0          movi    GANGFUNCS,A0
         000040a0 000001a0' 
     896 000040c0     b20d          move    A0,*A13(FUNCS),L
         000040d0     00e0  
     897                    
     898                            ;* Allocate some goodies
     899 000040e0     5621          clr     A1
     900 000040f0           ClpLp:
     901 000040f0     05a0          move    @gangclip,A0,W
         00004100 00000010- 
     902 00004120     0d5f          calla   RANDPER
         00004130 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   22

     903 00004150     c904          jrnc    ClpX
     904 00004160     1021          inc     A1
     905 00004170     0b41          cmpi    2,A1
         00004180     fffd  
     906 00004190     c4f5          jrlt    ClpLp
     907 000041a0           ClpX:
     908 000041a0     4c20          move    A1,A0
     909 000041b0     ca03          jrz     NoClp
     910 000041c0     0d5f          calla   ADDCLIPS
         000041d0 00000000! 
     911 000041f0           NoClp:
     912 000041f0     5621          clr     A1
     913 00004200           RckLp:
     914 00004200     05a0          move    @gangrock,A0,W
         00004210 00000000! 
     915 00004230     0d5f          calla   RANDPER
         00004240 00000000! 
     916 00004260     c904          jrnc    RckX
     917 00004270     1021          inc     A1
     918 00004280     0b41          cmpi    3,A1
         00004290     fffc  
     919 000042a0     c4f5          jrlt    RckLp
     920 000042b0           RckX:
     921 000042b0     4c20          move    A1,A0
     922 000042c0     ca03          jrz     NoRck
     923 000042d0     0d5f          calla   ADDROCKS
         000042e0 00000000! 
     924 00004300           NoRck:
     925                    
     926                    ;* Special kluge to allow dumpster starts to hide..
     927 00004300           DumpWtLp:
     928 00004300     b7a0          move    *A13(BOSS),A0,L
         00004310     0180  
     929 00004320     b600          move    *A0(BIDLEANI),A0,L
         00004330     0180  
     930 00004340     0b60          cmpi    GKNEELED,A0
         00004350 ffff600f' 
     931 00004370     cb00          jrnz    GANG_MV
         00004380     00ba  
     932 00004390     18c0          movk    6,A0
     933 000043a0     0d5f          calla   PRCSLP
         000043b0 00000000! 
     934 000043d0     c0f2          jruc    DumpWtLp
     935                    **************************************************************************
     936                    
     937                    **************************************************************************
     938 000043e0           CkXDIST:
     939 000043e0     05a1          move    @(WORLDTLX+16),A1,W
         000043f0 00000010! 
     940 00004410     0b01          addi    256,A1
         00004420     0100  
     941 00004430     0d5f          calla   GETANIX
         00004440 00000000! 
     942 00004460     4420          sub     A1,A0
     943 00004470     0b40          cmpi    600,A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   23

         00004480     fda7  
     944 00004490     c71b          jrgt    DeepRght
     945 000044a0     0b40          cmpi    300,A0
         000044b0     fed3  
     946 000044c0     c71f          jrgt    NearRght
     947 000044d0     0b40          cmpi    -600,A0
         000044e0     0257  
     948 000044f0     c407          jrlt    DeepLeft
     949 00004500     0b40          cmpi    -300,A0
         00004510     012b  
     950 00004520     c41d          jrlt    NearLeft
     951                    
     952                            ;* on screen
     953 00004530     5600          clr     A0
     954 00004540     ac0d          movb    A0,*A13(SNOOZE)
         00004550     01d0  
     955 00004560     c01c          jruc    CkXDISTX
     956                    
     957 00004570           DeepLeft:
     958 00004570                   jsrp    CkQuit
     959 000045e0     afa0          movb    *A13(SNOOZE),A0
         000045f0     01d0  
     960 00004600     cb12          jrnz    CkXDISTX
     961 00004610     1820          movk    1,A0
     962 00004620     ac0d          movb    A0,*A13(SNOOZE)
         00004630     01d0  
     963                    ***     calla   ShadOff
     964 00004640     c00e          jruc    CkXDISTX
     965 00004650           DeepRght:
     966 00004650     afa0          movb    *A13(SNOOZE),A0
         00004660     01d0  
     967 00004670     cb0b          jrnz    CkXDISTX
     968 00004680     1820          movk    1,A0
     969 00004690     ac0d          movb    A0,*A13(SNOOZE)
         000046a0     01d0  
     970                    ***     calla   ShadOff
     971 000046b0     c007          jruc    CkXDISTX
     972 000046c0           NearRght:
     973 000046c0     5600          clr     A0
     974 000046d0     ac0d          movb    A0,*A13(SNOOZE)
         000046e0     01d0  
     975                    ***     calla   ShadOn
     976 000046f0     c003          jruc    CkXDISTX
     977 00004700           NearLeft:
     978 00004700     5600          clr     A0
     979 00004710     ac0d          movb    A0,*A13(SNOOZE)
         00004720     01d0  
     980                    ***     calla   ShadOn
     981                    ;       jruc    CkXDISTX
     982 00004730           CkXDISTX:
     983 00004730                   RETP
     984                    **************************************************************************
     985                    
     986                    **************************************************************************
     987 00004760           CkQuit:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   24

     988 00004760     05a0          move    @SLPGANGS,A0,W
         00004770 00000000! 
     989 00004790     ca02          jrz     CkQuitX
     990 000047a0     c000          jruc    GANGDONE
         000047b0     0370  
     991 000047c0           CkQuitX:
     992 000047c0                   RETP
     993                    **************************************************************************
     994                    
     995                    **************************************************************************
     996 000047f0           GETGPOS:
     997                    ;* get desired position for gangster
     998                    ;* returns position Z:X in A0
     999                    
    1000 000047f0     b7a0          move    *A13(BOSS),A0,L
         00004800     0180  
    1001 00004810     b601          move    *A0(BFORM),A1,L
         00004820     0220  
    1002 00004830     b602          move    *A0(BZXPOS),A2,L
         00004840     01e0  
    1003                    
    1004 00004850     afa4          movb    *A13(GNUM),A4
         00004860     01c8  
    1005 00004870     2484          sll     4,A4            ;want to move 2*GNUM bytes down formation tbl
    1006 00004880     4081          add     A4,A1
    1007 00004890     8e24          movb    *A1,A4  ;X offset
    1008 000048a0     2424          sll     1,A4            ;multiply X offset by 2
    1009 000048b0     0524          zext    A4,W
    1010 000048c0     e082          addxy   A4,A2
    1011                    
    1012 000048d0     1101          addk    8,A1
    1013 000048e0     8e24          movb    *A1,A4  ;Z offset
    1014 000048f0     0524          zext    A4,W
    1015 00004900     2604          sll     16,A4
    1016 00004910     e082          addxy   A4,A2
    1017                    
    1018 00004920     4c40          move    A2,A0
    1019 00004930     0960          rets
    1020                    **************************************************************************
    1021                    
    1022                    ****************************************************************************
    1023 00004940           TRYBUST:
    1024 00004940     afa0          movb    *A13(SNOOZE),A0
         00004950     01d0  
    1025 00004960     cb29          jrnz    NOBUST
    1026 00004970     afa0          movb    *A13(BUSTTIKS),A0
         00004980     01b8  
    1027 00004990     cb26          jrnz    NOBUST
    1028 000049a0     0d5f          calla   CKBUST
         000049b0 00000000! 
    1029 000049d0     c922          jrnc    NOBUST
    1030 000049e0     09c0          movi    60,A0
         000049f0     003c  
    1031 00004a00     ac0d          movb    A0,*A13(BUSTTIKS)
         00004a10     01b8  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   25

    1032 00004a20     0d5f          calla   ClrVel
         00004a30 00000000! 
    1033 00004a50     09c2          movi    20,A2
         00004a60     0014  
    1034 00004a70     09e9          movi    GANGBUST,A9
         00004a80 00009f10' 
    1035 00004aa0                   jsrp    GBUST
    1036 00004b10     c800          jrc     Busted
         00004b20     033d  
    1037                            ;bust failed
    1038 00004b30     5600          clr     A0                                                                                      
    1039 00004b40     ac0d          movb    A0,*A13(ACTION)
         00004b50     01b0  
    1040 00004b60     ac0d          movb    A0,*A13(DEST_TAG)
         00004b70     01c0  
    1041 00004b80     b20d          move    A0,*A13(ANIMPTR),L
         00004b90     0120  
    1042 00004ba0     b20d          move    A0,*A13(WANTOBJ),L
         00004bb0     0220  
    1043 00004bc0     0de0          setc
    1044 00004bd0                   retp
    1045 00004c00           NOBUST:
    1046 00004c00     0320          clrc
    1047 00004c10                   retp
    1048                    **************************************************************************
    1049                    
    1050                    **************************************************************************
    1051 00004c40           ZCHECK:
    1052 00004c40     b501          move    *A8(OZPOS),A1,W
         00004c50     00d0  
    1053 00004c60     05a0          move    @PLZMIN,A0,W
         00004c70 00000000! 
    1054 00004c90     10a0          addk    5,A0
    1055 00004ca0     4401          sub     A0,A1
    1056 00004cb0     cf0b          jrnn    ZMinOK
    1057 00004cc0     b008          move    A0,*A8(OZPOS),W
         00004cd0     00d0  
    1058 00004ce0     b500          move    *A8(OYPOS),A0,W
         00004cf0     00b0  
    1059 00004d00     4420          sub     A1,A0
    1060 00004d10     b008          move    A0,*A8(OYPOS),W
         00004d20     00b0  
    1061 00004d30     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         00004d40     00e0  
    1062 00004d50     cf1c          jrnn    ZMaxOK
    1063 00004d60     c013          jruc    SETZV
    1064 00004d70           ZMinOK:
    1065 00004d70     b501          move    *A8(OZPOS),A1,W
         00004d80     00d0  
    1066 00004d90     05a0          move    @PLZMAX,A0,W
         00004da0 00000000! 
    1067 00004dc0     1460          subk    3,A0
    1068 00004dd0     4401          sub     A0,A1
    1069 00004de0     ce13          jrn     ZMaxOK
    1070 00004df0     b008          move    A0,*A8(OZPOS),W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   26

         00004e00     00d0  
    1071 00004e10     b500          move    *A8(OYPOS),A0,W
         00004e20     00b0  
    1072 00004e30     4420          sub     A1,A0
    1073 00004e40     b008          move    A0,*A8(OYPOS),W
         00004e50     00b0  
    1074 00004e60     b700          move    *A8(OZVEL),A0,L ;* want to check sign
         00004e70     00e0  
    1075 00004e80     ce09          jrn     ZMaxOK
    1076 00004e90     ca08          jrz     ZMaxOK
    1077 00004ea0           SETZV:
    1078 00004ea0     b701          move    *A8(OYVEL),A1,L
         00004eb0     0060  
    1079 00004ec0     4401          sub     A0,A1
    1080 00004ed0     b228          move    A1,*A8(OYVEL),L
         00004ee0     0060  
    1081 00004ef0     5600          clr     A0
    1082 00004f00     b208          move    A0,*A8(OZVEL),L ;set Z velocity
         00004f10     00e0  
    1083 00004f20           ZMaxOK:
    1084 00004f20     0960          rets
    1085                    **************************************************************************
    1086                    
    1087                    
    1088                    **************************************************************************
    1089                    ;* MAIN LOOP FOR GANGSTER PROCESS
    1090 00004f30           GANG_MV:
    1091 00004f30     0d3f          callr   ZCHECK
         00004f40     ffcf  
    1092                    
    1093                    ;********  CHECK if a DESTINATION has been reached, and what to do if so..
    1094 00004f50     afa0          movb    *A13(DEST_TAG),A0
         00004f60     01c0  
    1095 00004f70     ca1a          jrz     SkCkDest
    1096 00004f80     afa0          movb    *A13(DESTTIKS),A0
         00004f90     01a8  
    1097 00004fa0     cb17          jrnz    SkCkDest
    1098 00004fb0     0d5f          calla   CkDest
         00004fc0 00000000! 
    1099 00004fe0     c913          jrnc    NotYet
    1100                    
    1101                            ;* we have reached our destination, what to do??
    1102 00004ff0     afa0          movb    *A13(DEST_TAG),A0
         00005000     01c0  
    1103 00005010           SkBUST_D:
    1104 00005010     0b40          cmpi    ROCK_T,A0       ;same for clip
         00005020     fffa  
    1105 00005030     cb07          jrnz    SkItem_D
    1106 00005040                   jsrp    GRAB
    1107                    ;       jruc    DestDone
    1108 000050b0           SkItem_D:
    1109 000050b0           DestDone:
    1110 000050b0     5600          clr     A0
    1111 000050c0     ac0d          movb    A0,*A13(ACTION)
         000050d0     01b0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   27

    1112 000050e0     ac0d          movb    A0,*A13(DEST_TAG)
         000050f0     01c0  
    1113 00005100     ac0d          movb    A0,*A13(ANIMTIKS)
         00005110     01a0  
    1114                    ;       move    A0,*A13(ANIMPTR),L
    1115 00005120           NotYet:
    1116 00005120           SkCkDest:
    1117                    
    1118                    **** Animation check ****
    1119 00005120     afa0          movb    *A13(ANIMTIKS),A0
         00005130     01a0  
    1120 00005140     cb54          jrnz    AnimX
    1121                    
    1122 00005150     576b          clr     A11             ;used to sync animations
    1123 00005160                   jsrp    CkXDIST         ;routine can DIE
    1124 000051d0     afa0          movb    *A13(SNOOZE),A0
         000051e0     01d0  
    1125 000051f0     cb19          jrnz    SkCks
    1126 00005200                   jsrp    TRYBUST
    1127 00005270     afa0          movb    *A13(DEST_TAG),A0
         00005280     01c0  
    1128 00005290     0b40          cmpi    BULL_T,A0
         000052a0     ffeb  
    1129 000052b0     ca14          jreq    InDngr
    1130 000052c0                   jsrp    CkDngr
    1131 00005330     c8bf          jrc     GANG_MV
    1132 00005340     afa0          movb    *A13(DEST_TAG),A0
         00005350     01c0  
    1133 00005360     0b40          cmpi    BULL_T,A0
         00005370     ffeb  
    1134 00005380     ca07          jreq    InDngr
    1135 00005390           SkCks:
    1136 00005390                   jsrp    GetAnim
    1137 00005400           InDngr:
    1138 00005400     afa0          movb    *A13(SNOOZE),A0
         00005410     01d0  
    1139 00005420     cb26          jrnz    AnimX
    1140 00005430     1881          movk    4,A1                    ;* one frame, no sleepin
    1141                    ;       callr   FRANCHEK
    1142 00005440                   jsrp    FRANIM
    1143 000054b0     4c07          move    A0,A7
    1144 000054c0     8721          move    *A9,A1,L
    1145 000054d0     cb16          jrnz    ListLeft
    1146 000054e0     5600          clr     A0
    1147 000054f0     ac0d          movb    A0,*A13(ACTION)
         00005500     01b0  
    1148 00005510     b7a0          move    *A13(ANIMPTR),A0,L
         00005520     0120  
    1149 00005530     0b60          cmpi    GHSTSHT,A0
         00005540 ffff64ff' 
    1150 00005560     cb05          jrnz    NotShtWk
    1151 00005570     09e0          movi    GHSTEP,A0
         00005580 00009960' 
    1152 000055a0     b20d          move    A0,*A13(ANIMPTR),L
         000055b0     0120  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   28

    1153 000055c0           NotShtWk:
    1154 000055c0     afa1          movb    *A13(DEST_TAG),A1
         000055d0     01c0  
    1155 000055e0     ca03          jrz     ClrAni
    1156 000055f0     b7a9          move    *A13(ANIMPTR),A9,L
         00005600     0120  
    1157 00005610     c005          jruc    SkSync
    1158 00005620           ClrAni:
    1159                    ;       move    A1,*A13(ANIMPTR),L      ;clr animation
    1160 00005620     b7a9          move    *A13(ANIMPTR),A9,L
         00005630     0120  
    1161 00005640           ListLeft:
    1162 00005640     4d6b          move    A11,A11         ;set by GetAnim
    1163 00005650     ca01          jrz     SkSync
    1164 00005660     4d67          move    A11,A7
    1165 00005670           SkSync:
    1166 00005670     aced          movb    A7,*A13(ANIMTIKS)
         00005680     01a0  
    1167 00005690           AnimX:
    1168                    
    1169                    **** Find Next Event ****
    1170 00005690     1945          movk    10,A5                   ;max sleep time
    1171 000056a0     afa1          movb    *A13(DEST_TAG),A1
         000056b0     01c0  
    1172 000056c0     ca09          jrz     SkMin1
    1173 000056d0     afa1          movb    *A13(DESTTIKS),A1
         000056e0     01a8  
    1174 000056f0     2701          sll     24,A1
    1175 00005700     2d01          srl     24,A1
    1176 00005710     cb01          jrnz    SkDest1
    1177 00005720     1821          movk    1,A1
    1178 00005730           SkDest1:
    1179 00005730     48a1          cmp     A5,A1
    1180 00005740     c501          jrge    SkMin1
    1181 00005750     4c25          move    A1,A5
    1182 00005760           SkMin1:
    1183                    
    1184                            ;**** The following are only done when not snoozing
    1185 00005760     afa7          movb    *A13(SNOOZE),A7
         00005770     01d0  
    1186 00005780     cb05          jrnz    GotMin
    1187                    
    1188 00005790     afa2          movb    *A13(ANIMTIKS),A2
         000057a0     01a0  
    1189 000057b0     48a2          cmp     A5,A2
    1190 000057c0     c501          jrge    SkMin2
    1191 000057d0     4c45          move    A2,A5
    1192 000057e0           SkMin2:
    1193                    
    1194 000057e0           GotMin:
    1195 000057e0     4c21          move    A1,A1
    1196 000057f0     ca03          jrz     SkDestDc
    1197 00005800     44a1          sub     A5,A1
    1198 00005810     ac2d          movb    A1,*A13(DESTTIKS)
         00005820     01a8  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   29

    1199 00005830           SkDestDc:
    1200 00005830     4ce7          move    A7,A7   ;ck snooze
    1201 00005840     cb0e          jrnz    MoveSlp
    1202 00005850     44a2          sub     A5,A2
    1203 00005860     ac4d          movb    A2,*A13(ANIMTIKS)
         00005870     01a0  
    1204                    
    1205 00005880     afa1          movb    *A13(BUSTTIKS),A1
         00005890     01b8  
    1206 000058a0     ca08          jrz     SkBustDc
    1207 000058b0     0b81          andi    0FFH,A1 ;No o' this sign extended byte shit
         000058c0 ffffff00  
    1208 000058e0     44a1          sub     A5,A1
    1209 000058f0     c101          jrp     SkClrBst
    1210 00005900     5621          clr     A1
    1211 00005910           SkClrBst:
    1212 00005910     ac2d          movb    A1,*A13(BUSTTIKS)
         00005920     01b8  
    1213 00005930           SkBustDc:
    1214                    
    1215 00005930           MoveSlp:
    1216 00005930     afa1          movb    *A13(FLIPTIKS),A1
         00005940     01d8  
    1217 00005950     ca08          jrz     SkFlipDc
    1218 00005960     0b81          andi    0FFH,A1 ;No o' this sign extended byte shit
         00005970 ffffff00  
    1219 00005990     44a1          sub     A5,A1
    1220 000059a0     c101          jrp     SkClrFlp
    1221 000059b0     5621          clr     A1
    1222 000059c0           SkClrFlp:
    1223 000059c0     ac2d          movb    A1,*A13(FLIPTIKS)
         000059d0     01d8  
    1224 000059e0           SkFlipDc:
    1225                    
    1226 000059e0     4ca0          move    A5,A0
    1227 000059f0     0d5f          calla   PRCSLP
         00005a00 00000000! 
    1228                    
    1229 00005a20     c000          jruc    GANG_MV
         00005a30     ff4f  
    1230                    **************************************************************************
    1231                    
    1232                    **************************************************************************
    1233 00005a40           ClrDest:
    1234                    ;A command from the BOSS
    1235 00005a40     0d3f          callr   ClrCmd
         00005a50     fb04  
    1236 00005a60     afa0          movb    *A13(DEST_TAG),A0
         00005a70     01c0  
    1237 00005a80     0b40          cmpi    ROCK_T,A0
         00005a90     fffa  
    1238 00005aa0     ca06          jreq    SkClrD
    1239 00005ab0     0b40          cmpi    BULL_T,A0
         00005ac0     ffeb  
    1240 00005ad0     ca03          jreq    SkClrD
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   30

    1241 00005ae0     5600          clr     A0
    1242 00005af0     ac0d          movb    A0,*A13(DEST_TAG)
         00005b00     01c0  
    1243 00005b10           SkClrD:
    1244 00005b10     0320          clrc
    1245 00005b20                   retp
    1246                    **************************************************************************
    1247                    
    1248                    **************************************************************************
    1249 00005b50           GoGrab:
    1250                    ;A command from the BOSS
    1251 00005b50     0d3f          callr   ClrCmd
         00005b60     faf3  
    1252 00005b70     b7a0          move    *A13(WANTOBJ),A0,L
         00005b80     0220  
    1253 00005b90     ca13          jrz     GoGrabX
    1254                            
    1255 00005ba0     0d3f          callr   GoHSTEP
         00005bb0     0107  
    1256                    
    1257 00005bc0     0d5f          calla   HuntObj
         00005bd0 00000000! 
    1258 00005bf0     1a80          movk    20,A0
    1259 00005c00     0d5f          calla   ShortXDest
         00005c10 00000000! 
    1260 00005c30     0d5f          calla   GoDestV
         00005c40 00000000! 
    1261 00005c60     18a0          movk    ROCK_T,A0
    1262 00005c70     ac0d          movb    A0,*A13(DEST_TAG)
         00005c80     01c0  
    1263                    
    1264 00005c90     0de0          setc
    1265 00005ca0                   retp
    1266 00005cd0           GoGrabX:
    1267 00005cd0     0320          clrc
    1268 00005ce0                   retp
    1269                    **************************************************************************
    1270                    
    1271                    **************************************************************************
    1272 00005d10           GetAnim:
    1273                    ;if GCOM - a specially requested command
    1274                    ;       if GACT==GCOM return
    1275                    ;       execute command
    1276                    ;       if carry set return
    1277                    ;call CkFire
    1278                    ;       if carry set return
    1279                    ;else if not at desired location
    1280                    ;       if not moving start high stepping - call syncanim
    1281                    ;else if at desired loc
    1282                    ;       load BIDLEANI
    1283                    ;       call syncanim
    1284                    
    1285 00005d10     0d3f          callr   CkCmd
         00005d20     fabb  
    1286 00005d30     c906          jrnc    SkCmd
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   31

    1287 00005d40                   jsrpr   A0
    1288 00005d90     c850          jrc     GetAnimX
    1289 00005da0           SkCmd:
    1290 00005da0     0d3f          callr   CkFire
         00005db0     0051  
    1291 00005dc0     c84d          jrc     GetAnimX
    1292                    
    1293 00005dd0     afa0          movb    *A13(DEST_TAG),A0
         00005de0     01c0  
    1294 00005df0     cb4a          jrnz    GetAnimX
    1295 00005e00     0d3f          callr   GETGPOS
         00005e10     fe9d  
    1296 00005e20     0d5f          calla   SCRNZCLP
         00005e30 00000000! 
    1297 00005e50     4c02          move    A0,A2
    1298 00005e60     0d5f          calla   GETANIX
         00005e70 00000000! 
    1299 00005e90     ec41          movx    A2,A1
    1300 00005ea0     0501          sext    A1,W
    1301 00005eb0     4420          sub     A1,A0
    1302 00005ec0     0380          abs     A0
    1303 00005ed0     0b40          cmpi    15,A0
         00005ee0     fff0  
    1304 00005ef0     c72d          jrgt    GoToBoss
    1305 00005f00     b500          move    *A8(OZPOS),A0,W
         00005f10     00d0  
    1306 00005f20     ee41          movy    A2,A1
    1307 00005f30     2a01          sra     16,A1
    1308 00005f40     4420          sub     A1,A0
    1309 00005f50     0380          abs     A0
    1310 00005f60     0b40          cmpi    10,A0
         00005f70     fff5  
    1311 00005f80     c724          jrgt    GoToBoss
    1312                    
    1313                            ;load idle anim
    1314 00005f90     0d5f          calla   ClrVel
         00005fa0 00000000! 
    1315 00005fc0     b7a7          move    *A13(BOSS),A7,L
         00005fd0     0180  
    1316 00005fe0     b6e6          move    *A7(BIDLEANI),A6,L
         00005ff0     0180  
    1317 00006000     b7a0          move    *A13(ANIMPTR),A0,L
         00006010     0120  
    1318 00006020     48c0          cmp     A6,A0
    1319 00006030     ca26          jreq    GetAnimX
    1320                            ;face player
    1321 00006040     b6e0          move    *A7(BVICT),A0,L
         00006050     0200  
    1322 00006060     0d5f          calla   GETPLYR
         00006070 00000000! 
    1323 00006090     b600          move    *A0(POBJ),A0,L
         000060a0     00a0  
    1324 000060b0     0d5f          calla   FACEOBJ
         000060c0 00000000! 
    1325 000060e0     b2cd          move    A6,*A13(ANIMPTR),L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   32

         000060f0     0120  
    1326 00006100     4cc0          move    A6,A0
    1327                            
    1328 00006110     05a1          move    @WAVETIME,A1,W
         00006120 00000000! 
    1329 00006140     b4e2          move    *A7(BSYNC),A2,W
         00006150     01c0  
    1330 00006160     4441          sub     A2,A1
    1331 00006170     0d5f          calla   SyncAnim
         00006180 00000000! 
    1332 000061a0     4c09          move    A0,A9
    1333 000061b0     4c2b          move    A1,A11
    1334 000061c0     c00d          jruc    GetAnimX
    1335                    
    1336 000061d0           GoToBoss:
    1337 000061d0     b24d          move    A2,*A13(DEST),L
         000061e0     01e0  
    1338 000061f0     0d5f          calla   ClipZDst
         00006200 00000000! 
    1339 00006220     0d3f          callr   GoHStep
         00006230     00b8  
    1340 00006240     0d5f          calla   GoDestV
         00006250 00000000! 
    1341 00006270     1860          movk    BOSS_T,A0
    1342 00006280     ac0d          movb    A0,*A13(DEST_TAG)
         00006290     01c0  
    1343 000062a0           GetAnimX:
    1344 000062a0                   retp
    1345                    **************************************************************************
    1346                    
    1347                    
    1348                    **************************************************************************
    1349 000062d0           CkFire:
    1350                    ;if boss requesting gunfire
    1351                    ;       if already shooting, return
    1352                    ;       clr DEST_TAG
    1353                    ;       flip toward player
    1354                    ;       load appropriate fire animation
    1355                    ;       call syncanim
    1356                    ;setc if firing is to be done
    1357 000062d0     afa0          movb    *A13(SNOOZE),A0
         000062e0     01d0  
    1358 000062f0     cb00          jrnz    NoFire
         00006300     0090  
    1359                    
    1360 00006310     afa0          movb    *A13(ACTION),A0
         00006320     01b0  
    1361 00006330     0b40          cmpi    FIREACT,A0
         00006340     fffe  
    1362 00006350     ca00          jreq    CkFireX
         00006360     0088  
    1363                    
    1364 00006370     b7a7          move    *A13(BOSS),A7,L
         00006380     0180  
    1365 00006390     aee0          movb    *A7(ACTION),A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   33

         000063a0     01b0  
    1366 000063b0     0b40          cmpi    FIREACT,A0
         000063c0     fffe  
    1367 000063d0     cb00          jrnz    NoFire
         000063e0     0082  
    1368 000063f0           DoFire:
    1369 000063f0     b7a0          move    *A13(ANIMPTR),A0,L
         00006400     0120  
    1370 00006410     0b60          cmpi    GHSTEP,A0
         00006420 ffff669f' 
    1371 00006440     cb25          jrnz    NOWLKSHT
    1372                    
    1373                            ;do High Step shoot
    1374 00006450     0b69          cmpi    PostSht1,A9
         00006460 ffff65af' 
    1375 00006480     c578          jrge    NoFire
    1376                    
    1377                            ;make sure were within Z of our target
    1378 00006490     b6e0          move    *A7(BVICT),A0,L
         000064a0     0200  
    1379 000064b0     0d5f          calla   GETPLYR
         000064c0 00000000! 
    1380 000064e0     b600          move    *A0(POBJ),A0,L
         000064f0     00a0  
    1381 00006500     b401          move    *A0(OZPOS),A1,W
         00006510     00d0  
    1382 00006520     b502          move    *A8(OZPOS),A2,W
         00006530     00d0  
    1383 00006540     4422          sub     A1,A2
    1384 00006550     0382          abs     A2
    1385 00006560     0b42          cmpi    35,A2
         00006570     ffdc  
    1386 00006580     c768          jrgt    NoFire
    1387                            ;* A0 still points to victims obj
    1388 00006590     0d5f          calla   FACINGOB
         000065a0 00000000! 
    1389 000065c0     c964          jrnc    NoFire
    1390 000065d0     09c0          movi    FIREACT,A0
         000065e0     0001  
    1391 000065f0     ac0d          movb    A0,*A13(ACTION)
         00006600     01b0  
    1392 00006610     0b29          addi    GHSTSHT-GHSTEP,A9
         00006620 000001a0  
    1393 00006640     09e0          movi    GHSTSHT,A0
         00006650 00009b00' 
    1394 00006670     b20d          move    A0,*A13(ANIMPTR),L
         00006680     0120  
    1395 00006690     c057          jruc    NoFire
    1396                    
    1397 000066a0           NOWLKSHT:
    1398 000066a0     0d5f          calla   ClrVel
         000066b0 00000000! 
    1399                            ;face player
    1400 000066d0     b6e0          move    *A7(BVICT),A0,L
         000066e0     0200  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   34

    1401 000066f0     0d5f          calla   GETPLYR
         00006700 00000000! 
    1402 00006720     b600          move    *A0(POBJ),A0,L
         00006730     00a0  
    1403 00006740     0d5f          calla   FACEOBJ
         00006750 00000000! 
    1404                    
    1405 00006770     b6e6          move    *A7(BIDLEANI),A6,L
         00006780     0180  
    1406                    
    1407                            ;* Do We Rocket?
    1408 00006790     05a0          move    @gangfrck,A0,W
         000067a0 00000000! 
    1409 000067c0     ca10          jrz     NoFRock
    1410 000067d0     afa1          movb    *A13(EROCK),A1
         000067e0     0150  
    1411 000067f0     ca0d          jrz     NoFRock
    1412 00006800     5e01          mpyu    A0,A1
    1413 00006810     0b41          cmpi    1000,A1
         00006820     fc17  
    1414 00006830     c505          jrge    DoFRock
    1415 00006840     4c20          move    A1,A0
    1416 00006850     0d5f          calla   RANDPER
         00006860 00000000! 
    1417 00006880     c904          jrnc    NoFRock
    1418 00006890           DoFRock:
    1419 00006890     09e6          movi    GFROCK,A6       ; Blast Away!!!
         000068a0 0000ad50' 
    1420 000068c0     c01b          jruc    GotWeap
    1421 000068d0           NoFRock:
    1422                    
    1423                            ;* Do We Machine Gun?
    1424 000068d0     05a0          move    @gangmgun,A0,W
         000068e0 00000000! 
    1425 00006900     ca17          jrz     NoMgun
    1426 00006910     afa1          movb    *A13(ECLIP),A1
         00006920     0158  
    1427 00006930     ca14          jrz     NoMgun
    1428 00006940     5e01          mpyu    A0,A1
    1429 00006950     0b41          cmpi    1000,A1
         00006960     fc17  
    1430 00006970     c505          jrge    DoMgun
    1431 00006980     4c20          move    A1,A0
    1432 00006990     0d5f          calla   RANDPER
         000069a0 00000000! 
    1433 000069c0     c90b          jrnc    NoMgun
    1434 000069d0           DoMgun:
    1435 000069d0     0b66          cmpi    GDFIRE,A6
         000069e0 ffff590f' 
    1436 00006a00     cb04          jrnz    RegMGun
    1437 00006a10     09e6          movi    GDMGUN,A6
         00006a20 0000a9b0' 
    1438 00006a40     c003          jruc    GotWeap
    1439 00006a50           RegMGun:
    1440 00006a50     09e6          movi    MGSHOOT,A6      ; Blast Away!!!
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   35

         00006a60 0000a370' 
    1441                    ;       jruc    GotWeap
    1442 00006a80           NoMgun:
    1443                    
    1444 00006a80           GotWeap:
    1445 00006a80     4cc0          move    A6,A0
    1446 00006a90     b2cd          move    A6,*A13(ANIMPTR),L
         00006aa0     0120  
    1447 00006ab0     05a1          move    @WAVETIME,A1,W
         00006ac0 00000000! 
    1448 00006ae0     b4e2          move    *A7(BSYNC),A2,W
         00006af0     01c0  
    1449 00006b00     4441          sub     A2,A1
    1450 00006b10     0d5f          calla   SyncAnim
         00006b20 00000000! 
    1451 00006b40     4c09          move    A0,A9
    1452 00006b50     4c2b          move    A1,A11                  ;slp time for first frame
    1453 00006b60     09c0          movi    FIREACT,A0
         00006b70     0001  
    1454 00006b80     ac0d          movb    A0,*A13(ACTION)
         00006b90     01b0  
    1455 00006ba0     5600          clr     A0
    1456 00006bb0     ac0d          movb    A0,*A13(DEST_TAG)
         00006bc0     01c0  
    1457 00006bd0     b20d          move    A0,*A13(WANTOBJ),L
         00006be0     0220  
    1458                    
    1459 00006bf0           CkFireX:
    1460 00006bf0     0de0          setc
    1461 00006c00     0960          rets
    1462 00006c10           NoFire:
    1463 00006c10     0320          clrc
    1464 00006c20     0960          rets
    1465                    **************************************************************************
    1466                    
    1467                    **************************************************************************
    1468 00006c30           GoHSTEP:
    1469                    ;* entry point for HSTEP only
    1470 00006c30     098f          mmtm    SP,A0,A1,A2
         00006c40     e000  
    1471 00006c50     b7a1          move    *A13(ANIMPTR),A1,L
         00006c60     0120  
    1472 00006c70     09e0          movi    GHSTEP,A0
         00006c80 00009960' 
    1473 00006ca0     4801          cmp     A0,A1
    1474 00006cb0     ca2c          jreq    SkSetAni
    1475                    
    1476                            ;* sync the animation
    1477 00006cc0     b20d          move    A0,*A13(ANIMPTR),L
         00006cd0     0120  
    1478 00006ce0     05a1          move    @WAVETIME,A1,W
         00006cf0 00000000! 
    1479 00006d10     b7a2          move    *A13(BOSS),A2,L
         00006d20     0180  
    1480 00006d30     b442          move    *A2(BSYNC),A2,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   36

         00006d40     01c0  
    1481 00006d50     4441          sub     A2,A1
    1482 00006d60     0d5f          calla   SyncAnim
         00006d70 00000000! 
    1483 00006d90     4c09          move    A0,A9
    1484 00006da0     4c2b          move    A1,A11                  ;slp time for first frame
    1485                    
    1486 00006db0     c01c          jruc    SkSetAni
    1487                    
    1488 00006dc0           GoHStep:
    1489                    ;* entry point for HSTEP or HSTSHT
    1490 00006dc0     098f          mmtm    SP,A0,A1,A2
         00006dd0     e000  
    1491 00006de0     b7a1          move    *A13(ANIMPTR),A1,L
         00006df0     0120  
    1492 00006e00     09e0          movi    GHSTEP,A0
         00006e10 00009960' 
    1493 00006e30     4801          cmp     A0,A1
    1494 00006e40     ca13          jreq    SkSetAni
    1495 00006e50     0b61          cmpi    GHSTSHT,A1
         00006e60 ffff64ff' 
    1496 00006e80     ca0f          jreq    SkSetAni
    1497                    
    1498                            ;* sync the animation
    1499 00006e90     b20d          move    A0,*A13(ANIMPTR),L
         00006ea0     0120  
    1500 00006eb0     05a1          move    @WAVETIME,A1,W
         00006ec0 00000000! 
    1501 00006ee0     b7a2          move    *A13(BOSS),A2,L
         00006ef0     0180  
    1502 00006f00     b442          move    *A2(BSYNC),A2,W
         00006f10     01c0  
    1503 00006f20     4441          sub     A2,A1
    1504 00006f30     0d5f          calla   SyncAnim
         00006f40 00000000! 
    1505 00006f60     4c09          move    A0,A9
    1506 00006f70     4c2b          move    A1,A11                  ;slp time for first frame
    1507                    
    1508 00006f80           SkSetAni:
    1509 00006f80     b700          move    *A8(OXVEL),A0,L
         00006f90     0040  
    1510 00006fa0     cb0d          jrnz    GoHStepX
    1511                    
    1512                            ;* set veloctiy for skaters
    1513 00006fb0     b500          move    *A8(OFLAGS),A0,W
         00006fc0     0100  
    1514 00006fd0     1f60          btst    B_FLIPH,A0
    1515 00006fe0     ca04          jrz     VelPos2
    1516 00006ff0     09e0          movi    -HSTEPVEL,A0
         00007000 fffd6000  
    1517 00007020     c003          jruc    SetXV2
    1518 00007030           VelPos2:
    1519 00007030     09e0          movi    HSTEPVEL,A0
         00007040 0002a000  
    1520 00007060           SetXV2:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   37

    1521 00007060     b208          move    A0,*A8(OXVEL),L
         00007070     0040  
    1522                    ***     calla   UpdShadV
    1523                            
    1524 00007080           GoHStepX:
    1525 00007080     09af          mmfm    SP,A0,A1,A2
         00007090     0007  
    1526 000070a0     0960          rets
    1527                    ****************************************************************************
    1528                    
    1529                    **************************** GetXVel *************************************
    1530 000070b0           GetXVel:
    1531 000070b0     0b69          cmpi    MOVETBL,A9
         000070c0 ffff669f' 
    1532 000070e0     c408          jrlt    NoXvel
    1533 000070f0     0b69          cmpi    MOVEEND,A9
         00007100 ffff62df' 
    1534 00007120     c504          jrge    NoXvel
    1535                    
    1536 00007130     09e0          movi    HSTEPVEL+01000H,A0
         00007140 0002b000  
    1537 00007160     c001          jruc    GotXvel
    1538 00007170           NoXvel:
    1539 00007170     5600          clr     A0
    1540 00007180           GotXvel:
    1541 00007180     0960          rets
    1542                    **************************************************************************
    1543                    
    1544                    ************************************************************************
    1545 00007190           NEEDDUCK:
    1546 00007190     0d5f          calla   NEAR_BUL
         000071a0 00000000! 
    1547 000071c0     4ca0          move    A5,A0   ;* is there a bullet headed our way??
    1548 000071d0     ca4b          jrz     DUKX
    1549                    ;       move    *A5(OYPOS),A2,W
    1550                    ;       subi    ZORIGIN,A2
    1551                    ;       move    *A5(OZPOS),A3,W
    1552                    ;       sub     A2,A3
    1553                    ;       cmpi    45,A3           ;is bullet height < 45
    1554                    ;       jrlt    DUKX
    1555                    ;* BULLET IS HEADING TOWARDS HEAD -- DO SOMETHING !!!
    1556 000071e0     0b46          cmpi    250,A6          ;is bullet real close?
         000071f0     ff05  
    1557 00007200     c748          jrgt    DUKX
    1558 00007210           PICKDUCK:
    1559                    ;* select appropriate ducking frame
    1560 00007210     0b69          cmpi    GDUCK2,A9
         00007220 ffff62af' 
    1561 00007240     ca08          jrz     TryD3
    1562 00007250     0b69          cmpi    GDUCK3,A9
         00007260 ffff627f' 
    1563 00007280     ca04          jrz     TryD3
    1564 00007290     0b69          cmpi    GDUCK4,A9
         000072a0 ffff624f' 
    1565 000072c0     cb25          jrnz    tryD5
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   38

    1566 000072d0           TryD3:
    1567 000072d0     09e9          movi    GDUCK3,A9
         000072e0 00009d80' 
    1568 00007300     09c0          movi    gangmgun,A0,W
         00007310     0000! 
    1569 00007320     0b00          addi    250,A0
         00007330     00fa  
    1570 00007340     0b40          cmpi    1000,A0
         00007350     fc17  
    1571 00007360     c504          jrge    Blastem
    1572 00007370     0d5f          calla   RANDPER
         00007380 00000000! 
    1573 000073a0     c92e          jrnc    DUKX
    1574 000073b0           Blastem:
    1575 000073b0     09e9          movi    GDUCKS3,A9
         000073c0 0000a750' 
    1576                            ;* Do We Rocket?
    1577 000073e0     05a0          move    @gangfrck,A0,W
         000073f0 00000000! 
    1578 00007410     ca0f          jrz     NoDRock
    1579 00007420     afa1          movb    *A13(EROCK),A1
         00007430     0150  
    1580 00007440     ca0c          jrz     NoDRock
    1581 00007450     5e01          mpyu    A0,A1
    1582 00007460     0b41          cmpi    1000,A1
         00007470     fc17  
    1583 00007480     c505          jrge    DoDRock
    1584 00007490     4c20          move    A1,A0
    1585 000074a0     0d5f          calla   RANDPER
         000074b0 00000000! 
    1586 000074d0     c903          jrnc    NoDRock
    1587 000074e0           DoDRock:
    1588 000074e0     09e9          movi    GDUCKR3,A9      ; Blast Away!!!
         000074f0 0000a8b0' 
    1589 00007510           NoDRock:
    1590 00007510     c017          jruc    DUKX
    1591 00007520           tryD5:
    1592 00007520     0b69          cmpi    GDUCK5,A9
         00007530 ffff621f' 
    1593 00007550     cad7          jrz     TryD3
    1594 00007560     0b69          cmpi    GDUCKS4,A9
         00007570 ffff582f' 
    1595 00007590     cad3          jrz     TryD3
    1596 000075a0     0b69          cmpi    GDUCKS5,A9
         000075b0 ffff57ff' 
    1597 000075d0     cacf          jrz     TryD3
    1598 000075e0     0b69          cmpi    GDUCKR4,A9
         000075f0 ffff56cf' 
    1599 00007610     cacb          jrz     TryD3
    1600 00007620     0b69          cmpi    GDUCKR5,A9
         00007630 ffff569f' 
    1601 00007650     cac7          jrz     TryD3
    1602 00007660           DoDuk1:
    1603 00007660     09e9          movi    GDUCK,A9,L
         00007670 00009d20' 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   39

    1604 00007690           DUKX:
    1605 00007690     0960          rets
    1606                    ************************************************************************
    1607                    
    1608                    ****************************  CHECK DANGER  ******************************
    1609                    * if in danger of being shot, jump or duck or move away
    1610 000076a0           CkDngr:
    1611 000076a0     0d5f          calla   NEAR_BUL
         000076b0 00000000! 
    1612 000076d0     4ca0          move    A5,A0   ;* is there a bullet headed our way??
    1613 000076e0     ca6b          jrz     NODNGR
    1614                    
    1615 000076f0     b4a2          move    *A5(OYPOS),A2,W
         00007700     00b0  
    1616 00007710     0be2          subi    ZORIGIN,A2
         00007720     ff37  
    1617 00007730     b4a3          move    *A5(OZPOS),A3,W
         00007740     00d0  
    1618 00007750     4443          sub     A2,A3
    1619 00007760     0b43          cmpi    45,A3           ;is bullet height < 45
         00007770     ffd2  
    1620 00007780     c41c          jrlt    BULL_LOW
    1621                    
    1622                    ;* BULLET IS HEADING TOWARDS HEAD -- DO SOMETHING !!!
    1623 00007790     0b46          cmpi    300,A6          ;is bullet real close?
         000077a0     fed3  
    1624 000077b0     c712          jrgt HGH_FAR
    1625                    ;* bullet is close - duck.
    1626                    
    1627 000077c0           DuckBul:
    1628 000077c0     0d5f          calla   ClrVel
         000077d0 00000000! 
    1629 000077f0     0d3f          callr   PICKDUCK
         00007800     ffa0  
    1630 00007810           DUCKLP:
    1631                            ;* carry out a Duck
    1632 00007810     5621          clr     A1      ;* Do frame with sleep
    1633                    ;       callr   FRANCHEK
    1634 00007820                   jsrp    FRANIM
    1635 00007890     c803          jrc     DUCKX   ;* end of script yet
    1636 000078a0     0d3f          callr   NEEDDUCK
         000078b0     ff8d  
    1637 000078c0     c0f4          jruc    DUCKLP
    1638 000078d0           DUCKX:
    1639 000078d0     c037          jruc    DNGRX
    1640                    
    1641 000078e0           HGH_FAR:
    1642                    ;* bullet is far - run down and away
    1643                            ;* move away from bullet on Z
    1644 000078e0     09c0          movi    200,A0
         000078f0     00c8  
    1645 00007900     0d5f          calla   RANDPER
         00007910 00000000! 
    1646 00007930     c8e8          jrc     DuckBul
    1647 00007940     c045          jruc    NODNGR
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   40

    1648                    
    1649 00007950           BULL_LOW:
    1650                    ;* BULLET IS HEADING TOWARDS FEET -- DO SOMETHING !!!
    1651                            ;* move away from bullet on Z
    1652 00007950     0b46          cmpi    300,A6          ;is bullet real close?
         00007960     fed3  
    1653 00007970     c742          jrgt    NODNGR          ;bullet is still far away
    1654                    
    1655 00007980     09c0          movi    500,A0
         00007990     01f4  
    1656 000079a0     0d5f          calla   RANDPER
         000079b0 00000000! 
    1657 000079d0     c8de          jrc     DuckBul
    1658                    
    1659 000079e0     b500          move    *A8(OID),A0,W
         000079f0     01a0  
    1660 00007a00     0b80          andi    M_GTDODG,A0
         00007a10 fffffffe  
    1661 00007a30     ca36          jrz     NODNGR
    1662                    
    1663                            ;* bullet is near - move out on Z
    1664                            ;* find Z destination
    1665 00007a40     1b23          movk    25,A3
    1666 00007a50     b501          move    *A8(OZPOS),A1,W
         00007a60     00d0  
    1667 00007a70     b4a2          move    *A5(OZPOS),A2,W
         00007a80     00d0  
    1668 00007a90     4822          cmp     A1,A2
    1669 00007aa0     c401          jrlt    SkNegZD
    1670 00007ab0     03a3          neg     A3
    1671 00007ac0           SkNegZD:
    1672 00007ac0     4061          add     A3,A1
    1673 00007ad0     2601          sll     16,A1
    1674                    
    1675                            ;* generate X destination
    1676 00007ae0     09c0          movi    35,A0           ;A0 is magnitude of X distance to run away
         00007af0     0023  
    1677 00007b00     b4a2          move    *A5(OXVEL+16),A2,W      ;Get sign of Bullets velocity
         00007b10     0050  
    1678 00007b20     c101          jrp     XdirOK2
    1679 00007b30     03a0          neg     A0
    1680 00007b40           XdirOK2:
    1681 00007b40     4c02          move    A0,A2
    1682 00007b50     0d5f          calla   GETANIX
         00007b60 00000000! 
    1683 00007b80     4002          add     A0,A2
    1684 00007b90     ee22          movy    A1,A2
    1685 00007ba0     b24d          move    A2,*A13(DEST),L
         00007bb0     01e0  
    1686                    
    1687 00007bc0           DNGRDEST:
    1688 00007bc0     0d5f          calla   ClipZDst
         00007bd0 00000000! 
    1689 00007bf0     0d3f          callr   GoHSTEP
         00007c00     ff02  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   41

    1690 00007c10     0d5f          calla   GoDestV
         00007c20 00000000! 
    1691 00007c40     c00f          jruc    ISDNGR
    1692                    
    1693 00007c50           DNGRX:
    1694 00007c50     5729          clr     A9
    1695 00007c60     ad2d          movb    A9,*A13(DEST_TAG)
         00007c70     01c0  
    1696 00007c80     ad2d          movb    A9,*A13(DESTTIKS)
         00007c90     01a8  
    1697 00007ca0     ad2d          movb    A9,*A13(ACTION)
         00007cb0     01b0  
    1698 00007cc0     b32d          move    A9,*A13(ANIMPTR),L
         00007cd0     0120  
    1699 00007ce0     b32d          move    A9,*A13(WANTOBJ),L
         00007cf0     0220  
    1700 00007d00     0de0          setc
    1701 00007d10                   RETP
    1702                    
    1703 00007d40           ISDNGR:
    1704 00007d40     5600          clr     A0
    1705 00007d50     b20d          move    A0,*A13(WANTOBJ),L
         00007d60     0220  
    1706 00007d70     1a80          movk    BULL_T,A0
    1707 00007d80     ac0d          movb    A0,*A13(DEST_TAG)
         00007d90     01c0  
    1708 00007da0           NODNGR:
    1709 00007da0     0320          clrc
    1710 00007db0                   RETP
    1711                    **************************************************************************
    1712                    
    1713                    
    1714                    **************************************************************************
    1715 00007de0           BOSSX:
    1716 00007de0     4d40          move    A10,A0
    1717 00007df0     0d5f          calla   FREEOBJ
         00007e00 00000000! 
    1718 00007e20           BOSSXX:
    1719 00007e20                   DECW    @GANGCNT
    1720 00007e90                   DIE
    1721 00007ec0           GANGDONE:
    1722 00007ec0     4d00          MOVE    A8,A0           ;GET THE POINTER TO THE OBJECT
    1723 00007ed0     0d5f          calla   DELENEMY                        ;DELETE THE ENEMY
         00007ee0 00000000! 
    1724 00007f00           GANG_DIE:
    1725 00007f00           Busted:
    1726 00007f00     0d3f          callr   PopGrief
         00007f10     0003  
    1727 00007f20                   DIE
    1728                    **************************************************************************
    1729                    
    1730                    **************************************************************************
    1731 00007f50           PopGrief:
    1732 00007f50     098f          mmtm    SP,A0,A1,A2,A3,A4,A5,A6,A10,A13
         00007f60     fe24  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   42

    1733 00007f70     b70d          move    *A8(OPLINK),A13,L       ;in case called from collision scan
         00007f80     01f0  
    1734                    
    1735 00007f90     b7a0          move    *A13(BOSS),A0,L
         00007fa0     0180  
    1736 00007fb0     0d5f          calla   GETA10
         00007fc0 00000000! 
    1737 00007fe0     afa1          movb    *A13(GNUM),A1   ;A1 = # of gangster killed      
         00007ff0     01c8  
    1738 00008000     1902          movk    MAXGANG-1,A2
    1739 00008010           FindBro:
    1740 00008010     4822          cmp     A1,A2
    1741 00008020     c607          jrle    NoSwpId
    1742 00008030     4c43          move    A2,A3
    1743 00008040     24a3          sll     5,A3            ;A3 is a longword ptr
    1744 00008050     4143          add     A10,A3
    1745 00008060     8664          move    *A3,A4,L
    1746 00008070     cb09          jrnz    SwpId
    1747 00008080     1422          dec     A2
    1748 00008090     c0f7          jruc    FindBro
    1749                    
    1750 000080a0           NoSwpId:
    1751 000080a0     4c21          move    A1,A1
    1752 000080b0     ca11          jrz     AllDead
    1753 000080c0     24a1          sll     5,A1
    1754 000080d0     4141          add     A10,A1
    1755 000080e0     5600          clr     A0
    1756 000080f0     8201          move    A0,*A1,L        ;Boss's child pointer cleared
    1757 00008100     c01f          jruc    GriefX
    1758                    
    1759 00008110           SwpId:
    1760 00008110     56a5          clr     A5
    1761 00008120     82a3          move    A5,*A3,L        ;kill bottom child slot
    1762 00008130     4c25          move    A1,A5
    1763 00008140     24a5          sll     5,A5
    1764 00008150     4145          add     A10,A5
    1765 00008160     8285          move    A4,*A5,L        ;Boss's child pointer updated
    1766 00008170     ac24          movb    A1,*A4(GNUM)    ;childs ID updated
         00008180     01c8  
    1767 00008190     bc65          movb    *A3(BCMD),*A5(BCMD) ;keep old cmd
         000081a0     0120  
         000081b0     0120  
    1768 000081c0     c013          jruc    GriefX
    1769                    
    1770 000081d0           AllDead:
    1771                            ;All gangsters are dead, kill Boss and see if time to drop card
    1772 000081d0     4d40          move    A10,A0
    1773 000081e0     0d5f          calla   FREEOBJ
         000081f0 00000000! 
    1774 00008210     b7a0          move    *A13(BOSS),A0,L
         00008220     0180  
    1775 00008230     0d5f          calla   KILL
         00008240 00000000! 
    1776                    
    1777 00008260     05a0          move    @GANGCNT,A0,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   43

         00008270 00000000! 
    1778 00008290     1420          dec     A0
    1779 000082a0     0580          move    A0,@GANGCNT,W
         000082b0 00000000! 
    1780 000082d0     0d5f          calla   CARDCHEK
         000082e0 00000000! 
    1781                    
    1782 00008300           GriefX:
    1783 00008300     09af          mmfm    SP,A0,A1,A2,A3,A4,A5,A6,A10,A13
         00008310     247f  
    1784 00008320     0960          rets
    1785                    **************************************************************************
    1786                    
    1787                    **************************************************************************
    1788 00008330           GRAB:
    1789 00008330     b7a0          move    *A13(WANTOBJ),A0,L
         00008340     0220  
    1790                    
    1791                    ;* If ENEMY Z and OBJ Z don't match, can't grab
    1792 00008350     b401          move    *A0(OZPOS),A1,W
         00008360     00d0  
    1793 00008370     b502          move    *A8(OZPOS),A2,W
         00008380     00d0  
    1794 00008390     4c23          move    A1,A3
    1795 000083a0     4443          sub     A2,A3
    1796 000083b0     0383          abs     A3
    1797 000083c0     0b43          cmpi    10,A3
         000083d0     fff5  
    1798 000083e0     c769          jrgt    NOGRAB
    1799                    
    1800                    ;* Check X distance
    1801 000083f0     b402          move    *A0(OXPOS),A2,W ;A3 - OBJx
         00008400     0090  
    1802 00008410     4c43          move    A2,A3
    1803 00008420     b501          move    *A8(OXPOS),A1,W ;A1 - ENEMYx
         00008430     0090  
    1804 00008440     4422          sub     A1,A2
    1805 00008450     ce07          jrn     ObjLft
    1806 00008460     0b42          cmpi    10,A2
         00008470     fff5  
    1807 00008480     c45f          jrlt    NOGRAB
    1808 00008490     0b42          cmpi    40,A2
         000084a0     ffd7  
    1809 000084b0     c75c          jrgt    NOGRAB
    1810 000084c0     c007          jruc GRABIT
    1811 000084d0           ObjLft:
    1812 000084d0     03a2          neg     A2
    1813 000084e0     0b42          cmpi    15,A2
         000084f0     fff0  
    1814 00008500     c457          jrlt    NOGRAB
    1815 00008510     0b42          cmpi    35,A2
         00008520     ffdc  
    1816 00008530     c754          jrgt    NOGRAB
    1817                    
    1818 00008540           GRABIT:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   44

    1819 00008540     07a1          move    @BOOTY,A1,L
         00008550 00000000! 
    1820 00008570     0d5f          calla   ON_SLIST
         00008580 00000000! 
    1821 000085a0     c94d          jrnc    NOGRAB
    1822 000085b0     4c0a          move    A0,A10
    1823 000085c0     0d5f          calla   FACEOBJ
         000085d0 00000000! 
    1824 000085f0     0d5f          calla   ClrVel
         00008600 00000000! 
    1825 00008620     09e9          movi    GREACH1,A9
         00008630 0000aee0' 
    1826 00008650     1821          movk    1,A1
    1827                    ;       callr   FRANCHEK
    1828 00008660                   jsrp    FRANIM
    1829                            
    1830 000086d0     4d40          move    A10,A0
    1831 000086e0     07a1          move    @BOOTY,A1,L
         000086f0 00000000! 
    1832 00008710     0d5f          calla   ON_SLIST
         00008720 00000000! 
    1833 00008740     c930          jrnc    BADGRAB
    1834                    
    1835 00008750     b740          move    *A10(OPLINK),A0,L
         00008760     01f0  
    1836 00008770     ca06          jrz     NoBtyPrc
    1837 00008780     0d5f          calla   KILL
         00008790 00000000! 
    1838 000087b0     5600          clr     A0
    1839 000087c0     b20a          move    A0,*A10(OPLINK),L
         000087d0     01f0  
    1840 000087e0           NoBtyPrc:
    1841                    
    1842 000087e0     4d40          move    A10,A0                  ;GET THE BLOCK
    1843 000087f0     09e1          movi    BOOTY,A1
         00008800 00000000! 
    1844 00008820     0d5f          calla   DELSUPP                 ;DELETE FROM THE SUPPLEMENTAL LIST
         00008830 00000000! 
    1845 00008850     b541          move    *A10(OID),A1,W
         00008860     01a0  
    1846 00008870     0d5f          calla   DELOBJ                  ;ZAP IT
         00008880 00000000! 
    1847 000088a0     0521          zext    A1,W
    1848 000088b0     0b61          cmpi    CLIPOID,A1
         000088c0 ffff7fec  
    1849 000088e0     cb06          jrnz    SkClip
    1850 000088f0     afa0          movb    *A13(ECLIP),A0
         00008900     0158  
    1851 00008910     1020          inc     A0
    1852 00008920     ac0d          movb    A0,*A13(ECLIP)
         00008930     0158  
    1853 00008940     c005          jruc    CTRX
    1854 00008950           SkClip:
    1855 00008950     afa0          movb    *A13(EROCK),A0
         00008960     0150  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   45

    1856 00008970     1020          inc     A0
    1857 00008980     ac0d          movb    A0,*A13(EROCK)
         00008990     0150  
    1858 000089a0           CTRX:
    1859 000089a0     09e9          movi    GREACH2,A9
         000089b0 0000af60' 
    1860 000089d0     1821          movk    1,A1
    1861                    ;       callr   FRANCHEK
    1862 000089e0                   jsrp    FRANIM
    1863 00008a50           BADGRAB:
    1864 00008a50     5729          clr     A9
    1865 00008a60     b32d          move    A9,*A13(ANIMPTR),L
         00008a70     0120  
    1866 00008a80           NOGRAB:
    1867 00008a80     5600          clr     A0
    1868 00008a90     b20d          move    A0,*A13(WANTOBJ),L
         00008aa0     0220  
    1869 00008ab0                   retp
    1870                    **************************************************************************
    1871                    
    1872                    
    1873                    **************************************************************************
    1874                    ;* to be invoked as a command to the gangster
    1875 00008ae0           STAGGER:
    1876 00008ae0     afa0          movb    *A13(GNUM),A0
         00008af0     01c8  
    1877 00008b00     2440          sll     2,A0
    1878 00008b10     0d5f          calla   PRCSLP
         00008b20 00000000! 
    1879 00008b40     0d3f          callr   ClrCmd
         00008b50     f7f4  
    1880 00008b60     0320          clrc
    1881 00008b70                   retp
    1882                    **************************************************************************
    1883                    
    1884                    
    1885                    *************************************************************************
    1886 00008ba0           GANGCOLL:
    1887 00008ba0     0b10          .WORD   B1OID|BULLETID
    1888 00008bb0 00008de0'         .LONG   GANGCOL0
    1889 00008bd0     0b12          .WORD   B1OID|EXPLODID
    1890 00008be0 00008de0'         .LONG   GANGCOL0
    1891 00008c00     0b14          .WORD   B1OID|ROCKETID
    1892 00008c10 00008de0'         .LONG   GANGCOL0
    1893 00008c30     0b20          .WORD   B2OID|BULLETID
    1894 00008c40 00008de0'         .LONG   GANGCOL0
    1895 00008c60     0b22          .WORD   B2OID|EXPLODID
    1896 00008c70 00008de0'         .LONG   GANGCOL0
    1897 00008c90     0b24          .WORD   B2OID|ROCKETID
    1898 00008ca0 00008de0'         .LONG   GANGCOL0
    1899 00008cc0     0be2          .WORD   BEOID|EXPLODID
    1900 00008cd0 00008de0'         .LONG   GANGCOL0
    1901 00008cf0     0c00          .word   C1OID           ;ENEMY CAR #1 "CADILLAC" OBJECT I.D.
    1902 00008d00 00008de0'         .LONG   GANGCOL0
    1903 00008d20     0c10          .word   CAR2OID         ;ENEMY CAR #2 "PORSCHE" OBJECT I.D.
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   46

    1904 00008d30 00008de0'         .LONG   GANGCOL0
    1905 00008d50     0c20          .word   CAR3OID         ;ENEMY CAR #3 "BELL-JET" OBJECT I.D.
    1906 00008d60 00008de0'         .LONG   GANGCOL0
    1907 00008d80     0c30          .word   TRAN1OID        ;PLAYER TRANSPORT #1 "PORSCHE" OBJECT I.D.
    1908 00008d90 00008de0'         .LONG   GANGCOL0
    1909 00008db0     0000          .WORD   0
    1910 00008dc0 00000000!         .LONG   DUMRTSG
    1911                    
    1912                    **************************************************************************
    1913 00008de0           GANGCOL0:
    1914 00008de0     4d06          MOVE    A8,A6                   ;STORE KILLERS OBLOCK
    1915 00008df0     4c08          MOVE    A0,A8                   ;PASS WASTED GUYS POINTER
    1916 00008e00     0d3f          callr   PopGrief
         00008e10     ff13  
    1917 00008e20     b700          move    *A8(OPLINK),A0,L
         00008e30     01f0  
    1918                    
    1919 00008e40     b6c9          MOVE    *A6(OXVEL),A9,L         ;GET PROJECTILE DATA
         00008e50     0040  
    1920 00008e60     b6ca          MOVE    *A6(OYVEL),A10,L
         00008e70     0060  
    1921 00008e80     b4cb          MOVE    *A6(OID),A11,W          
         00008e90     01a0  
    1922                    
    1923 00008ea0     09ee          MOVI    SPLTCOLBOX,A14
         00008eb0 00000000! 
    1924 00008ed0     b3c8          MOVE    A14,*A8(OCVECT),L       ;COLLISION POINTER
         00008ee0     01d0  
    1925                    
    1926 00008ef0     b700          MOVE    *A8(OPLINK),A0,L
         00008f00     01f0  
    1927 00008f10     0d5f          CALLA   KILL                    ;KILL CONTROL
         00008f20 00000000! 
    1928 00008f40     4c0e          MOVE    A0,A14                  ;STORE THIS RELIC
    1929                            
    1930 00008f50     09c1          MOVI    0EDh,A1
         00008f60     00ed  
    1931 00008f70     09e7          MOVI    WENDIE,A7
         00008f80 00000000! 
    1932 00008fa0     0d5f          CALLA   GETPRC                  ;CREATE A NEW ENEMY DEATH PROCESS
         00008fb0 00000000! 
    1933 00008fd0     ca1a          jrz     SkWendie
    1934 00008fe0     bac0          MOVE    *A6(ODMAXY),*A0(PDATA),L        ;PASS KILLERS DMA XY POSITION
         00008ff0     0210  
         00009000     0060  
    1935 00009010     bac0          MOVE    *A6(OSIZE),*A0(PDATA+20H),L     ;AND KILLERS XY SIZE
         00009020     0140  
         00009030     0080  
    1936 00009040     bbc0          move    *A14(EBCNTRS),*A0(EBCNTRS),L    ;and the booty counters
         00009050     0140  
         00009060     0140  
    1937 00009070     bbc0          MOVE    *A14(EMAINT),*A0(EMAINT),L
         00009080     0100  
         00009090     0100  
    1938                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   47

    1939 000090a0     b4c9          move    *A6(OYPOS),A9,W
         000090b0     00b0  
    1940 000090c0     09c1          MOVI    0EDh,A1
         000090d0     00ed  
    1941 000090e0     09e7          movi    SPLATBOX,A7
         000090f0 00000000! 
    1942 00009110     0d5f          CALLA   GETPRC
         00009120 00000000! 
    1943                    
    1944 00009140           DoDie:
    1945 00009140     09c0          movi    1,A0    ;stop collision scan
         00009150     0001  
    1946 00009160     0320          CLRC            ;Don't delete in Coll routine
    1947 00009170     0960          RETS
    1948 00009180           SkWendie:
    1949 00009180     4d00          move    A8,A0
    1950 00009190     0d5f          calla   DELENEMY
         000091a0 00000000! 
    1951 000091c0     c0f7          jruc    DoDie
    1952                    *************************************************************************
    1953                    
    1954                    **************************************************************************
    1955 000091d0           FRANCHEK:
    1956 000091d0     0b69          cmpi    FRANMIN,A9
         000091e0 ffff669f' 
    1957 00009200     c400          jrlt    $
         00009210     fffe  
    1958 00009220     0b69          cmpi    FRANMAX,A9
         00009230 ffff504f' 
    1959 00009250     c700          jrgt    $
         00009260     fffe  
    1960 00009270     0960          rets
    1961                    **************************************************************************
    1962                    
    1963                    
    1964                    **************************************************************************
    1965                    ;WALKING JUMPING DEATH FRAGMENT STANDING-SHOOT KNEELING-SHOOT
    1966                    ;STANDING KNEELING
    1967                    
    1968 00009280     0001  GANGOFF .WORD   1,3,4,9,18,34,50,50
    1969                    *THE GANG ENEMY, ANIMATION PTR TABLE, FIRST LONG WORD IS THE OFFSET PTR
    1970                    *
    1971 00009300 00009280' GANGTAB .LONG   GANGOFF
    1972 00009320 00009e30'         .LONG   GDIE,GDIE,GDIE,GDIE,GDIE,GEXP1,GEXP2,GDROCK
    1973                    
    1974 00009420 0000b5e0'         .LONG   GFRAG1,GFRAG2,GFRAG3,GFRAG4
    1975 000094a0 0000b5e0'         .LONG   GFRAG1,GFRAG2,GFRAG3,GFRAG4,0
    1976                    
    1977 00009540 00000000          .LONG   0,0,0,0,0,0,0,0
    1978 00009640 00000000          .LONG   0,0,0,0,0,0,0,0
    1979 00009740 00000000          .LONG   0,0,0,0,0,0,0,0
    1980 00009840 00000000          .LONG   0,0,0,0,0,0,0,0
    1981                    
    1982 00009940 0000a110'         .LONG   GBSTAND
    1983                    *************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   48

    1984                    
    1985                    ;* GANGSTER ANIMATION SCRIPTS
    1986                    * FIRE FRAME TABLE ENTRY:                   
    1987                    *       FAFRAME FRAME,SLEEPT,XOFFSET,YOFFSET,PROCID,PROCESS_ADDRESS,CW
    1988                    
    1989          0002a000  HSTEPVEL        .set    02A000H
    1990                    
    1991 00009960           FRANMIN:
    1992 00009960           MOVETBL:
    1993 00009960           GHSTEP:
    1994 00009960 00000000"         .long   gh1a
    1995 00009980     0005          .word   5
    1996 00009990 00000080"         .long   gh2a
    1997 000099b0     0005          .word   5
    1998 000099c0 00000100"         .long   gh3a
    1999 000099e0     0005          .word   5
    2000 000099f0 00000180"         .long   gh4a
    2001 00009a10     0005          .word   5
    2002 00009a20 00000200"         .long   gh5a
    2003 00009a40     0006          .word   6
    2004 00009a50           PostSht1:
    2005 00009a50 00000280"         .long   gh6a
    2006 00009a70     0005          .word   5
    2007 00009a80 00000300"         .long   gh7a
    2008 00009aa0     0005          .word   5
    2009 00009ab0 00000380"         .long   gh8a
    2010 00009ad0     0005          .word   5
    2011 00009ae0                   LONGNULL
    2012 00009b00           GHSTSHT:
    2013 00009b00 00000000"         .long   gh1a
    2014 00009b20     0005          .word   5
    2015 00009b30 00000080"         .long   gh2a
    2016 00009b50     0005          .word   5
    2017 00009b60 00000100"         .long   gh3a
    2018 00009b80     0005          .word   5
    2019 00009b90 00000180"         .long   gh4a
    2020 00009bb0     0003          .word   3
    2021 00009bc0 00000a00"         .long   n_sht1
    2022 00009be0     0002          .word   2
    2023 00009bf0 00000a80"         .long   n_sht2
    2024 00009c10     8005          .word   SPAWNP|5,32,-22,0EBH
    2025 00009c50 00000000!         .long   EBULLET
    2026 00009c70 00000280"         .long   gh6a
    2027 00009c90     0005          .word   5
    2028 00009ca0 00000300"         .long   gh7a
    2029 00009cc0     0005          .word   5
    2030 00009cd0 00000380"         .long   gh8a
    2031 00009cf0     0005          .word   5
    2032 00009d00                   LONGNULL
    2033 00009d20           MOVEEND:
    2034                    
    2035 00009d20           GDUCK:
    2036 00009d20 00000400"         .long   n_duck1
    2037 00009d40     0003          .word   3
    2038 00009d50           GDUCK2:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   49

    2039 00009d50 00000480"         .long   n_duck2
    2040 00009d70     0003          .word   3
    2041 00009d80           GDUCK3:
    2042 00009d80 00001100"         .long   gduck3
    2043 00009da0     0007          .word   7
    2044 00009db0           GDUCK4:
    2045 00009db0 00000480"         .long   n_duck2
    2046 00009dd0     0006          .word   6
    2047 00009de0           GDUCK5:
    2048 00009de0 00000400"         .long   n_duck1
    2049 00009e00     0005          .word   5
    2050 00009e10                   LONGNULL
    2051 00009e30           GDIE:
    2052 00009e30 00000d00"         .long   n_die1
    2053 00009e50     0005          .word   5
    2054 00009e60 00000d80"         .long   n_die2
    2055 00009e80     0007          .word   7
    2056 00009e90 00000e00"         .long   n_die3
    2057 00009eb0     000a          .word   10
    2058 00009ec0 00000e80"         .long   n_die4
    2059 00009ee0     000a          .word   10
    2060 00009ef0                   LONGNULL
    2061 00009f10           GANGBUST:
    2062 00009f10 00000f00"         .long   n_bt2
    2063 00009f30     000a          .word   10
    2064 00009f40 00000f80"         .long   n_bust1
    2065 00009f60     000a          .word   10
    2066 00009f70 00001000"         .long   n_bust3
    2067 00009f90     000a          .word   10
    2068 00009fa0 00001080"         .long   n_bust4
    2069 00009fc0     000a          .word   10
    2070 00009fd0                   LONGNULL
    2071 00009ff0           GKNEELED:
    2072 00009ff0 00000500"         .long   n_duck3
    2073 0000a010     000a          .word   10
    2074 0000a020                   LONGNULL
    2075 0000a040           GUNKNEEL:
    2076 0000a040 00000480"         .long   n_duck2
    2077 0000a060     0008          .word   8
    2078 0000a070 00000400"         .long   n_duck1
    2079 0000a090     0008          .word   8
    2080 0000a0a0                   LONGNULL
    2081 0000a0c0           GBHEADTRN:
    2082 0000a0c0 00000c80"         .long   n_bht3
    2083 0000a0e0     000a          .word   10
    2084 0000a0f0                   LONGNULL
    2085 0000a110           GBSTAND:
    2086 0000a110 00000c00"         .long   n_bht1
    2087 0000a130     000a          .word   10
    2088 0000a140                   LONGNULL
    2089 0000a160           GBHDTRNL:
    2090 0000a160 00000c80"         .long   n_bht3
    2091 0000a180     400a          .WORD   FLIPBITS|10,M_FLIPH
    2092 0000a1a0                   LONGNULL
    2093 0000a1c0           GBHDTRNR:
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   50

    2094 0000a1c0 00000c80"         .long   n_bht3
    2095 0000a1e0     400a          .WORD   FLIPBITS|10,0
    2096 0000a200                   LONGNULL
    2097 0000a220           GSTAND:
    2098 0000a220 00000b00"         .long   n_sht3
    2099 0000a240     0006          .word   6
    2100 0000a250                   LONGNULL
    2101 0000a270           GFIRE:
    2102 0000a270 00000b00"         .long   n_sht3
    2103 0000a290     0009          .word   9
    2104 0000a2a0 00000b80"         .long   n_sht4
    2105 0000a2c0     8007          .word   SPAWNP|7,24,-25,0EBH
    2106 0000a300 00000000!         .long   EBULLET
    2107 0000a320 00000b00"         .long   n_sht3
    2108 0000a340     0006          .word   6
    2109 0000a350                   LONGNULL
    2110 0000a370           MGSHOOT:
    2111 0000a370 00000b00"         .long   n_sht3
    2112 0000a390     0003          .word   3
    2113 0000a3a0 00000b80"         .long   n_sht4
    2114 0000a3c0     8003          .word   SPAWNP|3,24,-25,0EBH
    2115 0000a400 00000000!         .long   EBULLET
    2116 0000a420 00000b00"         .long   n_sht3
    2117 0000a440     0002          .word   2
    2118 0000a450 00000b80"         .long   n_sht4
    2119 0000a470     8003          .word   SPAWNP|3,24,-25,0EBH
    2120 0000a4b0 00000000!         .long   EBULLET
    2121 0000a4d0 00000b00"         .long   n_sht3
    2122 0000a4f0     0003          .word   3
    2123 0000a500 00000b80"         .long   n_sht4
    2124 0000a520     8003          .word   SPAWNP|3,24,-25,0EBH
    2125 0000a560 00000000!         .long   EBULLET
    2126 0000a580 00000b00"         .long   n_sht3
    2127 0000a5a0     0002          .word   2
    2128 0000a5b0 00000b80"         .long   n_sht4
    2129 0000a5d0     8003          .word   SPAWNP|3,24,-25,0EBH
    2130 0000a610 00000000!         .long   EBULLET
    2131 0000a630                   LONGNULL
    2132 0000a650           GDSHOOT:
    2133 0000a650 00000500"         .long   n_duck3
    2134 0000a670     8007          .word   SPAWNP|7,20,-15,0EBH
    2135 0000a6b0 00000000!         .long   EBULLET
    2136 0000a6d0                   LONGNULL
    2137                    
    2138 0000a6f0           GDFIRE:
    2139 0000a6f0           GDUCKS:
    2140 0000a6f0 00000400"         .long   n_duck1
    2141 0000a710     0003          .word   3
    2142 0000a720           GDUCKS2:
    2143 0000a720 00000480"         .long   n_duck2
    2144 0000a740     0004          .word   4
    2145 0000a750           GDUCKS3:
    2146 0000a750 00000500"         .long   n_duck3
    2147 0000a770     8008          .word   SPAWNP|8,20,-7,0EBH
    2148                    *       FAFRAME FRAME,SLEEPT,XOFFSET,YOFFSET,PROCID,PROCESS_ADDRESS,CW
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   51

    2149 0000a7b0 00000000!         .long   EBULLET
    2150 0000a7d0           GDUCKS4:
    2151 0000a7d0 00000480"         .long   n_duck2
    2152 0000a7f0     0004          .word   4
    2153 0000a800           GDUCKS5:
    2154 0000a800 00000400"         .long   n_duck1
    2155 0000a820     0005          .word   5
    2156 0000a830                   LONGNULL
    2157                    
    2158 0000a850           GDUCKR:
    2159 0000a850 00000400"         .long   n_duck1
    2160 0000a870     0003          .word   3
    2161 0000a880           GDUCKR2:
    2162 0000a880 00000480"         .long   n_duck2
    2163 0000a8a0     0004          .word   4
    2164 0000a8b0           GDUCKR3:
    2165 0000a8b0 00000500"         .long   n_duck3
    2166 0000a8d0     800a          .word   SPAWNP|10,20,-15,0EBH
    2167 0000a910 00000000!         .long   EROCKET
    2168 0000a930           GDUCKR4:
    2169 0000a930 00000480"         .long   n_duck2
    2170 0000a950     0004          .word   4
    2171 0000a960           GDUCKR5:
    2172 0000a960 00000400"         .long   n_duck1
    2173 0000a980     0005          .word   5
    2174 0000a990                   LONGNULL
    2175                    
    2176                    
    2177 0000a9b0           GDMGUN:
    2178 0000a9b0 00000400"         .long   n_duck1
    2179 0000a9d0     0003          .word   3
    2180 0000a9e0 00000480"         .long   n_duck2
    2181 0000aa00     0004          .word   4
    2182 0000aa10 00000500"         .long   n_duck3
    2183 0000aa30     8002          .word   SPAWNP|2,20,-7,0EBH
    2184 0000aa70 00000000!         .long   EBULLET
    2185 0000aa90 00001100"         .long   gduck3
    2186 0000aab0     0003          .word   3
    2187 0000aac0 00000500"         .long   n_duck3
    2188 0000aae0     8002          .word   SPAWNP|2,20,-7,0EBH
    2189 0000ab20 00000000!         .long   EBULLET
    2190 0000ab40 00001100"         .long   gduck3
    2191 0000ab60     0003          .word   3
    2192 0000ab70 00000500"         .long   n_duck3
    2193 0000ab90     8002          .word   SPAWNP|2,20,-7,0EBH
    2194 0000abd0 00000000!         .long   EBULLET
    2195 0000abf0 00001100"         .long   gduck3
    2196 0000ac10     0003          .word   3
    2197 0000ac20 00000500"         .long   n_duck3
    2198 0000ac40     8002          .word   SPAWNP|2,20,-7,0EBH
    2199 0000ac80 00000000!         .long   EBULLET
    2200 0000aca0 00001100"         .long   gduck3
    2201 0000acc0     0003          .word   3
    2202 0000acd0 00000480"         .long   n_duck2
    2203 0000acf0     0004          .word   4
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   52

    2204 0000ad00 00000400"         .long   n_duck1
    2205 0000ad20     0005          .word   5
    2206 0000ad30                   LONGNULL
    2207                    
    2208 0000ad50           GFROCK:
    2209 0000ad50 00000400"         .long   n_duck1
    2210 0000ad70     0003          .word   3
    2211 0000ad80 00000480"         .long   n_duck2
    2212 0000ada0     0004          .word   4
    2213 0000adb0 00000500"         .long   n_duck3
    2214 0000add0     0007          .word   7
    2215 0000ade0 00000500"         .long   n_duck3
    2216 0000ae00     8007          .word   SPAWNP|7,20,-15,0EBH
    2217 0000ae40 00000000!         .long   EROCKET
    2218 0000ae60 00000480"         .long   n_duck2
    2219 0000ae80     0006          .word   6
    2220 0000ae90 00000400"         .long   n_duck1
    2221 0000aeb0     0005          .word   5
    2222 0000aec0                   LONGNULL
    2223                    
    2224 0000aee0           GREACH1:
    2225 0000aee0 00000580"         .long   n_pk1
    2226 0000af00     0007          .word   7
    2227 0000af10 00000600"         .long   n_pk2
    2228 0000af30     000a          .word   10
    2229 0000af40                   LONGNULL
    2230 0000af60           GREACH2:
    2231 0000af60 00000680"         .long   n_pk3
    2232 0000af80     0007          .word   7
    2233 0000af90                   LONGNULL
    2234 0000afb0           FRANMAX:
    2235                    
    2236 0000afb0           GWALK:
    2237 0000afb0 00000700"         .long   n_wa1
    2238 0000afd0     0005          .word   5
    2239 0000afe0 00000780"         .long   n_wa2
    2240 0000b000     0005          .word   5
    2241 0000b010 00000800"         .long   n_wa3
    2242 0000b030     0005          .word   5
    2243 0000b040 00000880"         .long   n_wa4
    2244 0000b060     0005          .word   5
    2245 0000b070 00000900"         .long   n_wa5
    2246 0000b090     0005          .word   5
    2247 0000b0a0 00000980"         .long   n_wa6
    2248 0000b0c0     0005          .word   5
    2249 0000b0d0                   LONGNULL
    2250                    
    2251 0000b0f0           GDROCK:                         ;Gangster HIT BY ROCKET
    2252 0000b0f0 00000000!         .long   LCREOSOTE
    2253 0000b110     2005          .word   NEWPALET|5
    2254 0000b120 00000000!         .LONG   NARCS
    2255 0000b140                   LONGNULL
    2256 0000b160           GEXP1:
    2257 0000b160 00000000!         .long   BGDF3C
    2258 0000b180     6002          .word   FLIPBITS|NEWPALET|2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   53

    2259 0000b190     0000          .WORD   0
    2260 0000b1a0 00000000!         .LONG   NARCS
    2261 0000b1c0 00000000!         .long   BGDF3C
    2262 0000b1e0     4002          .word   FLIPBITS|2,M_FLIPV
    2263 0000b200 00000000!         .long   BGDF3C
    2264 0000b220     4002          .word   FLIPBITS|2,M_FLIPH
    2265 0000b240 00000000!         .long   BGDF3C
    2266 0000b260     4002          .word   FLIPBITS|2,M_FLIPV|M_FLIPH
    2267 0000b280 00000000!         .long   BGDF4C
    2268 0000b2a0     4002          .word   FLIPBITS|2,00000h
    2269 0000b2c0 00000000!         .long   BGDF4C
    2270 0000b2e0     4002          .word   FLIPBITS|2,M_FLIPV
    2271 0000b300 00000000!         .long   BGDF4C
    2272 0000b320     4002          .word   FLIPBITS|2,M_FLIPH
    2273 0000b340 00000000!         .long   BGDF4C
    2274 0000b360     4002          .word   FLIPBITS|2,M_FLIPV|M_FLIPH
    2275 0000b380                   LONGNULL
    2276 0000b3a0           GEXP2:
    2277 0000b3a0 00000000!         .long   BGDF3C
    2278 0000b3c0     6002          .word   FLIPBITS|NEWPALET|2
    2279 0000b3d0     0000          .WORD   0
    2280 0000b3e0 00000000!         .LONG   NARCS
    2281 0000b400 00000000!         .long   BGDF3C
    2282 0000b420     4002          .word   FLIPBITS|2,M_FLIPV
    2283 0000b440 00000000!         .long   BGDF3C
    2284 0000b460     4002          .word   FLIPBITS|2,M_FLIPH
    2285 0000b480 00000000!         .long   BGDF3C
    2286 0000b4a0     4002          .word   FLIPBITS|2,M_FLIPV|M_FLIPH
    2287 0000b4c0 00000000!         .long   BGDF4C
    2288 0000b4e0     4002          .word   FLIPBITS|2,00000h
    2289 0000b500 00000000!         .long   BGDF4C
    2290 0000b520     4002          .word   FLIPBITS|2,M_FLIPV
    2291 0000b540 00000000!         .long   BGDF4C
    2292 0000b560     4002          .word   FLIPBITS|2,M_FLIPH
    2293 0000b580 00000000!         .long   BGDF4C
    2294 0000b5a0     4002          .word   FLIPBITS|2,M_FLIPV|M_FLIPH
    2295 0000b5c0                   LONGNULL
    2296 0000b5e0           GFRAG1:
    2297 0000b5e0 00000000!         .long   LLEG1
    2298 0000b600     0002          .word   2
    2299 0000b610 00000000!         .long   LLEG2
    2300 0000b630     0002          .word   2
    2301 0000b640 00000000!         .long   LLEG3
    2302 0000b660     0002          .word   2
    2303 0000b670 00000000!         .long   LLEG4
    2304 0000b690     0002          .word   2
    2305 0000b6a0 00000000!         .long   LLEG5
    2306 0000b6c0     0002          .word   2
    2307 0000b6d0 00000000!         .long   LLEG6
    2308 0000b6f0     0002          .word   2
    2309 0000b700 00000000!         .long   LLEG7
    2310 0000b720     0002          .word   2
    2311 0000b730 00000000!         .long   LLEG8
    2312 0000b750     0002          .word   2
    2313 0000b760 00000000          .LONG   0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   54

    2314 0000b780           GFRAG2:
    2315 0000b780 00000000!         .long   L4ARM1
    2316 0000b7a0     0002          .word   2
    2317 0000b7b0 00000000!         .long   L4ARM2
    2318 0000b7d0     0002          .word   2
    2319 0000b7e0 00000000!         .long   L4ARM3
    2320 0000b800     0002          .word   2
    2321 0000b810 00000000!         .long   L4ARM4
    2322 0000b830     0002          .word   2
    2323 0000b840 00000000!         .long   L4ARM5
    2324 0000b860     0002          .word   2
    2325 0000b870 00000000!         .long   L4ARM6
    2326 0000b890     0002          .word   2
    2327 0000b8a0 00000000!         .long   L4ARM7
    2328 0000b8c0     0002          .word   2
    2329 0000b8d0 00000000!         .long   L4ARM8
    2330 0000b8f0     0002          .word   2
    2331 0000b900 00000000          .LONG   0
    2332 0000b920           GFRAG3:
    2333 0000b920 00000000!         .long   LSHIN1
    2334 0000b940     0002          .word   2
    2335 0000b950 00000000!         .long   LSHIN2
    2336 0000b970     0002          .word   2
    2337 0000b980 00000000!         .long   LSHIN3
    2338 0000b9a0     0002          .word   2
    2339 0000b9b0 00000000!         .long   LSHIN4
    2340 0000b9d0     0002          .word   2
    2341 0000b9e0 00000000!         .long   LSHIN5
    2342 0000ba00     0002          .word   2
    2343 0000ba10 00000000!         .long   LSHIN6
    2344 0000ba30     0002          .word   2
    2345 0000ba40 00000000!         .long   LSHIN7
    2346 0000ba60     0002          .word   2
    2347 0000ba70 00000000!         .long   LSHIN8
    2348 0000ba90     0002          .word   2
    2349 0000baa0 00000000          .LONG   0
    2350 0000bac0           GFRAG4:
    2351 0000bac0 00000000!         .long   LGOAT1
    2352 0000bae0     0002          .word   2
    2353 0000baf0 00000000!         .long   LGOAT2
    2354 0000bb10     0002          .word   2
    2355 0000bb20 00000000!         .long   LGOAT3
    2356 0000bb40     0002          .word   2
    2357 0000bb50 00000000!         .long   LGOAT4
    2358 0000bb70     0002          .word   2
    2359 0000bb80 00000000!         .long   LGOAT5
    2360 0000bba0     0002          .word   2
    2361 0000bbb0 00000000!         .long   LGOAT6
    2362 0000bbd0     0002          .word   2
    2363 0000bbe0 00000000!         .long   LGOAT7
    2364 0000bc00     0002          .word   2
    2365 0000bc10 00000000!         .long   LGOAT8
    2366 0000bc30     0002          .word   2
    2367 0000bc40 00000000!         .long   LGOAT9
    2368 0000bc60     0002          .word   2
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   55

    2369 0000bc70 00000000!         .long   LGOAT10
    2370 0000bc90     0002          .word   2
    2371 0000bca0 00000000          .LONG   0
    2372 0000bcc0           GANGNUL:
    2373 0000bcc0 00000000          .LONG   0
    2374                    
    2375                    
    2376              0009  NUMCRIM .set    MAXGANG
    2377                    ****************************************************************************
    2378 0000bce0           GANGCRM1:
    2379 0000bce0     0d5f          CALLA   GETOBJ          ;GET AN OBJECT BLOCK
         0000bcf0 00000000! 
    2380 0000bd10     ca00          jrz     BOSSXX
         0000bd20     fc0f  
    2381 0000bd30     4c0a          move    A0,A10          ;A10 - ptr to extra space
    2382 0000bd40     0d5f          calla   CLROBJ
         0000bd50 00000000! 
    2383                    
    2384                            ;* initialize BOSS'S VARS
    2385 0000bd70     5600          clr     A0
    2386 0000bd80     0d3f          callr   CmdAll
         0000bd90     f4a2  
    2387 0000bda0     5600          clr     A0
    2388 0000bdb0     ac0d          movb    A0,*A13(ACTION)
         0000bdc0     01b0  
    2389                    
    2390 0000bdd0     09e2          movi    CONTCRIM,A2
         0000bde0 0000be40' 
    2391 0000be00     09c3          movi    NUMCRIM,A3
         0000be10     0009  
    2392 0000be20     c000          jruc    DISPATCH
         0000be30     f55d  
    2393 0000be40           CONTCRIM:
    2394 0000be40     05a0          move    @(WORLDTLX+16),A0,W                              
         0000be50 00000010! 
    2395 0000be70     0b00          addi    255,A0
         0000be80     00ff  
    2396 0000be90     b00d          move    A0,*A13(BXPOS),W
         0000bea0     01e0  
    2397 0000beb0     05a0          move    @PLZMIN,A0,W                                                                     
         0000bec0 00000000! 
    2398 0000bee0     0b00          addi    5,A0
         0000bef0     0005  
    2399 0000bf00     b00d          move    A0,*A13(BZPOS),W
         0000bf10     01f0  
    2400                    
    2401 0000bf20     09e0          movi    GF_HOR2,A0
         0000bf30 00002190' 
    2402 0000bf50     b20d          move    A0,*A13(BFORM),L
         0000bf60     0220  
    2403                    
    2404 0000bf70     09e1          movi    GBSTAND,A1
         0000bf80 0000a110' 
    2405 0000bfa0     b22d          move    A1,*A13(BIDLEANI),L
         0000bfb0     0180  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   56

    2406 0000bfc0     05a1          move    @WAVETIME,A1,W
         0000bfd0 00000000! 
    2407 0000bff0     b02d          move    A1,*A13(BSYNC),W
         0000c000     01c0  
    2408 0000c010                   SLEEP   10
    2409 0000c050     09e1          movi    GBHDTRNL,A1
         0000c060 0000a160' 
    2410 0000c080     b22d          move    A1,*A13(BIDLEANI),L
         0000c090     0180  
    2411 0000c0a0     05a1          move    @WAVETIME,A1,W
         0000c0b0 00000000! 
    2412 0000c0d0     b02d          move    A1,*A13(BSYNC),W
         0000c0e0     01c0  
    2413 0000c0f0                   SLEEP   20
    2414 0000c130     09e1          movi    GBSTAND,A1
         0000c140 0000a110' 
    2415 0000c160     b22d          move    A1,*A13(BIDLEANI),L
         0000c170     0180  
    2416 0000c180     05a1          move    @WAVETIME,A1,W
         0000c190 00000000! 
    2417 0000c1b0     b02d          move    A1,*A13(BSYNC),W
         0000c1c0     01c0  
    2418 0000c1d0                   SLEEP   10
    2419 0000c210     09e1          movi    GBHDTRNR,A1
         0000c220 0000a1c0' 
    2420 0000c240     b22d          move    A1,*A13(BIDLEANI),L
         0000c250     0180  
    2421 0000c260     05a1          move    @WAVETIME,A1,W
         0000c270 00000000! 
    2422 0000c290     b02d          move    A1,*A13(BSYNC),W
         0000c2a0     01c0  
    2423 0000c2b0                   SLEEP   20
    2424                    
    2425 0000c2f0     09c3          movi    NUMCRIM,A3
         0000c300     0009  
    2426 0000c310     4d41          move    A10,A1
    2427 0000c320           KillCrim:
    2428 0000c320     9620          move    *A1+,A0,L
    2429 0000c330     0d5f          calla   KILL
         0000c340 00000000! 
    2430 0000c360     3ca3          dsjs    A3,KillCrim
    2431                    
    2432 0000c370     09e0          movi    gangpal,A0
         0000c380 00000000! 
    2433 0000c3a0     0d5f          calla   FINDPAL
         0000c3b0 00000000! 
    2434 0000c3d0     0580          move    A0,@CRIMEPAL,W
         0000c3e0 00000000! 
    2435 0000c400                   retp
    2436                    ****************************************************************************
    2437                    
    2438 0000c430           blugang:        ;PAL #0
    2439 0000c430     0100          .word   256     ;pal size
    2440 0000c440     0000          .word 00H,01H,0400H,0C00H,0C03H,01400H,01400H,01403H,0C06H,021H
    2441 0000c4e0     0421          .word 0421H,0C21H,0443H,0C43H,0C44H,0C64H,01443H,01463H,01444H,01464H
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:20:46 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- GANGSTER >>>                                     PAGE   57

    2442 0000c580     1464          .word 01464H,01446H,01466H,01466H,01484H,01486H,01487H,014A7H,01C43H,01C64H
    2443 0000c620     2441          .word 02441H,02463H,01C84H,02483H,01C67H,01C86H,01C87H,01C66H,01C86H,02467H
    2444 0000c6c0     1ca4          .word 01CA4H,024A3H,01CA6H,024C6H,01CA7H,01CA7H,024A7H,024A7H,01CC7H,01CC7H
    2445 0000c760     24c7          .word 024C7H,024E7H,01489H,01C89H,01CA9H,01CA9H,01CC9H,01CC9H,01CE9H,014ABH
    2446 0000c800     1ccb          .word 01CCBH,01CCCH,014CFH,01CCBH,01CEBH,01CCCH,01CCFH,0248BH,024A9H,024ABH
    2447 0000c8a0     24a9          .word 024A9H,024ABH,024C9H,024CBH,024C9H,024CBH,024E9H,024EBH,024E9H,024EBH
    2448 0000c940     24ac          .word 024ACH,024CCH,024ACH,024CCH,024ECH,024ECH,024CFH,024EEH,024EFH,01D0BH
    2449 0000c9e0     1d2b          .word 01D2BH,02509H,0250BH,02529H,0252BH,0250CH,0252CH,02509H,0250BH,0250CH
    2450 0000ca80     2529          .word 02529H,0252BH,0254BH,0252CH,0254CH,01D0EH,01D0EH,0250EH,0250EH,0250FH
    2451 0000cb20     250f          .word 0250FH,02511H,0254FH,0252EH,0252FH,0254FH,02531H,02593H,02C83H,02CA7H
    2452 0000cbc0     2ca9          .word 02CA9H,02CC7H,02CE9H,02CCBH,02CEBH,02CEBH,02CECH,02CEEH,02CEEH,02D09H
    2453 0000cc60     2d07          .word 02D07H,02D09H,02D0BH,02D0BH,02D0CH,02D0CH,02D27H,02D29H,02D29H,02D2BH
    2454 0000cd00     2d4b          .word 02D4BH,02D2BH,02D4BH,02D2CH,02D2CH,02D4CH,02D4CH,02D8CH,02D0EH,02D0EH
    2455 0000cda0     2d2e          .word 02D2EH,02D4EH,02D2EH,02D4EH,03484H,034E4H,034E7H,034CBH,034ECH,0350CH
    2456 0000ce40     350e          .word 0350EH,03529H,0352CH,0352EH,0354BH,0354EH,0358EH,044A1H,04504H,03CEBH
    2457 0000cee0     4ceb          .word 04CEBH,04549H,0452CH,045AEH,05504H,0552CH,05D2BH,05DA7H,05DACH,06DCBH
    2458 0000cf80     6dce          .word 06DCEH,02D0FH,02D0FH,02D11H,02D2FH,02D2FH,0352FH,02D31H,03531H,02D4FH
    2459 0000d020     2d51          .word 02D51H,02D91H,0354FH,03551H,03591H,02D93H,03553H,03593H,02D96H,03594H
    2460 0000d0c0     3531          .word 03531H,0354FH,03551H,03591H,035B1H,03593H,035B4H,03D4FH,03D33H,03D91H
    2461 0000d160     3d93          .word 03D93H,03DB1H,03DB3H,03DB4H,03D91H,03DB3H,03DB6H,04591H,045B4H,04593H
    2462 0000d200     5d91          .word 05D91H,035D4H,03DD4H,03DD3H,045D6H,04614H,04DD1H,04DD6H,04E0DH,05DF3H
    2463 0000d2a0     6614          .word 06614H,03DF7H,03E13H,04DF9H,04E52H,06639H,06671H,05E74H,066F7H,07611H
    2464 0000d340     7e53          .word 07E53H,07657H,076BBH,07F33H,07F98H,07F9AH,07FFAH,077DDH,07F9DH,07FDDH
    2465 0000d3e0     7fdf          .word 07FDFH,07FFCH,07FFDH,07FFEH,07FFFH,07FFFH
    2466                    
    2467 0000d440           GANGPALS:
    2468 0000d440 00000000!         .long   gangpal
    2469 0000d460 0000c430'         .long   blugang
    2470                    

 No Errors,  No Warnings
