TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .FILE   "NARCBULL.ASM"
       3                    
       4                    **************************************************************************
       5                    *                                                                        *
       6                    *       COPYRIGHT (C) 1988 WILLIAMS ELECTRONICS GAMES, INC.              *
       7                    *       ALL RIGHTS RESERVED.                                             *
       8                    *                                                                        *
       9                    **************************************************************************
      10                    
      11                            .WIDTH  132
      12                            .OPTION B,D,L
      13                            .MNOLIST        
      14                    
      15                    *       GET THE SYSTEM STUFF
      16                            .INCLUDE        "\video\MPROCEQU.ASM"   ;MPROC equates
      17                            .INCLUDE        "\video\DISPEQU.ASM"    ;Display processor equates
      18                            .INCLUDE        "\video\GSP.INC"        ;GSP assembler equates
      19                            .INCLUDE        "\video\SYS.INC"        ;Zunit system equates
      20                            .INCLUDE        "\video\MACROS.HDR"     ;Macros, Yeah!
      21                    *       LOCAL STUFF
      22                            .INCLUDE        "NARCEQU.ASM"           ;NARC Equates
      23                            .INCLUDE        "NARCTEQU.ASM"          ;TODD JIZZ
      24                            .INCLUDE        "IMGTBL.GLO"            ;Image Label Equates
      25                    
      26                    *
      27                    *GLOBALS IN THIS FIEL
      28                            .GLOBAL BCOLDDMP,BCOLDCAN,BCOLDPST,BCOLDSID,BCOLL1,BULLRET1,BULLRET2
      29                    
      30 00000000                   .EVEN
      31 00000000                   .TEXT
      32                    
      33                    **************************************************************************
      34                    *                                                                        *
      35                    * PLAYER/ENEMY BULLET, FLAME THROWER AND ROCKET LAUNCHER ROUTINES        *
      36                    *                                                                        *
      37                    **************************************************************************
      38                    **************************************************************************
      39                    *                                                                        *
      40                    * EBULL45 - ENEMY BULLET AT 45 DEGREES DOWN                              *
      41                    * A8 = OBLOCK OF ENEMY                                                   *
      42                    * A10 = [Y,X] OFFSET                                                     *
      43                    *                                                                        *
      44                    **************************************************************************
      45 00000000           EBULL45
      46 00000000     09e5          MOVI    [EDBULVEL,EDBULVEL],A5
         00000010 000a000a  
      47 00000030     576b          CLR     A11
      48 00000040     09d1          MOVI    BEOID,B1
         00000050     0be0  
      49 00000060     4f02          MOVE    A8,B2
      50 00000070     b652          MOVE    *B2(OPLINK),B2,L
         00000080     01f0  
      51 00000090     b652          MOVE    *B2(EFLAGS),B2,L
         000000a0     0080  
      52 000000b0     09f5          MOVI    ENEMY_BULLETS,B5
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    2

         000000c0 00000000! 
      53 000000e0     09f0          MOVI    EBSND,B0
         000000f0 00000000! 
      54 00000110     09ee          MOVI    BL45INIT,A14
         00000120 00002a30' 
      55 00000140     09f4          MOVI    BULL45D,B4
         00000150 00001ad0' 
      56 00000170     09e9          MOVI    EBULLETF,A9
         00000180 0000b7d0' 
      57 000001a0     c000          JRUC    GBULLET
         000001b0     009f  
      58                    
      59                    **************************************************************************
      60                    *                                                                        *
      61                    * EDBULLET - DRIVING ENEMY BULLET ENTRY POINT                            *
      62                    * A8  = OBLOCK PTR OF ENEMY                                              *
      63                    * A10 = XY OFFSETS                                                       *
      64                    *                                                                        *
      65                    **************************************************************************
      66 000001c0           EDBULLET
      67 000001c0     1945          MOVK    EDBULVEL,A5             ;DRIVING ENEMY BULLET VELOCITY
      68 000001d0     c002          JRUC    EBULLET1
      69                    **************************************************************************
      70                    *                                                                        *
      71                    * EBULLET - ENEMY BULLET ENTRY POINT LEFT/RIGHT                          *
      72                    * A8  = OBLOCK PTR OF ENEMY                                              *
      73                    * A10 = XY OFFSETS                                                       *
      74                    *                                                                        *
      75                    **************************************************************************
      76 000001e0           EBULLET
      77 000001e0     09c5          MOVI    EBULVEL,A5
         000001f0     0005  
      78 00000200           EBULLET1
      79 00000200     576b          CLR     A11
      80 00000210     09d1          MOVI    BEOID,B1
         00000220     0be0  
      81 00000230     4f02          MOVE    A8,B2
      82 00000240     b652          MOVE    *B2(OPLINK),B2,L
         00000250     01f0  
      83 00000260     b652          MOVE    *B2(EFLAGS),B2,L
         00000270     0080  
      84 00000280     09f5          MOVI    ENEMY_BULLETS,B5
         00000290 00000000! 
      85 000002b0     09f0          MOVI    EBSND,B0
         000002c0 00000000! 
      86 000002e0     09ee          MOVI    BLEINIT,A14
         000002f0 000028f0' 
      87 00000310     09f4          MOVI    NORMBULL,B4
         00000320 00001230' 
      88 00000340     09e9          MOVI    EBULLETF,A9
         00000350 0000b7d0' 
      89 00000370     c000          JRUC    GBULLET
         00000380     0082  
      90                    
      91                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    3

      92                    *                                                                        *
      93                    * EROCKET - ENEMY ROCKET ENTRY POINT LEFT/RIGHT                          *
      94                    * A8  = OBLOCK PTR OF ENEMY                                              *
      95                    * A10 = XY OFFSETS                                                       *
      96                    *                                                                        *
      97                    **************************************************************************
      98 00000390           EROCKET
      99 00000390     09c5          MOVI    EBULVEL,A5
         000003a0     0005  
     100 000003b0     576b          CLR     A11
     101 000003c0     09d1          MOVI    BEOID,B1
         000003d0     0be0  
     102 000003e0     4f02          MOVE    A8,B2
     103 000003f0     b652          MOVE    *B2(OPLINK),B2,L
         00000400     01f0  
     104 00000410     b652          MOVE    *B2(EFLAGS),B2,L
         00000420     0080  
     105 00000430     09f5          MOVI    ENEMY_BULLETS,B5
         00000440 00000000! 
     106 00000460     09f0          MOVI    SND4,B0
         00000470 00000000! 
     107 00000490     09ee          MOVI    ROCKINIT,A14
         000004a0 00002df0' 
     108 000004c0     09f4          MOVI    ROCKET_MAN,B4
         000004d0 00001eb0' 
     109 000004f0     09e9          MOVI    ROCKET,A9
         00000500 0000b590' 
     110 00000520     c068          JRUC    GBULLET
     111                    
     112                    *
     113                    *PLAYER ONE BULLET
     114 00000530           P1BULL
     115 00000530     09eb          MOVI    P1DATA,A11
         00000540 00000000! 
     116 00000560     09ee          MOVI    BLP1INIT,A14
         00000570 00002b70' 
     117 00000590     09f0          MOVI    SND3A,B0
         000005a0 00000000! 
     118 000005c0     09d1          MOVI    B1OID,B1                ;BULLET ID PLAYER #1
         000005d0     0b10  
     119 000005e0     c034          JRUC    PBULLET
     120                    *
     121                    *PLAYER TWO BULLET
     122 000005f0           P2BULL
     123 000005f0     09eb          MOVI    P2DATA,A11
         00000600 00000000! 
     124 00000620     09ee          MOVI    BLP2INIT,A14
         00000630 00002cb0' 
     125 00000650     09f0          MOVI    SND3B,B0
         00000660 00000000! 
     126 00000680     09d1          MOVI    B2OID,B1                ;BULLET ID PLAYER #2
         00000690     0b20  
     127 000006a0     c028          JRUC    PBULLET
     128                    *
     129                    *PLAYER ONE IN CAR BULLET
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    4

     130 000006b0           P1CARBUL
     131 000006b0     09eb          MOVI    P1DATA,A11
         000006c0 00000000! 
     132 000006e0     09ee          MOVI    BLP1INIT,A14
         000006f0 00002b70' 
     133 00000710     09f0          MOVI    SND3A,B0
         00000720 00000000! 
     134 00000740     09d1          MOVI    B1OID,B1                ;BULLET ID PLAYER #1
         00000750     0b10  
     135 00000760     c00b          JRUC    PGCARBUL
     136                    *
     137                    *PLAYER TWO IN CAR BULLET
     138 00000770           P2CARBUL
     139 00000770     09eb          MOVI    P2DATA,A11
         00000780 00000000! 
     140 000007a0     09ee          MOVI    BLP2INIT,A14
         000007b0 00002cb0' 
     141 000007d0     09f0          MOVI    SND3B,B0
         000007e0 00000000! 
     142 00000800     09d1          MOVI    B2OID,B1                ;BULLET ID PLAYER #2
         00000810     0b20  
     143                    *GENERIC CAR BULLET ENTRY
     144 00000820           PGCARBUL
     145 00000820     07a8          MOVE    @PLAYCAR,A8,L           ;GET THE CURRENT PLAYER CAR POINTER
         00000830 00000000! 
     146 00000850     ca00          JRZ     BULLETDI
         00000860     0123  
     147 00000870     b501          MOVE    *A8(OXVEL+16),A1,W
         00000880     0050  
     148 00000890     0381          ABS     A1
     149 000008a0     b500          MOVE    *A8(OYVEL+16),A0,W
         000008b0     0070  
     150 000008c0     0380          ABS     A0                      ;NEGATED LATER
     151 000008d0     2600          SLL     16,A0
     152 000008e0     ec20          MOVX    A1,A0
     153 000008f0     09c5          MOVI    PBULVEL,A5              ;LOAD BULLET VELOCITY
         00000900     0008  
     154 00000910     e005          ADDXY   A0,A5
     155 00000920     c003          JRUC    PBULLET1
     156                    **************************************************************************
     157                    *                                                                        *
     158                    * PLAYER BULLET PROCESS ENTRY POINT                                      *
     159                    * A11 = PLINDX PTR TO PLAYER DATA AREA                                   *
     160                    * A14 = BULLET INIT TABLE                                                *
     161                    * B0 = RELEASE SOUND                                                     *
     162                    * B1 = BULLET I.D.                                                       *
     163                    *                                                                        *
     164                    **************************************************************************
     165 00000930           PBULLET
     166 00000930     1905          MOVK    PBULVEL,A5              ;LOAD BULLET VELOCITY
     167 00000940     b768          MOVE    *A11(POBJ),A8,L         ;GET THE PLAYER OBJECT BLOCK
         00000950     00a0  
     168 00000960           PBULLET1
     169 00000960     b76a          MOVE    *A11(POFFSET),A10,L     ;GET THE CURRENT BULLET OFFSET
         00000970     0060  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    5

     170 00000980     4f62          MOVE    A11,B2
     171 00000990     b652          MOVE    *B2(PFLAGS),B2,L        ;GET THE FLAGS
         000009a0     0080  
     172 000009b0     09f5          MOVI    PLAYER_BULLETS,B5
         000009c0 00000000! 
     173                    
     174 000009e0     1f72          BTST    BROCKET,B2                                               
     175 000009f0     cb07          JRNE    PBULLET2                ;BR = ROCKET LAUNCHER            
     176 00000a00     09f4          MOVI    NORMBULL,B4
         00000a10 00001230' 
     177 00000a30     09e9          MOVI    PBULLETF,A9
         00000a40 0000b780' 
     178 00000a60     c014          JRUC    GBULLET
     179 00000a70           PBULLET2
     180 00000a70     09f0          MOVI    SND4,B0
         00000a80 00000000! 
     181 00000aa0     0b6b          CMPI    P1DATA,A11
         00000ab0 ffffffff! 
     182 00000ad0     cb04          JRNE    PROCKP2                 ;BR = PLAYER TWO ROCKET
     183 00000ae0     09ee          MOVI    P1RCKINI,A14
         00000af0 00002f30' 
     184 00000b10     c003          JRUC    PROCK1
     185 00000b20           PROCKP2
     186 00000b20     09ee          MOVI    P2RCKINI,A14
         00000b30 00003070' 
     187 00000b50           PROCK1
     188 00000b50     09f4          MOVI    ROCKET_MAN,B4
         00000b60 00001eb0' 
     189 00000b80     09e9          MOVI    ROCKET,A9
         00000b90 0000b590' 
     190                    
     191                    **************************************************************************
     192                    *                                                                        *
     193                    * GENERIC BULLET ENTRY POINT                                             *
     194                    * A8  = PTR TO OBLOCK OF THE OBJECT DOING THE FIRING                     *
     195                    * A5  = BULLET VELOCITY [Y,X]                                            *
     196                    * A9  = ANIMATION TABLE                                                  *
     197                    * A10 = BULLET OFFSET                                                    *
     198                    * A11 = PLAYER DATA PTR(0 = ENEMY NOT A PLAYER)                          *
     199                    * A14 = OBJECT INIT. TABLE                                               *
     200                    * B0  = RELEASE SOUND TO MAKE                                            *
     201                    * B1  = BULLET I.D.                                                      *
     202                    * B2  = CURRENT PLAYER/ENEMY FLAGS                                       *
     203                    * B4  = PLACE TO JUMP TO FINISH ANIMATION OF PROJECTILE                  *
     204                    * B5  = LOCATION OF SUPPLEMENTAL LIST TO ADD TO                          *
     205                    *                                                                        *
     206                    **************************************************************************
     207 00000bb0           GBULLET
     208 00000bb0     0d5f          CALLA   GPALOBJ                 ;GET THE PALETTE
         00000bc0 00000000! 
     209 00000be0     ca00          JRZ     BULLETDI                ;BR = PALETTE/OBJECT CREATION FAILURE
         00000bf0     00ea  
     210 00000c00     0d5f          CALLA   STFOBJ                  ;STUFF IT
         00000c10 00000000! 
     211                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    6

     212 00000c30     0d5f          CALLA   GETCPNT                 ;GET PLAYER'S CENTER POINT
         00000c40 00000000! 
     213 00000c60     4c2e          MOVE    A1,A14                  ;KEEP CENTER POINT HERE
     214                    
     215 00000c70     b404          MOVE    *A0(OFLAGS),A4,W        ;BRING THESE FLAGS
         00000c80     0100  
     216                    
     217 00000c90     b506          MOVE    *A8(OFLAGS),A6
         00000ca0     0100  
     218 00000cb0     1f66          BTST    B_FLIPH,A6              ;FLIPPED ABOUT Y?
     219 00000cc0     ca09          JREQ    GBULNFH                 ;BR = NO
     220                    
     221 00000cd0     0ba4          ORI     M_FLIPH,A4
         00000ce0 00000010  
     222 00000d00     eea1          MOVY    A5,A1
     223 00000d10     03a5          NEG     A5                      ;NEGATE X VELOCITY
     224 00000d20     ee25          MOVY    A1,A5   
     225 00000d30     ef41          MOVY    A10,A1
     226 00000d40     03aa          NEG     A10                     ;NEGATE X OFFSET
     227 00000d50     ee2a          MOVY    A1,A10
     228 00000d60           GBULNFH
     229 00000d60     1f46          BTST    B_FLIPV,A6              ;FLIPPED ABOUT X?       
     230 00000d70     ca09          JREQ    BULTNORM                ;BR = NOPE
     231                    
     232 00000d80     0ba4          ORI     M_FLIPV,A4
         00000d90 00000020  
     233 00000db0     eea1          MOVY    A5,A1
     234 00000dc0     03a1          NEG     A1                      ;NEGATE Y VELOCITY
     235 00000dd0     ee25          MOVY    A1,A5
     236 00000de0     ef41          MOVY    A10,A1
     237 00000df0     03a1          NEG     A1
     238 00000e00     ee2a          MOVY    A1,A10                  ;NEGATE Y OFFSET
     239 00000e10           BULTNORM
     240 00000e10     b601          MOVE    *A0(OIMG),A1,L          
         00000e20     0180  
     241 00000e30     0d5f          CALLA   GSAGOF
         00000e40 00000000! 
     242 00000e60     4c06          MOVE    A0,A6
     243 00000e70     0b06          ADDI    OSIZE+20H,A6
         00000e80     0160  
     244 00000e90     0986          MMTM    A6,A2,A3,A4             ;STUFF THIS SHIT
         00000ea0     3800  
     245 00000eb0     e14e          ADDXY   A10,A14
     246 00000ec0     0d5f          CALLA   GANIOF                  ;GET ADJUSTED ANIMATION POINT
         00000ed0 00000000! 
     247 00000ef0     5642          CLR     A2
     248 00000f00     efc2          MOVY    A14,A2
     249 00000f10     edc1          MOVX    A14,A1
     250 00000f20     2601          SLL     16,A1                   ;UNPACK BULLSHIT
     251 00000f30     44e2          SUB     A7,A2                   ;SUBTRACT FOR ULY
     252 00000f40     44c1          SUB     A6,A1                   ;SUBTRACT FOR ULX
     253 00000f50     b240          MOVE    A2,*A0(OYVAL),L         ;RE-STUFF
         00000f60     00a0  
     254 00000f70     b220          MOVE    A1,*A0(OXVAL),L
         00000f80     0080  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    7

     255 00000f90     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINK TO THE CONTROLLING PROC
         00000fa0     01f0  
     256 00000fb0     4c0e          MOVE    A0,A14
     257 00000fc0     4e10          MOVE    B0,A0
     258 00000fd0     0d5f          CALLA   ONESND                  ;MAKE THE RELEASE SOUND
         00000fe0 00000000! 
     259 00001000     4d00          MOVE    A8,A0
     260 00001010     4dc8          MOVE    A14,A8
     261 00001020     4d6b          MOVE    A11,A11
     262 00001030     ca1b          JRZ     CARBULL2                ;THIS IS NOT A PLAYER
     263 00001040     b56e          MOVE    *A11(PIRQFLAG),A14,W
         00001050     0080  
     264 00001060     0b8e          ANDI    MDRIVER|MPASSEN,A14     
         00001070 ffffe7ff  
     265 00001090     ca15          JREQ    CARBULL2                ;BR = NOT IN THE CAR
     266 000010a0     b56e          MOVE    *A11(PFIRENXT),A14,W
         000010b0     02f0  
     267 000010c0     ca09          JRZ     CARBULL1                ;BR = FIRE FROM THE DRIVER'S SIDE
     268 000010d0     b603          MOVE    *A0(OZVAL),A3,L
         000010e0     00c0  
     269 000010f0     b40e          MOVE    *A0(OZPLUS),A14,W
         00001100     01c0  
     270 00001110     260e          SLL     16,A14
     271 00001120     41c3          ADD     A14,A3
     272 00001130     b268          MOVE    A3,*A8(OZVAL),L
         00001140     00c0  
     273 00001150     c00c          JRUC    CARBULLX
     274 00001160           CARBULL1
     275 00001160     b603          MOVE    *A0(OZVAL),A3,L
         00001170     00c0  
     276 00001180     b40e          MOVE    *A0(OZMINUS),A14,W
         00001190     01b0  
     277 000011a0     260e          SLL     16,A14
     278 000011b0     45c3          SUB     A14,A3
     279 000011c0     b268          MOVE    A3,*A8(OZVAL),L
         000011d0     00c0  
     280 000011e0     c003          JRUC    CARBULLX
     281 000011f0           CARBULL2
     282 000011f0     ba08          MOVE    *A0(OZVAL),*A8(OZVAL),L ;JUST STUFF STRAIGHT Z VALUES           
         00001200     00c0  
         00001210     00c0  
     283 00001220           CARBULLX
     284 00001220     0174          JUMP    B4
     285                    *JUMP HERE FOR A NORMAL BULLET
     286 00001230           NORMBULL
     287 00001230     4c0e          MOVE    A0,A14                  ;STORE PLAYER PTR HERE
     288 00001240     0d5f          CALLA   GETOBJ                  ;GET A BULLET
         00001250 00000000! 
     289 00001270     cb08          JRNZ    NORMBCO
     290 00001280     4d00          MOVE    A8,A0
     291 00001290     0d5f          CALLA   DELPAL
         000012a0 00000000! 
     292 000012c0     0d5f          CALLA   FREESOBJ                ;FREE THE CURRENT FLAME OBJECT
         000012d0 00000000! 
     293 000012f0     c07a          JRUC    BULLETDI
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    8

     294 00001300           NORMBCO
     295 00001300     0d5f          CALLA   COPYOBJ                 ;COPY THE FLAME PARAMS
         00001310 00000000! 
     296 00001330     bb20          MOVE    *A9(0),*A0(OIMG),L      ;STUFF THE BULLET IMAGE
         00001340     0000  
         00001350     0180  
     297                    
     298 00001360     40e2          ADD     A7,A2                   ;PUT THE ANIMATION POINT BACK,'CAUSE
     299 00001370     4c23          MOVE    A1,A3
     300 00001380     40c3          ADD     A6,A3                   ;THIS IS THE PLACE WE REALLY WANT TO
     301 00001390     b504          MOVE    *A8(OFLAGS),A4,W        ;AND FLAGS
         000013a0     0100  
     302 000013b0     0d5f          CALLA   GANISAG                 ;ADJUST FOR NEW IMAGE AND POSS. FLIP
         000013c0 00000000! 
     303                    
     304 000013e0     4e31          MOVE    B1,A1
     305 000013f0     b020          MOVE    A1,*A0(OID),W           ;STUFF THE I.D.
         00001400     01a0  
     306                    
     307 00001410     5621          CLR     A1
     308 00001420     eea1          MOVY    A5,A1
     309 00001430     b220          MOVE    A1,*A0(OYVEL),L         ;STUFF THE Y VELOCITY
         00001440     0060  
     310 00001450     b7c1          MOVE    *A14(OXVEL),A1,L
         00001460     0040  
     311 00001470     2605          SLL     16,A5
     312 00001480     56a1          XOR     A5,A1                   ;DIFFERING SIGNS ?
     313 00001490     4c21          MOVE    A1,A1                   ;SET SIGN BIT FOR JAGOFFS AT TI
     314 000014a0     ce03          JRN     NORMBC1                 ;YES, CAN OBJECT VELOCITY
     315 000014b0     56a1          XOR     A5,A1             
     316 000014c0     40a1          ADD     A5,A1
     317 000014d0     c001          JRUC    NORMBC2
     318 000014e0           NORMBC1
     319 000014e0     4ca1          MOVE    A5,A1
     320 000014f0           NORMBC2
     321 000014f0     b220          MOVE    A1,*A0(OXVEL),L         ;STUFF THE X VELOCITY
         00001500     0040  
     322                    
     323 00001510     0d5f          CALLA   INSOBJ
         00001520 00000000! 
     324 00001540     4eb1          MOVE    B5,A1
     325 00001550     4c2a          MOVE    A1,A10                  ;KEEP HERE FOR GOOD MEASURE
     326 00001560     0d5f          CALLA   ADDSUPP                 ;ADD TO SUPPLEMENTAL LIST
         00001570 00000000! 
     327 00001590     4d09          MOVE    A8,A9
     328 000015a0     4c08          MOVE    A0,A8
     329 000015b0     0d5f          CALLA   MAKSHAD
         000015c0 00000000! 
     330                            
     331 000015e0     4d62          MOVE    A11,A2
     332 000015f0     ca08          JREQ    NORMBUL1
     333 00001600     b441          MOVE    *A2(PBULLONS),A1,W
         00001610     0260  
     334 00001620     1021          INC     A1
     335 00001630     b022          MOVE    A1,*A2(PBULLONS),W      ;INCREMENT THE # ON SCREEN
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE    9

         00001640     0260  
     336 00001650     0d5f          CALLA   OUTBULLS                ;OUTPUT THE # OF BULLETS
         00001660 00000000! 
     337 00001680           NORMBUL1
     338 00001680     184b          MOVK    2,A11
     339 00001690                   CREATE  0EFFH,LURKER            ;SOMETHING TO WATCH THE FLASH
     340 00001710     ca0c          JRZ     LURKMISS
     341 00001720     b209          MOVE    A0,*A9(OPLINK),L
         00001730     01f0  
     342 00001740     bbc9          MOVE    *A14(OXVEL),*A9(OXVEL),L
         00001750     0040  
         00001760     0040  
     343 00001770     bbc9          MOVE    *A14(OYVEL),*A9(OYVEL),L
         00001780     0060  
         00001790     0060  
     344 000017a0     bbc9          MOVE    *A14(OZVEL),*A9(OZVEL),L
         000017b0     00e0  
         000017c0     00e0  
     345 000017d0     c004          JRUC    NORMBUL2
     346 000017e0           LURKMISS
     347 000017e0     4d20          MOVE    A9,A0
     348 000017f0     0d5f          CALLA   FREESOBJ                ;FREE UP THE FLASH
         00001800 00000000! 
     349 00001820           NORMBUL2
     350 00001820     4c4b          MOVE    A2,A11                  ;RESTORE A11
     351 00001830     4ca9          MOVE    A5,A9                   ;STORE BASE X VELOCITY HERE
     352                    *WATCH BULLET OBJECT TO GO OFF SCREEN, TRAVELING LINEARLY IN X
     353                    *A8 = PTR TO PROJECTILE OBJECT BLOCK
     354                    *A9 = BASE X VELOCITY OF OBJECT
     355                    *A10 = PTR TO SUPPLEMENTAL LIST
     356                    *A11 = PTR TO PLAYER DATA STRUCTURE, IF = 0 THEN ENEMY
     357 00001840           BULLUPD
     358 00001840     0d5f          CALLA   SCRTST          ;OFFSCREEN?
         00001850 00000000! 
     359 00001870     cb10          JRNZ    BULLUPD2        ;YES!
     360 00001880     4d6b          MOVE    A11,A11
     361 00001890     ca07          JRZ     BULLUPD1        ;BR = NO PLAYER TO WATCH        
     362 000018a0     b760          MOVE    *A11(POBJ),A0,L
         000018b0     00a0  
     363 000018c0     b600          MOVE    *A0(OXVEL),A0,L
         000018d0     0040  
     364 000018e0     4120          ADD     A9,A0           ;KEEP SAME BULLET VEL. RELATIVE TO PLAYER
     365 000018f0     b208          MOVE    A0,*A8(OXVEL),L
         00001900     0040  
     366 00001910           BULLUPD1
     367 00001910                   SLOOP   7,BULLUPD
     368 00001980           BULLUPD2
     369 00001980     4d00          MOVE    A8,A0           ;GET THE BLOCK
     370 00001990     4d41          MOVE    A10,A1
     371 000019a0     0d5f          CALLA   DELPAL
         000019b0 00000000! 
     372 000019d0     0d5f          CALLA   DELSUPP         ;SUPPLEMENTAL DE-LINK
         000019e0 00000000! 
     373 00001a00     0d5f          CALLA   DELSOBJ         ;ZAP IT & ITS SHADOW
         00001a10 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   10

     374 00001a30           BULLRET1
     375 00001a30     4d62          MOVE    A11,A2
     376 00001a40     ca05          JRZ     BULLETDI
     377 00001a50     b441          MOVE    *A2(PBULLONS),A1,W
         00001a60     0260  
     378 00001a70     1421          DEC     A1
     379 00001a80     b022          MOVE    A1,*A2(PBULLONS),W      ;DECREMENT THE # ON SCREEN
         00001a90     0260  
     380 00001aa0           BULLETDI
     381 00001aa0                   DIE
     382                    *
     383                    *BULLET 45 DEGREES DOWN
     384 00001ad0           BULL45D
     385 00001ad0     4e31          MOVE    B1,A1
     386 00001ae0     b028          MOVE    A1,*A8(OID),W
         00001af0     01a0  
     387 00001b00     5621          CLR     A1
     388 00001b10     eea1          MOVY    A5,A1
     389 00001b20     b228          MOVE    A1,*A8(OYVEL),L         ;STUFF THE Y VELOCITY
         00001b30     0060  
     390 00001b40     2605          SLL     16,A5
     391 00001b50     b2a8          MOVE    A5,*A8(OXVEL),L         ;STUFF THE X VELOCITY
         00001b60     0040  
     392 00001b70     4d00          MOVE    A8,A0
     393 00001b80     0d5f          CALLA   INSOBJ
         00001b90 00000000! 
     394 00001bb0     4eb1          MOVE    B5,A1
     395 00001bc0     4c2a          MOVE    A1,A10                  ;KEEP HERE FOR GOOD MEASURE
     396 00001bd0     0d5f          CALLA   ADDSUPP                 ;ADD TO SUPPLEMENTAL LIST
         00001be0 00000000! 
     397 00001c00     0d5f          CALLA   MAKSHAD
         00001c10 00000000! 
     398                            
     399                    *WATCH OBJECT TO HIT THE GROUND
     400                    *A8 = PTR TO PROJECTILE OBJECT BLOCK
     401                    *A10 = PTR TO SUPPLEMENTAL LIST
     402                    *A11 = PTR TO PLAYER DATA STRUCTURE, IF = 0 THEN ENEMY
     403 00001c30           BULL45CK
     404 00001c30                   SLEEP   1
     405 00001c70     0d5f          CALLA   DFRMGRND
         00001c80 00000000! 
     406 00001ca0     ce05          JRN     BULL45G
     407 00001cb0     b502          MOVE    *A8(OYVEL+16),A2,W
         00001cc0     0070  
     408 00001cd0     0382          ABS     A2
     409 00001ce0     4841          CMP     A2,A1
     410 00001cf0     c7f3          JRGT    BULL45CK
     411 00001d00           BULL45G
     412 00001d00     4d00          MOVE    A8,A0           ;GET THE BLOCK
     413 00001d10     0d5f          CALLA   SETZPOS         ;RESET THE Z POSITION
         00001d20 00000000! 
     414 00001d40     4d41          MOVE    A10,A1
     415 00001d50     0d5f          CALLA   DELSUPP         ;SUPPLEMENTAL DE-LINK
         00001d60 00000000! 
     416 00001d80     c000          JRUC    DING45
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   11

         00001d90     0857  
     417                    
     418                    **************************************************************************
     419                    *                                                                        *
     420                    * LURKER - THIS PROCESS INSERTS AN OBJECT THEN SLEEPS                    *
     421                    *        THEN DELETES THE OBJECT, USEFUL HUH?                            *
     422                    * A9 = OBJECT TO CREATE                                                  *
     423                    * A11 = SLEEP TIME                                                       *
     424                    *                                                                        *
     425                    **************************************************************************
     426 00001da0           LURKER
     427 00001da0     4d20          MOVE    A9,A0
     428 00001db0     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINK UP
         00001dc0     01f0  
     429 00001dd0     0d5f          CALLA   INSOBJ
         00001de0 00000000! 
     430 00001e00     4d60          MOVE    A11,A0
     431 00001e10     0d5f          CALLA   PRCSLP                  ;O.K., LURK!
         00001e20 00000000! 
     432 00001e40     4d20          MOVE    A9,A0
     433 00001e50     0d5f          CALLA   DELSOBJ
         00001e60 00000000! 
     434 00001e80                   DIE
     435                    
     436                    *
     437                    *ROCKET LAUNCHER PROCESS
     438                    *A0  = PTR TO PLAYER/ENEMY/THING DOING THE FIRING
     439                    *A5  = [Y,X] VELOCITIES, CORRECT DIRECTION
     440                    *A8  = OBLOCK
     441                    *A9  = POINTER TO ANIMATION TABLE
     442                    *A11 = PTR TO PLAYER DATA STRUCTURE(0 = NOT A PLAYER)
     443                    *B0  = GUNSHOT SOUND TO MAKE
     444                    *B1  = BULLET I.D.
     445                    *B2  = PLAYER/ENEMY FLAGS
     446                    *B5  = ADDRESS OF SUPPLEMENTAL LIST
     447 00001eb0           ROCKET_MAN:
     448 00001eb0     4c0a          MOVE    A0,A10                  ;MUST HOLD HERE FOR SLEEPS
     449 00001ec0     4d00          MOVE    A8,A0
     450 00001ed0     0d5f          CALLA   INSOBJ
         00001ee0 00000000! 
     451 00001f00     4eb1          MOVE    B5,A1                   ;SUPP LIST INTO A1
     452                    
     453 00001f10                   TEST    A11
     454 00001f20     ca0c          JREQ    ROCKETM1                ;BR = THIS IS NOT A PLAYER
     455                    
     456 00001f30     b56e          MOVE    *A11(PROCKONS),A14,W
         00001f40     0290  
     457 00001f50     102e          INC     A14                     ;INDICATE ANOTHER ROCKET ON SCREEN
     458 00001f60     b1cb          MOVE    A14,*A11(PROCKONS),W
         00001f70     0290  
     459                    
     460 00001f80     4e5e          MOVE    B2,A14
     461 00001f90     2e0e          SRL     16,A14
     462 00001fa0     0bae          ORI     MFHOLD,A14
         00001fb0 00000080  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   12

     463 00001fd0     b1cb          MOVE    A14,*A11(PEXEFLAG),W    ;SET THE FIRE HOLD FLAG
         00001fe0     0090  
     464                    
     465 00001ff0           ROCKETM1
     466 00001ff0                   SOUND1  RLNCHSND                ;SOUND AWAY
     467                    
     468 00002050     4e3e          MOVE    B1,A14
     469 00002060                   PUSHP   A14                     ;SAVE THE ROCKET BOMB I.D.
     470 00002070                   PUSHP   A1      
     471                    
     472 00002080           RSLPLOOP
     473                    ***     MOVE    @OVERLOAD,A1,W
     474                    ***     CMPI    3,A1
     475                    ***     JRLE    RSLPOK                  ;NOT OVERLOADED, GO AHEAD AND ANIMATE
     476                    ***     MOVI    ROCKIMM,A9              ;LAUNCH ROCKET IMMEADIATELY
     477                    ***     MOVK    4,A1
     478                    ***     JSRP    FRANIM                  ;ANIMATE THE PICTURE IN, NO SLEEP       
     479                    ***     JRUC    RELROCK                 ;RELEASE THE ROCKET
     480                    ***RSLPOK
     481 00002080     1881          MOVK    4,A1
     482 00002090                   JSRP    FRANIM  
     483 00002100     c812          JRC     RELROCK                 ;RELEASE THE ROCKET
     484 00002110           RSLPILP
     485 00002110     bb48          MOVE    *A10(OXVEL),*A8(OXVEL),L ;XFER VELS
         00002120     0040  
         00002130     0040  
     486 00002140     bb48          MOVE    *A10(OYVEL),*A8(OYVEL),L
         00002150     0060  
         00002160     0060  
     487 00002170     bb48          MOVE    *A10(OZVEL),*A8(OZVEL),L
         00002180     00e0  
         00002190     00e0  
     488 000021a0                   PUSHP   A0
     489 000021b0                   SLEEP   1
     490 000021f0                   PULLP   A0      
     491 00002210     3e20          DSJS    A0,RSLPILP
     492 00002220     c0e5          JRUC    RSLPLOOP
     493                    *
     494                    *RELEASE THE ROCKET HERE
     495 00002230           RELROCK
     496 00002230     0d5f          CALLA   PSTOPYZ
         00002240 00000000! 
     497 00002260     4d00          MOVE    A8,A0
     498 00002270                   PULLP   A10                     ;KEEP SUPP LIST HERE FOR SLEEPS
     499 00002290     4d41          MOVE    A10,A1
     500 000022a0     0d5f          CALLA   ADDSUPP                 ;ADD TO SUPPLEMENTAL LIST
         000022b0 00000000! 
     501                    *ADD VELOCITY FOR ROCKET TAKEOFF
     502                    
     503 000022d0     b50e          MOVE    *A8(OFLAGS),A14,W
         000022e0     0100  
     504 000022f0     1f6e          BTST    B_FLIPH,A14
     505 00002300     ca04          JREQ    ROCKADD
     506                            
     507 00002310     09e5          MOVI    [-ROCKVEL,0],A5 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   13

         00002320 ffeb0000  
     508 00002340     c003          JRUC    ROCKSVEL
     509 00002350           ROCKADD
     510 00002350     09e5          MOVI    [ROCKVEL,0],A5
         00002360 00150000  
     511 00002380           ROCKSVEL
     512 00002380     b70e          MOVE    *A8(OXVEL),A14,L
         00002390     0040  
     513 000023a0     40ae          ADD     A5,A14                  ;ADD VELS TOGETHER.
     514 000023b0     4dc4          MOVE    A14,A4  
     515 000023c0     0384          ABS     A4
     516 000023d0     0b64          CMPI    [ROCKMINV,0],A4         ;MINIMUM ROCKET VELOCITY
         000023e0 fff7ffff  
     517 00002400     c909          JRHS    ROCKSVOK                ;BR = IT'S GOING FAST ENOUGH
     518 00002410     4dce          MOVE    A14,A14
     519 00002420     ce04          JRN     ROCKSVN                 ;BR = STUFF IT MINUS
     520 00002430     09ee          MOVI    [ROCKMINV,0],A14
         00002440 00080000  
     521 00002460     c003          JRUC    ROCKSVOK        
     522 00002470           ROCKSVN
     523 00002470     09ee          MOVI    [-ROCKMINV,0],A14
         00002480 fff80000  
     524 000024a0           ROCKSVOK
     525 000024a0     b3c8          MOVE    A14,*A8(OXVEL),L        ;AND STICK IT
         000024b0     0040  
     526                    
     527 000024c0     0d5f          CALLA   MAKSHAD
         000024d0 00000000! 
     528                    
     529 000024f0                   PULLP   A14                     ;GET THE I.D. BACK
     530 00002510     108e          ADDK    ROCKETID,A14            ;ADD ROCKET IDENTIFIER
     531 00002520     b1c8          MOVE    A14,*A8(OID),W
         00002530     01a0  
     532                    
     533 00002540                   CREATE  0EFFH,TRAILER                                            
     534 000025c0     4c09          MOVE    A0,A9                   ;KEEP THIS AS AN EFFECT PTR      
     535                                                                                             
     536 000025d0                   CREATE  0EFFH,PUFFER            ;MAKE THE ROCKET PUFF
     537                    
     538 00002650                   TEST    A11
     539 00002660     ca0b          JREQ    ROCKETM2                ;BR = ENEMY, NOT A PLAYER
     540                    
     541 00002670     4d62          MOVE    A11,A2
     542 00002680     0d5f          CALLA   SUBROCK                 ;SUBTRACT A ROCKET
         00002690 00000000! 
     543                    
     544 000026b0     b560          MOVE    *A11(PEXEFLAG),A0,W     ;GET THE FLAGS
         000026c0     0090  
     545 000026d0     0b80          ANDNI   MFHOLD,A0
         000026e0 00000080  
     546 00002700     b00b          MOVE    A0,*A11(PEXEFLAG),W     ;AND CLEAR THE FIRE HOLD FLAG
         00002710     0090  
     547                    *WAIT FOR THE ROCKET TO GO OFFSCREEN
     548                    *A8  = OBJECT BLOCK
     549                    *A10 = SUPPLEMENTAL LIST
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   14

     550                    *A11 = PTR TO PLAYER DATA BLK. (ENEMIES = 0)
     551                    *PDATA = SHADOW OBJECT
     552 00002720           ROCKETM2
     553 00002720                   SLEEP   10
     554 00002760     0d5f          CALLA   SCRTST          ;OFFSCREEN?
         00002770 00000000! 
     555 00002790     caf8          JREQ    ROCKETM2        ;NO!
     556 000027a0     4d00          MOVE    A8,A0           ;GET THE BLOCK
     557 000027b0     4d41          MOVE    A10,A1
     558 000027c0     0d5f          CALLA   DELPAL
         000027d0 00000000! 
     559 000027f0     0d5f          CALLA   DELSUPP         ;SUPPLEMENTAL DE-LINK
         00002800 00000000! 
     560 00002820     0d5f          CALLA   DELSOBJ         ;ZAP IT & SHADOW
         00002830 00000000! 
     561 00002850     4d62          MOVE    A11,A2
     562 00002860     ca05          JREQ    ROCKETDI
     563 00002870     b441          MOVE    *A2(PROCKONS),A1,W
         00002880     0290  
     564 00002890     1421          DEC     A1
     565 000028a0     b022          MOVE    A1,*A2(PROCKONS),W      ;DECREMENT THE # ON SCREEN
         000028b0     0290  
     566 000028c0           ROCKETDI
     567 000028c0                   DIE
     568                    
     569                    *
     570                    *PROJECTILE INIT. TABLES
     571 000028f0           BLEINIT
     572 000028f0 00000000          .LONG   0,0,0,0
     573 00002970     0000          .WORD   0,0
     574 00002990 00000000!         .LONG   SFLAME,PBULZ,BCOLL
     575 000029f0     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     576 00002a10 00000000          .LONG   0
     577 00002a30           BL45INIT
     578 00002a30 00000000          .LONG   0,0,0,0
     579 00002ab0     0000          .WORD   0,0
     580 00002ad0 00000000!         .LONG   BULLET45,PBULZ,BCOLL
     581 00002b30     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     582 00002b50 00000000          .LONG   0
     583 00002b70           BLP1INIT
     584 00002b70 00000000          .LONG   0,0,0,0
     585 00002bf0     0000          .WORD   0,0
     586 00002c10 00000000!         .LONG   SFLAME,PBULZ,BP1COLL
     587 00002c70     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     588 00002c90 00000000          .LONG   0
     589 00002cb0           BLP2INIT
     590 00002cb0 00000000          .LONG   0,0,0,0
     591 00002d30     0000          .WORD   0,0
     592 00002d50 00000000!         .LONG   SFLAME,PBULZ,BP2COLL
     593 00002db0     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     594 00002dd0 00000000          .LONG   0
     595 00002df0           ROCKINIT
     596 00002df0 00000000          .LONG   0,0,0,0
     597 00002e70     0000          .WORD   0,0
     598 00002e90 00000000!         .LONG   ROCKET1,PROCKZ,RCOLL
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   15

     599 00002ef0     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     600 00002f10 00000000          .LONG   0
     601 00002f30           P1RCKINI
     602 00002f30 00000000          .LONG   0,0,0,0
     603 00002fb0     0000          .WORD   0,0
     604 00002fd0 00000000!         .LONG   ROCKET1,PROCKZ,P1RCOLL
     605 00003030     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     606 00003050 00000000          .LONG   0
     607 00003070           P2RCKINI
     608 00003070 00000000          .LONG   0,0,0,0
     609 000030f0     0000          .WORD   0,0
     610 00003110 00000000!         .LONG   ROCKET1,PROCKZ,P2RCOLL
     611 00003170     8402          .WORD   DMAWNZ|M_PIXSCAN,0
     612 00003190 00000000          .LONG   0
     613 000031b0           REXINIT
     614 000031b0 00000000          .LONG   0,0,0,0
     615 00003230     0000          .WORD   0,0
     616 00003250 00000000!         .LONG   BLAM1,REXZ,REXCOLL
     617 000032b0     8002          .WORD   DMAWNZ,0
     618 000032d0 00000000          .LONG   0
     619 000032f0           PUFFINIT
     620 000032f0 00000000          .LONG   0,0,0,0
     621 00003370     0000          .WORD   0,0
     622 00003390 00000000!         .LONG   PUF1,0,DUMCOLL
     623 000033f0     8002          .WORD   DMAWNZ,0EFFH
     624 00003410 00000000          .LONG   0
     625                    
     626                    *
     627                    *ROCKET LAUNCHER EXPLOSION ROUTINE
     628                    *A8 = PTR TO OBJECT THAT GOT HIT
     629                    *A9 = OFLAGS:OZPOS OF ROCKET
     630                    *A10 = OID OF ROCKET
     631                    *A11 = YX POSITION OF ROCKET
     632 00003430           REXPLODE:
     633 00003430     09ee          MOVI    REXINIT,A14
         00003440 000031b0' 
     634 00003460     0d5f          CALLA   GPALOBJ
         00003470 00000000! 
     635 00003490     ca75          JRZ     REXXXDI         ;BR = THERE'S NO PALETTES HERE  
     636 000034a0     0d5f          CALLA   STFOBJ
         000034b0 00000000! 
     637 000034d0     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINK IT TO THIS PROCESS
         000034e0     01f0  
     638                    
     639 000034f0     2f8a          SRL     4,A10
     640 00003500     248a          SLL     4,A10
     641 00003510     104a          ADDK    EXPLODID,A10    ;MAKE THIS AN EXPLOSION
     642 00003520     b140          MOVE    A10,*A0(OID),W  ;STUFF I.D.
         00003530     01a0  
     643 00003540     144a          SUBK    EXPLODID,A10    ;BACK HOME AGAIN        
     644                    
     645 00003550     b120          MOVE    A9,*A0(OZPOS),W ;GONNA SET US A Z POSITION, YESIREE
         00003560     00d0  
     646 00003570     09c8          MOVI    REXOFF,A8
         00003580     0006  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   16

     647 00003590     2d89          SRL     20,A9           ;GET FLAGS INTO POSITION
     648 000035a0     2489          SLL     4,A9
     649 000035b0     0ba9          ORI     DMAWNZ,A9       ;MAKE SURE THE WRITE IS CORRECT
         000035c0 00008002  
     650 000035e0     1f69          BTST    B_FLIPH,A9      ;AND TEST FOR FLIP
     651 000035f0     ca01          JREQ    REX2            ;BR = ROCKET NOT FLIPPED
     652 00003600     03a8          NEG     A8
     653 00003610           REX2
     654 00003610     e10b          ADDXY   A8,A11          ;ADD IN THE OFFSET
     655                    
     656 00003620     5642          CLR     A2
     657 00003630     ef62          MOVY    A11,A2          ;SET Y POSITION
     658 00003640     ed63          MOVX    A11,A3
     659 00003650     2603          SLL     16,A3           ;SET X POSITION
     660 00003660     4d24          MOVE    A9,A4
     661 00003670     0d5f          CALLA   GANISAG         ;ADJUST
         00003680 00000000! 
     662                    
     663 000036a0     0d5f          CALLA   INSOBJ
         000036b0 00000000! 
     664                    * SELECT THE CORRECT SUPPLEMENTAL LIST
     665 000036d0     09e1          MOVI    EXPLOSIONS,A1   ;INSERT ON THE EXPLOSIONS LIST  
         000036e0 00000000! 
     666 00003700     0d5f          CALLA   ADDSUPP         ;ADD IT TO THE CORRECT SUPPLEMENTAL LIST
         00003710 00000000! 
     667 00003730     4c2a          MOVE    A1,A10
     668 00003740     4c08          MOVE    A0,A8
     669                            
     670 00003750     09e9          MOVI    EXPLODA,A9              ;GET ANIMATION TABLE
         00003760 0000b930' 
     671                    
     672 00003780     09e0          MOVI    SND1,A0
         00003790 00000000! 
     673 000037b0     0d5f          CALLA   ONESND          ;EXPLODE WITH NOISE
         000037c0 00000000! 
     674                    
     675 000037e0     5621          CLR     A1
     676 000037f0           REX3    JSRP    FRANIM
     677 00003860     c80d          JRC     REXXX
     678 00003870     b500          MOVE    *A8(OID),A0,W
         00003880     01a0  
     679 00003890     2f80          SRL     4,A0
     680 000038a0     2480          SLL     4,A0
     681 000038b0     0b40          CMPI    BEOID,A0
         000038c0     f41f  
     682 000038d0     caf1          JREQ    REX3            ;DON'T EXPLODE OUTWARDS IF IT'S AN ENEMY
     683 000038e0     b500          MOVE    *A8(OZPOS),A0,W
         000038f0     00d0  
     684 00003900     1100          ADDK    8,A0
     685 00003910     b008          MOVE    A0,*A8(OZPOS),W ;EXPLODE OUTWARDS PLEASE
         00003920     00d0  
     686 00003930     c0eb          JRUC    REX3
     687 00003940           REXXX
     688 00003940     b500          MOVE    *A8(OID),A0,W
         00003950     01a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   17

     689 00003960     2f80          SRL     4,A0
     690 00003970     2480          SLL     4,A0
     691 00003980     0b40          CMPI    BEOID,A0
         00003990     f41f  
     692 000039a0     ca19          JREQ    REXXNCNT
     693                    
     694 000039b0     05a0          MOVE    @DEATHCNT,A0,W
         000039c0 00000000! 
     695 000039e0     0b40          CMPI    7,A0
         000039f0     fff8  
     696 00003a00     c80b          JRLO    REXXDLO ;BR = NOT ENOUGH DEATHS
     697 00003a10     5600          CLR     A0
     698 00003a20     0580          MOVE    A0,@DEATHCNT,W
         00003a30 00000000! 
     699 00003a50                   SOUND1  THECROWD
     700 00003ab0     c008          JRUC    REXXNCNT
     701 00003ac0           REXXDLO
     702 00003ac0                   CREATE  0DEAH,DEATHCLR  ;WAIT BEFORE YOU CLEAR THE DEATH COUNT
     703 00003b40           REXXNCNT
     704 00003b40     4d00          MOVE    A8,A0           ;GET BACK FOR DELETE
     705 00003b50     4d41          MOVE    A10,A1
     706 00003b60     0d5f          CALLA   DELPAL
         00003b70 00000000! 
     707 00003b90     0d5f          CALLA   DELSUPP         ;UN-SUPP ME
         00003ba0 00000000! 
     708 00003bc0     0d5f          CALLA   DELOBJ          ;TAKE IT AWAY
         00003bd0 00000000! 
     709 00003bf0           REXXXDI
     710 00003bf0     c080          JAUC    SUCIDE
         00003c00 00000000! 
     711                    
     712                    *
     713                    *DEATHCLR - PROCESS TO CLEAR THE EXPLOSION DEATH COUNT AFTER TIME
     714                    *I.D. = $0DEA
     715 00003c20           DEATHCLR
     716 00003c20     b5a0          MOVE    *A13(PROCID),A0,W
         00003c30     0020  
     717 00003c40     5621          CLR     A1
     718 00003c50     03e1          NOT     A1
     719 00003c60     0d5f          CALLA   KILALL          ;KILL THE OTHER CLEARERS
         00003c70 00000000! 
     720 00003c90                   SLEEP   03CH
     721 00003ce0     5600          CLR     A0
     722 00003cf0     0580          MOVE    A0,@DEATHCNT,W
         00003d00 00000000! 
     723 00003d20                   DIE
     724                    **************************************************************************
     725                    *                                                                        *
     726                    * ROCKWRLD - ROCK THE WORLD, YEAH SHAKE IT UP BABY                       *
     727                    * I.D. MUST EQUAL ROCKWPID, COOL?                                        *
     728                    *                                                                        *
     729                    **************************************************************************
     730 00003d50           ROCKWRLD
     731 00003d50     09c0          MOVI    ROCKWPID,A0
         00003d60     06a8  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   18

     732 00003d70     4c04          MOVE    A0,A4
     733 00003d80     5621          CLR     A1
     734 00003d90     03e1          NOT     A1
     735 00003da0     0d5f          CALLA   EXISTP
         00003db0 00000000! 
     736 00003dd0     ca12          JRZ     ROCKWLD1        ;BR = GO THE GO AHEAD
     737 00003de0     0d5f          CALLA   GETA8
         00003df0 00000000! 
     738 00003e10     0d5f          CALLA   GETA9           ;GET CURRENT GUYS RESTORE PTRS
         00003e20 00000000! 
     739 00003e40     0d5f          CALLA   KILL            ;SLICE 'IM
         00003e50 00000000! 
     740 00003e70           ROCKWLD0
     741 00003e70     4c80          MOVE    A4,A0
     742 00003e80     0d5f          CALLA   EXISTP          ;CLEAR THE REST
         00003e90 00000000! 
     743 00003eb0     ca0a          JRZ     ROCKWLD2        ;IF THERE ARE ANY
     744 00003ec0     0d5f          CALLA   KILL
         00003ed0 00000000! 
     745 00003ef0     c0f7          JRUC    ROCKWLD0
     746 00003f00           ROCKWLD1
     747 00003f00     07a8          MOVE    @WORLDTLX,A8,L  ;KEEP THESE HERE S.V.P
         00003f10 00000000! 
     748 00003f30     07a9          MOVE    @WORLDTLY,A9,L
         00003f40 00000000! 
     749 00003f60           ROCKWLD2
     750 00003f60     4d02          MOVE    A8,A2
     751 00003f70     4d23          MOVE    A9,A3
     752 00003f80     18a0          MOVK    5,A0
     753 00003f90     0d5f          CALLA   RANDU           ;RANDOM SHOCK
         00003fa0 00000000! 
     754 00003fc0     2600          SLL     16,A0           ;UP HERE!
     755 00003fd0     4402          SUB     A0,A2
     756 00003fe0     4403          SUB     A0,A3           ;ROCK IT THIS WAY
     757 00003ff0     4c0a          MOVE    A0,A10
     758 00004000     0782          MOVE    A2,@WORLDTLX,L  
         00004010 00000000! 
     759 00004030     0783          MOVE    A3,@WORLDTLY,L
         00004040 00000000! 
     760 00004060     186b          MOVK    3,A11
     761 00004070           ROCKWLD3
     762 00004070     07a4          MOVE    @SCROLLX,A4,L
         00004080 00000000! 
     763 000040a0     4088          ADD     A4,A8           ;MATCH VELOCITIES
     764 000040b0     07a4          MOVE    @SCROLLY,A4,L
         000040c0 00000000! 
     765 000040e0     4089          ADD     A4,A9
     766 000040f0                   SLEEP   1
     767 00004130     3dab          DSJS    A11,ROCKWLD3    ;SLEEP THIS HERE
     768 00004140     4d02          MOVE    A8,A2
     769 00004150     4d23          MOVE    A9,A3
     770 00004160     4142          ADD     A10,A2          ;AND ROCK IT THAT ...
     771 00004170     4143          ADD     A10,A3
     772 00004180     0782          MOVE    A2,@WORLDTLX,L  
         00004190 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   19

     773 000041b0     0783          MOVE    A3,@WORLDTLY,L
         000041c0 00000000! 
     774 000041e0     186b          MOVK    3,A11
     775 000041f0           ROCKWLD4
     776 000041f0     07a4          MOVE    @SCROLLX,A4,L
         00004200 00000000! 
     777 00004220     4088          ADD     A4,A8           ;MATCH VELOCITIES
     778 00004230     07a4          MOVE    @SCROLLY,A4,L
         00004240 00000000! 
     779 00004260     4089          ADD     A4,A9
     780 00004270                   SLEEP   1
     781 000042b0     3dab          DSJS    A11,ROCKWLD4    ;SLEEP THIS HERE
     782 000042c0     0788          MOVE    A8,@WORLDTLX,L          ;RESTORE ALL TO NORMAL  
         000042d0 00000000! 
     783 000042f0     0789          MOVE    A9,@WORLDTLY,L
         00004300 00000000! 
     784 00004320                   DIE
     785                    
     786                    **************************************************************************
     787                    *                                                                        *
     788                    * CEXPLODE - ROCKET BOMB EXPLOSION AGAINST A CAR                         *
     789                    * A8 = PTR TO CAR OBJECT                                                 *
     790                    * A9 = FLAGS:ZPOS OF ROCKET                                              *
     791                    * A10 = OID OF ROCKET                                                    *
     792                    * A11 = XY POSITION OF ROCKET                                            *
     793                    *                                                                        *
     794                    **************************************************************************
     795 00004350           CEXPLODE:  
     796 00004350     0d5f          CALLA   SCRTST
         00004360 00000000! 
     797 00004380     cb08          JRNZ    CEXNRK1
     798 00004390                   CREATE  ROCKWPID,ROCKWRLD       ;ROCK THE WORLD
     799 00004410           CEXNRK1
     800 00004410                   SOUND1  CEXSND2
     801 00004470                   CREATE  REXPID,MULTIXP  ;EXPLODE ONE ON THE ROCKET
     802 000044f0                   SLEEP   16
     803 00004530     b502          MOVE    *A8(OZPOS),A2,W         ;CAR Z
         00004540     00d0  
     804 00004550     b509          MOVE    *A8(OFLAGS),A9,W
         00004560     0100  
     805 00004570     2609          SLL     16,A9
     806 00004580     ec49          MOVX    A2,A9                   ;A9 = OFLAGS:OZPOS
     807 00004590     b703          MOVE    *A8(OXVAL),A3,L
         000045a0     0080  
     808 000045b0     b702          MOVE    *A8(OYVAL),A2,L
         000045c0     00a0  
     809 000045d0     ee4b          MOVY    A2,A11
     810 000045e0     2e03          SRL     16,A3
     811 000045f0     ec6b          MOVX    A3,A11                  ;PACK CAR UL [Y,X] 
     812                    
     813 00004600     4d63          MOVE    A11,A3
     814 00004610     b504          MOVE    *A8(OFLAGS),A4,W
         00004620     0100  
     815 00004630     1f64          BTST    B_FLIPH,A4
     816 00004640     cb04          JRNE    CEXFTRK 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   20

     817 00004650     0b2b          ADDI    [20,20],A11             ;FUDGE TO GAS TANK ON UNFLIPPED THANG
         00004660 00140014  
     818 00004680     c006          JRUC    CEXBTRK
     819 00004690           CEXFTRK
     820 00004690     b702          MOVE    *A8(OSIZE),A2,L
         000046a0     0140  
     821 000046b0     e04b          ADDXY   A2,A11
     822 000046c0     0d0b          SUBI    [20,20],A11             ;FUDGE TO THE GAS TANK ON FLIPPED CAR
         000046d0 ffebffeb  
     823 000046f0           CEXBTRK
     824 000046f0     0d5f          CALLA   SCRTST
         00004700 00000000! 
     825 00004720     cb08          JRNZ    CEXNRK2
     826 00004730                   CREATE  ROCKWPID,ROCKWRLD       ;ROCK THE WORLD
     827 000047b0           CEXNRK2
     828 000047b0                   CREATE  REXPID,MULTIXP          ;EXPLODE ON THE REAR
     829 00004830     4c6b          MOVE    A3,A11                  ;RESTORE A11
     830 00004840           CEXPG
     831 00004840                   SOUND1  CEXSND1
     832 000048a0     1950          MOVK    10,B0
     833 000048b0     09d1          MOVI    25,B1
         000048c0     0019  
     834 000048d0     0d5f          CALLA   RANGRAND
         000048e0 00000000! 
     835 00004900                   SLEEPR  A0
     836 00004940     1860          MOVK    3,A0                    ;DO THIS MANY SMALL EXPLOSIONS
     837 00004950           CEXNEW1
     838                    *RE-SELECT A STARTING POINT IN CASE OF VELOCITY
     839 00004950                   PUSHP   A0                      ;KEEP THE EXPLOSION COUNT
     840 00004960     b502          MOVE    *A8(OZPOS),A2,W         ;CAR Z
         00004970     00d0  
     841 00004980     b509          MOVE    *A8(OFLAGS),A9,W
         00004990     0100  
     842 000049a0     2609          SLL     16,A9
     843 000049b0     ec49          MOVX    A2,A9                   ;A9 = OFLAGS:OZPOS
     844 000049c0     b703          MOVE    *A8(OXVAL),A3,L
         000049d0     0080  
     845 000049e0     b702          MOVE    *A8(OYVAL),A2,L
         000049f0     00a0  
     846 00004a00     ee4b          MOVY    A2,A11
     847 00004a10     2e03          SRL     16,A3
     848 00004a20     ec6b          MOVX    A3,A11                  ;PACK CAR UL [Y,X] 
     849 00004a30     4f62          MOVE    A11,B2
     850 00004a40     5610          CLR     B0
     851 00004a50     ec50          MOVX    B2,B0
     852 00004a60     4c11          MOVE    B0,B1
     853 00004a70     0b11          ADDI    240,B1
         00004a80     00f0  
     854 00004a90     0d5f          CALLA   RANGRAND        ;RANDOM X CENTER
         00004aa0 00000000! 
     855 00004ac0     ec0b          MOVX    A0,A11
     856 00004ad0     5610          CLR     B0      
     857 00004ae0     ee50          MOVY    B2,B0
     858 00004af0     4c11          MOVE    B0,B1
     859 00004b00     0b31          ADDI    [40,0],B1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   21

         00004b10 00280000  
     860 00004b30     0d5f          CALLA   RANGRAND        ;RANDOM Y CENTER
         00004b40 00000000! 
     861 00004b60     ee0b          MOVY    A0,A11
     862 00004b70     4f20          MOVE    A9,B0
     863 00004b80     0530          ZEXT    B0
     864 00004b90     4c11          MOVE    B0,B1
     865 00004ba0     1550          SUBK    10,B0   
     866 00004bb0     1151          ADDK    10,B1
     867 00004bc0     0d5f          CALLA   RANGRAND
         00004bd0 00000000! 
     868 00004bf0     ec09          MOVX    A0,A9           ;RANDOM Z CENTER
     869 00004c00     8780          MOVE    *A12,A0,L       ;GET THE COUNT BACK
     870 00004c10     0b40          CMPI    2,A0
         00004c20     fffd  
     871 00004c30     c80c          JRLO    CEXNROCK
     872 00004c40     0d5f          CALLA   SCRTST
         00004c50 00000000! 
     873 00004c70     cb08          JRNZ    CEXNROCK
     874 00004c80                   CREATE  ROCKWPID,ROCKWRLD       ;ROCK THE WORLD AGAIN
     875 00004d00           CEXNROCK
     876 00004d00     1420          DEC     A0
     877 00004d10     cb07          JRNZ    CEXNSND
     878 00004d20                   SOUND1  CEXSND2
     879 00004d80     c006          JRUC    CEXKICK
     880 00004d90           CEXNSND
     881 00004d90                   SOUND1  CEXSND1
     882 00004df0           CEXKICK
     883 00004df0                   CREATE  REXPID,MULTIXP
     884 00004e70     1950          MOVK    10,B0
     885 00004e80     09d1          MOVI    25,B1
         00004e90     0019  
     886 00004ea0     0d5f          CALLA   RANGRAND
         00004eb0 00000000! 
     887 00004ed0                   SLEEPR  A0
     888 00004f10                   PULLP   A0
     889 00004f30     0d80          DSJ     A0,CEXNEW1
         00004f40     ffa0  
     890 00004f50                   DIE
     891                    
     892                    **************************************************************************
     893                    *                                                                        *
     894                    * TEXPLODE - TIME-OUT CAR EXPLODE                                        *
     895                    * A8 = PTR TO CAR OBJECT                                                 *
     896                    * A9 = FLAGS:ZPOS OF ROCKET                                              *
     897                    * A10 = BASE OID OF EXPLOSION                                            *
     898                    * A11 = XY POSITION OF ROCKET                                            *
     899                    *                                                                        *
     900                    **************************************************************************
     901 00004f80           TEXPLODE
     902 00004f80     b502          MOVE    *A8(OZPOS),A2,W         ;CAR Z
         00004f90     00d0  
     903 00004fa0     b509          MOVE    *A8(OFLAGS),A9,W
         00004fb0     0100  
     904 00004fc0     2609          SLL     16,A9
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   22

     905 00004fd0     ec49          MOVX    A2,A9                   ;A9 = OFLAGS:OZPOS
     906 00004fe0     b703          MOVE    *A8(OXVAL),A3,L
         00004ff0     0080  
     907 00005000     b702          MOVE    *A8(OYVAL),A2,L
         00005010     00a0  
     908 00005020     ee4b          MOVY    A2,A11
     909 00005030     2e03          SRL     16,A3
     910 00005040     ec6b          MOVX    A3,A11                  ;PACK CAR UL [Y,X] 
     911                    
     912 00005050     4d63          MOVE    A11,A3
     913 00005060     b504          MOVE    *A8(OFLAGS),A4,W
         00005070     0100  
     914 00005080     1f64          BTST    B_FLIPH,A4
     915 00005090     cb04          JRNE    TEXFTRK 
     916 000050a0     0b2b          ADDI    [20,20],A11             ;FUDGE TO GAS TANK ON UNFLIPPED THANG
         000050b0 00140014  
     917 000050d0     c006          JRUC    TEXBTRK
     918 000050e0           TEXFTRK
     919 000050e0     b702          MOVE    *A8(OSIZE),A2,L
         000050f0     0140  
     920 00005100     e04b          ADDXY   A2,A11
     921 00005110     0d0b          SUBI    [20,20],A11             ;FUDGE TO THE GAS TANK ON FLIPPED CAR
         00005120 ffebffeb  
     922 00005140           TEXBTRK
     923 00005140                   CREATE  REXPID,MULTIXP          ;EXPLODE ON THE REAR
     924 000051c0     4c6b          MOVE    A3,A11                  ;RESTORE A11
     925 000051d0           TEXPG
     926 000051d0                   SOUND1  CEXSND1
     927 00005230     1950          MOVK    10,B0
     928 00005240     09d1          MOVI    25,B1
         00005250     0019  
     929 00005260     0d5f          CALLA   RANGRAND
         00005270 00000000! 
     930 00005290                   SLEEPR  A0
     931 000052d0     1868          MOVK    3,A8                    ;DO THIS MANY SMALL EXPLOSIONS
     932 000052e0           TEXNEW1
     933 000052e0     098f          MMTM    SP,A9,A11
         000052f0     0050  
     934 00005300     4f62          MOVE    A11,B2
     935 00005310     5610          CLR     B0
     936 00005320     ec50          MOVX    B2,B0
     937 00005330     4c11          MOVE    B0,B1
     938 00005340     0b11          ADDI    240,B1
         00005350     00f0  
     939 00005360     0d5f          CALLA   RANGRAND        ;RANDOM X CENTER
         00005370 00000000! 
     940 00005390     ec0b          MOVX    A0,A11
     941 000053a0     5610          CLR     B0      
     942 000053b0     ee50          MOVY    B2,B0
     943 000053c0     4c11          MOVE    B0,B1
     944 000053d0     0b31          ADDI    [40,0],B1
         000053e0 00280000  
     945 00005400     0d5f          CALLA   RANGRAND        ;RANDOM Y CENTER
         00005410 00000000! 
     946 00005430     ee0b          MOVY    A0,A11
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   23

     947 00005440     4f20          MOVE    A9,B0
     948 00005450     0530          ZEXT    B0
     949 00005460     4c11          MOVE    B0,B1
     950 00005470     1550          SUBK    10,B0   
     951 00005480     1151          ADDK    10,B1
     952 00005490     0d5f          CALLA   RANGRAND
         000054a0 00000000! 
     953 000054c0     ec09          MOVX    A0,A9           ;RANDOM Z CENTER
     954 000054d0     1428          DEC     A8
     955 000054e0     cb07          JRNZ    TEXNSND
     956 000054f0                   SOUND1  CEXSND2
     957 00005550     c006          JRUC    TEXKICK
     958 00005560           TEXNSND
     959 00005560                   SOUND1  CEXSND1
     960 000055c0           TEXKICK
     961 000055c0     1028          INC     A8
     962 000055d0     09af          MMFM    SP,A9,A11
         000055e0     0a00  
     963 000055f0                   CREATE  REXPID,MULTIXP
     964 00005670     1950          MOVK    10,B0
     965 00005680     09d1          MOVI    25,B1
         00005690     0019  
     966 000056a0     0d5f          CALLA   RANGRAND
         000056b0 00000000! 
     967 000056d0                   SLEEPR  A0
     968 00005710     0d88          DSJ     A8,TEXNEW1
         00005720     ffbb  
     969 00005730                   DIE
     970                    
     971                    **************************************************************************
     972                    *                                                                        *
     973                    * MULTIXP - USE THIS FOR AN XPLOSION WITH MULTIPLE BLASTS                *
     974                    * A9 = OFLAGS:OZPOS TO EXPLODE WITH                                      *
     975                    * A10 = OID OF ROCKET                                                    *
     976                    * A11 = YX POSITION TO EXPLODE @                                         *
     977                    *                                                                        *
     978                    **************************************************************************
     979 00005760           MULTIXP
     980 00005760     09ee          MOVI    REXINIT,A14
         00005770 000031b0' 
     981 00005790     0d5f          CALLA   GPALOBJ
         000057a0 00000000! 
     982 000057c0     ca6e          JRZ     MXPXXDI         ;BR = THERE'S NO PALETTES HERE  
     983 000057d0     0d5f          CALLA   STFOBJ
         000057e0 00000000! 
     984 00005800     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINK IT TO THIS PROCESS
         00005810     01f0  
     985 00005820     2f8a          SRL     4,A10
     986 00005830     248a          SLL     4,A10
     987 00005840     104a          ADDK    EXPLODID,A10    ;MAKE THIS AN EXPLOSION
     988 00005850     b140          MOVE    A10,*A0(OID),W  ;STUFF I.D.
         00005860     01a0  
     989 00005870     144a          SUBK    EXPLODID,A10    ;BACK HOME AGAIN        
     990 00005880     b120          MOVE    A9,*A0(OZPOS),W ;GONNA SET US A Z POSITION, YESIREE
         00005890     00d0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   24

     991 000058a0     09c8          MOVI    REXOFF,A8
         000058b0     0006  
     992 000058c0     2d89          SRL     20,A9           ;GET FLAGS INTO POSITION
     993 000058d0     2489          SLL     4,A9
     994 000058e0     0ba9          ORI     DMAWNZ,A9       ;MAKE SURE THE WRITE IS CORRECT
         000058f0 00008002  
     995 00005910     1f69          BTST    B_FLIPH,A9      ;AND TEST FOR FLIP
     996 00005920     ca01          JREQ    MXP2            ;BR = ROCKET NOT FLIPPED
     997 00005930     03a8          NEG     A8
     998 00005940           MXP2
     999 00005940     e10b          ADDXY   A8,A11          ;ADD IN THE OFFSET
    1000 00005950     5642          CLR     A2
    1001 00005960     ef62          MOVY    A11,A2          ;SET Y POSITION
    1002 00005970     ed63          MOVX    A11,A3
    1003 00005980     2603          SLL     16,A3           ;SET X POSITION
    1004 00005990     4d24          MOVE    A9,A4
    1005 000059a0     0d5f          CALLA   GANISAG         ;ADJUST
         000059b0 00000000! 
    1006 000059d0     0d5f          CALLA   INSOBJ
         000059e0 00000000! 
    1007 00005a00     09e1          MOVI    EXPLOSIONS,A1
         00005a10 00000000! 
    1008 00005a30     0d5f          CALLA   ADDSUPP         ;ADD IT TO THE CORRECT SUPPLEMENTAL LIST
         00005a40 00000000! 
    1009 00005a60     4c2a          MOVE    A1,A10
    1010 00005a70     4c08          MOVE    A0,A8
    1011 00005a80     09e9          MOVI    MXPANIM,A9      ;GET ANIMATION TABLE
         00005a90 0000bad0' 
    1012 00005ab0     5621          CLR     A1
    1013 00005ac0           MXP3
    1014 00005ac0     b500          MOVE    *A8(OID),A0,W
         00005ad0     01a0  
    1015 00005ae0     2f80          SRL     4,A0
    1016 00005af0     2480          SLL     4,A0
    1017 00005b00     0b40          CMPI    BEOID,A0
         00005b10     f41f  
    1018 00005b20     ca05          JREQ    MXP3A           ;DON'T EXPLODE OUTWARDS IF IT'S AN ENEMY
    1019 00005b30     b500          MOVE    *A8(OZPOS),A0,W
         00005b40     00d0  
    1020 00005b50     1080          ADDK    4,A0
    1021 00005b60     b008          MOVE    A0,*A8(OZPOS),W ;EXPLODE OUTWARDS PLEASE
         00005b70     00d0  
    1022 00005b80           MXP3A
    1023 00005b80                   JSRP    FRANIM
    1024 00005bf0     c9ec          JRNC    MXP3
    1025                    
    1026 00005c00     b500          MOVE    *A8(OID),A0,W
         00005c10     01a0  
    1027 00005c20     2f80          SRL     4,A0
    1028 00005c30     2480          SLL     4,A0
    1029 00005c40     0b40          CMPI    BEOID,A0
         00005c50     f41f  
    1030 00005c60     ca19          JREQ    MXPXX
    1031                    
    1032 00005c70     05a0          MOVE    @DEATHCNT,A0,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   25

         00005c80 00000000! 
    1033 00005ca0     0b40          CMPI    7,A0
         00005cb0     fff8  
    1034 00005cc0     c80b          JRLO    MEXXDLO ;BR = NOT ENOUGH DEATHS
    1035 00005cd0     5600          CLR     A0
    1036 00005ce0     0580          MOVE    A0,@DEATHCNT,W
         00005cf0 00000000! 
    1037 00005d10                   SOUND1  THECROWD
    1038 00005d70     c008          JRUC    MXPXX
    1039 00005d80           MEXXDLO
    1040 00005d80                   CREATE  0DEAH,DEATHCLR  ;WAIT BEFORE YOU CLEAR THE DEATH COUNT
    1041 00005e00           MXPXX
    1042 00005e00     4d00          MOVE    A8,A0           ;GET BACK FOR DELETE
    1043 00005e10     4d41          MOVE    A10,A1
    1044 00005e20     0d5f          CALLA   DELPAL
         00005e30 00000000! 
    1045 00005e50     0d5f          CALLA   DELSUPP         ;UN-SUPP ME
         00005e60 00000000! 
    1046 00005e80     0d5f          CALLA   DELOBJ          ;TAKE IT AWAY
         00005e90 00000000! 
    1047 00005eb0           MXPXXDI
    1048 00005eb0     c080          JAUC    SUCIDE
         00005ec0 00000000! 
    1049                    
    1050                    **************************************************************************
    1051                    *                                                                        *
    1052                    * PUFFER - ROCKET LAUNCH PUFF OF SMOKE                                   *
    1053                    * A8 = PTR TO ROCKET OBJECT BLOCK(CHANGES TO SMOKE PTR)                  *
    1054                    * A11 = PTR TO PLAYER DATA AREA(0 = ENEMY NOT A PLAYER)                  *
    1055                    *                                                                        *
    1056                    **************************************************************************
    1057 00005ee0           PUFFER
    1058 00005ee0     09ee          MOVI    PUFFINIT,A14
         00005ef0 000032f0' 
    1059 00005f10     0d5f          CALLA   GPALOBJ
         00005f20 00000000! 
    1060 00005f40     ca28          JRZ     PUFDIE
    1061 00005f50     0d5f          CALLA   STFOBJ
         00005f60 00000000! 
    1062 00005f80     b701          MOVE    *A8(OZVAL),A1,L
         00005f90     00c0  
    1063 00005fa0     1021          INC     A1
    1064 00005fb0     b220          MOVE    A1,*A0(OZVAL),L         ;KEEP THE PUFF OUT FRONT
         00005fc0     00c0  
    1065 00005fd0     0d5f          CALLA   GETANIXY                ;GET ROCKET APOINT POSITION
         00005fe0 00000000! 
    1066 00006000     b504          MOVE    *A8(OFLAGS),A4,W        ;AND ROCKET FLAGS
         00006010     0100  
    1067 00006020     0d5f          CALLA   GANISAG                 ;ADJUST FOR NEW IMAGE AND POSS. FLIP
         00006030 00000000! 
    1068 00006050     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINKIT HOME
         00006060     01f0  
    1069 00006070     0d5f          CALLA   INSOBJ                  ;PUT IT ON THE LIST
         00006080 00000000! 
    1070 000060a0     4c08          MOVE    A0,A8                   ;KEEP FOR DEEP SLEEP
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   26

    1071                    
    1072 000060b0     09e9          MOVI    PUFFTAB,A9
         000060c0 0000b670' 
    1073 000060e0     1821          MOVK    1,A1
    1074 000060f0                   JSRP    FRANIM                  ;ANIMATE THE THING
    1075                    
    1076 00006160     4d00          MOVE    A8,A0
    1077 00006170     0d5f          CALLA   DELPAL
         00006180 00000000! 
    1078 000061a0     0d5f          CALLA   DELOBJ
         000061b0 00000000! 
    1079 000061d0           PUFDIE
    1080 000061d0     c080          JAUC    SUCIDE                  ;THAT'S ALL FOLKS
         000061e0 00000000! 
    1081                    
    1082                    
    1083 00006200           TR1INIT
    1084 00006200 00000000          .LONG   0,0,0,0
    1085 00006280     0000          .WORD   0,0
    1086 000062a0 00000000!         .LONG   TPART1,0,DUMCOLL
    1087 00006300     8002          .WORD   DMAWNZ,EFF4OID
    1088 00006320 00000000          .LONG   0
    1089                    **************************************************************************
    1090                    *                                                                        *
    1091                    * TRAILER - ROCKET BOMB SMOKE TRAIL                                      *
    1092                    * A8 = PTR TO ROCKET OBJECT(BECOMES PTR TO CURRENTLY CLIPPING TRAIL)     *
    1093                    * A9 = BECOMES THE CLIP DECREMENT                                        *
    1094                    * A10 = BECOMES THE POINTER TO THE TRAIL PART 1                          *
    1095                    * A11 = BECOMES THE POINTER TO THE TRAIL PART 2                          *
    1096                    * NOTE: THE SMOKE TRAILS DO NOT CREATE PALETTES, THEY USE THE FIXED      *
    1097                    *       PALETTE.                                                         *
    1098                    *                                                                        *
    1099                    **************************************************************************
    1100 00006340           TRAILER
    1101 00006340     5600          CLR     A0
    1102 00006350     b20d          MOVE    A0,*A13(PDATA),L        ;CLEAR THIS AREA
         00006360     0060  
    1103 00006370     09ee          MOVI    TR1INIT,A14
         00006380 00006200' 
    1104 000063a0     0d5f          CALLA   GETOBJ
         000063b0 00000000! 
    1105 000063d0     ca00          JRZ     TRAILFL                 ;BR = OBJECT FAILURE
         000063e0     00ae  
    1106 000063f0     0d5f          CALLA   STFOBJ
         00006400 00000000! 
    1107 00006420     5621          CLR     A1
    1108 00006430     b028          MOVE    A1,*A8(OPAL),W          ;ASSUME FIXED PALETTE
         00006440     0160  
    1109 00006450     bb00          MOVE    *A8(OZVAL),*A0(OZVAL),L
         00006460     00c0  
         00006470     00c0  
    1110 00006480     bb00          MOVE    *A8(OYVEL),*A0(OYVEL),L
         00006490     0060  
         000064a0     0060  
    1111 000064b0     b709          MOVE    *A8(OXVEL),A9,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   27

         000064c0     0040  
    1112 000064d0     b320          MOVE    A9,*A0(OXVEL),L
         000064e0     0040  
    1113 000064f0     2e09          SRL     16,A9                   ;KEEP HERE FOR THE OPENING CLIP
    1114 00006500     0d5f          CALLA   GETANIXY                ;GET THE ROCKET ANIMATION POINT POS.
         00006510 00000000! 
    1115 00006530     b504          MOVE    *A8(OFLAGS),A4,W        ;AND ROCKET FLAGS
         00006540     0100  
    1116 00006550     0d5f          CALLA   GANISAG                 ;ADJUST FOR NEW IMAGE AND POSS. FLIP
         00006560 00000000! 
    1117 00006580     b3a0          MOVE    A13,*A0(OPLINK),L       ;LINKIT HOME
         00006590     01f0  
    1118 000065a0     4c08          MOVE    A0,A8
    1119                    
    1120 000065b0     0d5f          CALLA   GETOBJ                  ;SETUP FOR PART 2
         000065c0 00000000! 
    1121 000065e0     ca10          JREQ    TRAIL2FL                ;NO SECOND PART AVAILABLE
    1122                    
    1123 000065f0     0d5f          CALLA   COPYOBJ
         00006600 00000000! 
    1124 00006620     09e1          MOVI    TPART2,A1
         00006630 00000000! 
    1125 00006650     b220          MOVE    A1,*A0(OIMG),L          ;STUFF THE IMAGE
         00006660     0180  
    1126 00006670     0d5f          CALLA   GETANIXY
         00006680 00000000! 
    1127 000066a0     b404          MOVE    *A0(OFLAGS),A4,W
         000066b0     0100  
    1128 000066c0     0d5f          CALLA   GANISAG                 ;NOW HE'S ALL SETUP
         000066d0 00000000! 
    1129                    
    1130 000066f0           TRAIL2FL
    1131 000066f0     4c0b          MOVE    A0,A11                  ;HOLD HERE
    1132                    
    1133 00006700     b701          MOVE    *A8(OIMG),A1,L
         00006710     0180  
    1134 00006720     b423          MOVE    *A1(ISIZE),A3,W         ;GET THE X SIZE
         00006730     0000  
    1135 00006740     4c65          MOVE    A3,A5
    1136                    
    1137 00006750     4d00          MOVE    A8,A0
    1138 00006760     1f64          BTST    B_FLIPH,A4
    1139 00006770     cb2b          JRNE    TUCLIPR                 ;BR = HE'S FLIPPED CLIP RIGHT SIDE
    1140                    
    1141 00006780     5b25          DIVU    A9,A5                   ;GET THE # OF ITERATIONS
    1142 00006790     03a9          NEG     A9                      ;NEGATE FOR ADD
    1143 000067a0     5642          CLR     A2
    1144 000067b0     0d5f          CALLA   CLIPOBJ                 ;CLIP THE OBJECT ALL THE WAY
         000067c0 00000000! 
    1145 000067e0     0d5f          CALLA   INSOBJ                  ;PUT IT ON THE LIST
         000067f0 00000000! 
    1146 00006810     4c0a          MOVE    A0,A10
    1147                    
    1148 00006820                   JSRP    CLIPLEFT
    1149                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   28

    1150                    *TIME TO CLIP PART 2 ON THE LEFT
    1151 00006890     4d60          MOVE    A11,A0
    1152 000068a0     ca45          JREQ    TUCLIPX1                ;2nd PART DID NOT EXIST
    1153 000068b0     b601          MOVE    *A0(OIMG),A1,L
         000068c0     0180  
    1154 000068d0     b423          MOVE    *A1(ISIZE),A3,W         ;GET THE X SIZE
         000068e0     0000  
    1155 000068f0     4c65          MOVE    A3,A5
    1156 00006900     03a9          NEG     A9
    1157 00006910     5b25          DIVU    A9,A5
    1158 00006920     03a9          NEG     A9
    1159 00006930     4c08          MOVE    A0,A8
    1160 00006940     5642          CLR     A2
    1161 00006950     0d5f          CALLA   CLIPOBJ                 ;CLIP THE OBJECT ALL THE WAY
         00006960 00000000! 
    1162 00006980     0d5f          CALLA   INSOBJ                  ;PUT IT ON THE LIST
         00006990 00000000! 
    1163                    
    1164 000069b0                   JSRP    CLIPLEFT
    1165 00006a20     c02d          JRUC    TUCLIPX1
    1166                    
    1167                    *AHH, WE MUST CLIP OFF OF THE RIGHT SIDE THIS TIME
    1168 00006a30           TUCLIPR
    1169 00006a30     0509          SEXT    A9                      ;GET THE FULL STORY
    1170 00006a40     03a9          NEG     A9                      ;DIVIDE POSITIVE
    1171 00006a50     5b25          DIVU    A9,A5                   ;GET THE # OF ITERATIONS
    1172 00006a60     03a9          NEG     A9
    1173 00006a70     4c62          MOVE    A3,A2
    1174 00006a80     5663          CLR     A3
    1175 00006a90     0d5f          CALLA   CLIPOBJ                 ;CLIP THE OBJECT ALL THE WAY
         00006aa0 00000000! 
    1176 00006ac0     0d5f          CALLA   INSOBJ                  ;PUT IT ON THE LIST
         00006ad0 00000000! 
    1177 00006af0     4c0a          MOVE    A0,A10
    1178                    
    1179 00006b00                   JSRP    CLIPRYTE
    1180                    
    1181                    *TIME TO CLIP PART 2 ON THE RIGHT
    1182 00006b70           TUCLIPRX
    1183 00006b70     4d60          MOVE    A11,A0
    1184 00006b80     ca17          JREQ    TUCLIPX1                ;2nd PART DID NOT EXIST
    1185 00006b90     b601          MOVE    *A0(OIMG),A1,L
         00006ba0     0180  
    1186 00006bb0     b422          MOVE    *A1(ISIZE),A2,W         ;GET THE X SIZE
         00006bc0     0000  
    1187 00006bd0     4c45          MOVE    A2,A5
    1188 00006be0     03a9          NEG     A9                      ;DIVIDE POSITIVE
    1189 00006bf0     5b25          DIVU    A9,A5                   ;GET THE # OF ITERATIONS
    1190 00006c00     03a9          NEG     A9
    1191 00006c10     4c08          MOVE    A0,A8
    1192 00006c20     5663          CLR     A3
    1193 00006c30     0d5f          CALLA   CLIPOBJ                 ;CLIP THE OBJECT ALL THE WAY
         00006c40 00000000! 
    1194 00006c60     0d5f          CALLA   INSOBJ                  ;PUT IT ON THE LIST
         00006c70 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   29

    1195                    
    1196 00006c90                   JSRP    CLIPRYTE
    1197                    
    1198 00006d00           TUCLIPX1
    1199 00006d00     4d48          MOVE    A10,A8
    1200 00006d10     4d6a          MOVE    A11,A10
    1201 00006d20     576b          CLR     A11
    1202 00006d30           TRAILWT
    1203 00006d30     0d5f          CALLA   SCRTST
         00006d40 00000000! 
    1204 00006d60     cb07          JRNE    TRAILX
    1205 00006d70                   SLOOP   10,TRAILWT
    1206 00006de0           TRAILX
    1207 00006de0     4d00          MOVE    A8,A0
    1208 00006df0     0d5f          CALLA   DELOBJ
         00006e00 00000000! 
    1209 00006e20                   TEST    A10
    1210 00006e30     cbec          JRNE    TUCLIPX1                ;BR = MUST DELETE THE SECOND
    1211 00006e40     b7a0          MOVE    *A13(PDATA),A0,L
         00006e50     0060  
    1212 00006e60     ca03          JRZ     TRAILXNS                ;BR = NO DR. SHRINKER PROC
    1213 00006e70     0d5f          CALLA   KILL
         00006e80 00000000! 
    1214 00006ea0           TRAILXNS
    1215 00006ea0                   DIE
    1216                    *TOTAL TRAIL CREATE FAILURE
    1217 00006ed0           TRAILFL
    1218 00006ed0     574a          CLR     A10
    1219 00006ee0     576b          CLR     A11                     ;INDICATE NO TRAILS PRESENT
    1220 00006ef0                   SLEEP   40                      ;GIVE ROCKET A CHANCE TO HIT SOMETHING
    1221 00006f40                   DIE
    1222                    
    1223                    **************************************************************************
    1224                    *                                                                        *
    1225                    * SHRNKTRL - SHRINK THE SMOKE TRAIL INTO AN EXPLOSION                    *
    1226                    * A10 = POINTER TO TRAIL PART #1                                         *
    1227                    * A11 = POINTER TO TRAIL PART #2                                         *
    1228                    *                                                                        *
    1229                    **************************************************************************
    1230 00006f70           SHRNKTRL
    1231 00006f70     b740          MOVE    *A10(OPLINK),A0,L
         00006f80     01f0  
    1232 00006f90     ca02          JRZ     SHRTRNCP
    1233 00006fa0     b3a0          MOVE    A13,*A0(PDATA),L
         00006fb0     0060  
    1234 00006fc0           SHRTRNCP
    1235 00006fc0     b549          MOVE    *A10(OXVEL+16),A9,W     ;GET THE XVEL OF THIS 'TING
         00006fd0     0050  
    1236 00006fe0     ce20          JRN     STRAILL                 ;BR = MOVING LEFT, SO CLIP THAT SIDE
    1237                    
    1238                    *CLIP FROM RIGHT SIDE
    1239 00006ff0                   SLEEP   1                       ;LET IT CLIP OUT MAN
    1240 00007030     4d48          MOVE    A10,A8                  ;BRING IT HERE TO SHRINK
    1241 00007040     b701          MOVE    *A8(OIMG),A1,L
         00007050     0180  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   30

    1242 00007060     b425          MOVE    *A1(ISIZE),A5,W         ;GET THE X SIZE
         00007070     0000  
    1243 00007080     5b25          DIVU    A9,A5                   ;GET THE # OF ITERATIONS
    1244                    
    1245 00007090                   JSRP    CLIPRYTE
    1246                    
    1247                    *TIME TO CLIP PART 2 ON THE RIGHT
    1248 00007100     4d68          MOVE    A11,A8
    1249 00007110     ca36          JREQ    SHRKTXA10               ;2nd PART DID NOT EXIST
    1250 00007120     b701          MOVE    *A8(OIMG),A1,L
         00007130     0180  
    1251 00007140     b425          MOVE    *A1(ISIZE),A5,W         ;GET THE X SIZE
         00007150     0000  
    1252 00007160     5b25          DIVU    A9,A5                   ;GET THE # OF ITERATIONS
    1253                    
    1254 00007170                   JSRP    CLIPRYTE
    1255                    
    1256 000071e0     c020          JRUC    SHRNKTX                 ;DONE WITH THESE GUYS
    1257                    
    1258                    *SHRINK FROM THE LEFT
    1259 000071f0           STRAILL
    1260 000071f0                   SLEEP   1                       ;LET IT CLIP YAAH!
    1261 00007230     4d48          MOVE    A10,A8                  ;BRING IT HERE TO SHRINK
    1262 00007240     b701          MOVE    *A8(OIMG),A1,L
         00007250     0180  
    1263 00007260     b425          MOVE    *A1(ISIZE),A5,W         ;GET THE X SIZE
         00007270     0000  
    1264 00007280     03a9          NEG     A9
    1265 00007290     5b25          DIVU    A9,A5
    1266                    
    1267 000072a0                   JSRP    CLIPLEFT
    1268                    *TIME TO CLIP PART 2 ON THE LEFT
    1269 00007310     4d68          MOVE    A11,A8
    1270 00007320     ca15          JREQ    SHRKTXA10               ;2nd PART DID NOT EXIST
    1271 00007330     b701          MOVE    *A8(OIMG),A1,L
         00007340     0180  
    1272 00007350     b425          MOVE    *A1(ISIZE),A5,W         ;GET THE X SIZE
         00007360     0000  
    1273 00007370     5b25          DIVU    A9,A5
    1274                    
    1275 00007380                   JSRP    CLIPLEFT
    1276                    
    1277 000073f0           SHRNKTX
    1278 000073f0     b760          MOVE    *A11(OPLINK),A0,L
         00007400     01f0  
    1279 00007410     ca03          JRZ     SHRNKTX1
    1280 00007420     5621          CLR     A1
    1281 00007430     b220          MOVE    A1,*A0(PDATA),L
         00007440     0060  
    1282 00007450           SHRNKTX1
    1283 00007450                   DIE
    1284                    *
    1285                    *EXIT POINT, A10 THE ONLY ONE CREATED
    1286 00007480           SHRKTXA10
    1287 00007480     b740          MOVE    *A10(OPLINK),A0,L
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   31

         00007490     01f0  
    1288 000074a0     ca03          JRZ     SHKTX101
    1289 000074b0     5621          CLR     A1
    1290 000074c0     b220          MOVE    A1,*A0(PDATA),L
         000074d0     0060  
    1291 000074e0           SHKTX101
    1292 000074e0                   DIE
    1293                    **************************************************************************
    1294                    *                                                                        *
    1295                    * CLIPRYTE - CLIP A LENGTH OFF THE RIGHT SIDE OF AN OBJECT               *
    1296                    *          A GIVEN AMOUNT OF TIMES.                                      *
    1297                    * A5 = AMOUNT OF TIMES TO CLIP                                           *
    1298                    * A8 = PTR TO OBJECT                                                     *
    1299                    * A9 = AMOUNT TO CLIP FROM RYTE EACH ITERATION                           *
    1300                    * NOTE: CALL WITH JSRP                                                   *
    1301                    *                                                                        *
    1302                    **************************************************************************
    1303 00007510           CLIPRYTE
    1304 00007510                   PUSHP   A5
    1305 00007520     ed22          MOVX    A9,A2
    1306 00007530     0522          ZEXT    A2
    1307 00007540     5663          CLR     A3
    1308 00007550     0d5f          CALLA   CLIPOBJ                 ;CLIP UP THE RIGHT SIDE 
         00007560 00000000! 
    1309 00007580                   SLEEP   1
    1310 000075c0                   PULLP   A5
    1311 000075e0     3dc5          DSJS    A5,CLIPRYTE
    1312 000075f0                   RETP
    1313                    
    1314                    **************************************************************************
    1315                    *                                                                        *
    1316                    * CLIPLEFT - CLIP A LENGTH OFF THE LEFT SIDE OF AN OBJECT                *
    1317                    *          A GIVEN AMOUNT OF TIMES.                                      *
    1318                    * A5 = AMOUNT OF TIMES TO CLIP                                           *
    1319                    * A8 = PTR TO OBJECT                                                     *
    1320                    * A9 = AMOUNT TO CLIP FROM LEFT EACH ITERATION                           *
    1321                    * NOTE: CALL WITH JSRP                                                   *
    1322                    *                                                                        *
    1323                    **************************************************************************
    1324 00007620           CLIPLEFT
    1325 00007620                   PUSHP   A5
    1326 00007630     ed23          MOVX    A9,A3
    1327 00007640     0523          ZEXT    A3
    1328 00007650     5642          CLR     A2
    1329 00007660     0d5f          CALLA   CLIPOBJ 
         00007670 00000000! 
    1330 00007690                   SLEEP   1
    1331 000076d0                   PULLP   A5
    1332 000076f0     3dc5          DSJS    A5,CLIPLEFT
    1333 00007700                   RETP
    1334                    
    1335                    *
    1336                    *PROJECTILE COLLISION LISTS
    1337 00007730           BCOLL
    1338 00007730     0bc4          .WORD   BGGID
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   32

    1339 00007740 00009d10'         .LONG   BCOLDCAN
    1340 00007760     0bc5          .WORD   BGLID
    1341 00007770 00009d90'         .LONG   BCOLDPST
    1342 00007790     0bc9          .WORD   BGDMPID
    1343 000077a0 00009c90'         .LONG   BCOLDDMP
    1344 000077c0     0c00          .WORD   C1OID|CBODYID
    1345 000077d0 00009c90'         .LONG   BCOLDDMP
    1346 000077f0     0c02          .WORD   C1OID|WSHLDID
    1347 00007800 00009c90'         .LONG   BCOLDDMP
    1348 00007820     0c03          .WORD   C1OID|TRUNKID
    1349 00007830 00009c90'         .LONG   BCOLDDMP
    1350 00007850     0b10          .WORD   B1OID|BULLETID
    1351 00007860 00009d90'         .LONG   BCOLDPST
    1352 00007880     0b14          .WORD   B1OID|ROCKETID
    1353 00007890 00009d90'         .LONG   BCOLDPST
    1354 000078b0     0b11          .WORD   B1OID|FLAMEID
    1355 000078c0 00009950'         .LONG   BCOLL1
    1356 000078e0     0b20          .WORD   B2OID|BULLETID
    1357 000078f0 00009d90'         .LONG   BCOLDPST
    1358 00007910     0b24          .WORD   B2OID|ROCKETID
    1359 00007920 00009d90'         .LONG   BCOLDPST
    1360 00007940     0b21          .WORD   B2OID|FLAMEID
    1361 00007950 00009950'         .LONG   BCOLL1
    1362 00007970     0c50          .WORD   INTR1OID|CBODYID
    1363 00007980 00009c90'         .LONG   BCOLDDMP
    1364 000079a0     0c52          .WORD   INTR1OID|WSHLDID
    1365 000079b0 00009c90'         .LONG   BCOLDDMP
    1366 000079d0     0c53          .WORD   INTR1OID|TRUNKID
    1367 000079e0 00009c90'         .LONG   BCOLDDMP
    1368 00007a00     0c30          .WORD   TRAN1OID|CBODYID
    1369 00007a10 00009c90'         .LONG   BCOLDDMP
    1370 00007a30     0c32          .WORD   TRAN1OID|WSHLDID
    1371 00007a40 00009c90'         .LONG   BCOLDDMP
    1372 00007a60     0c33          .WORD   TRAN1OID|TRUNKID
    1373 00007a70 00009c90'         .LONG   BCOLDDMP
    1374 00007a90     0c40          .WORD   TRAN2OID|CBODYID
    1375 00007aa0 00009c90'         .LONG   BCOLDDMP
    1376 00007ac0     0c42          .WORD   TRAN2OID|WSHLDID
    1377 00007ad0 00009c90'         .LONG   BCOLDDMP
    1378 00007af0     0c43          .WORD   TRAN2OID|TRUNKID
    1379 00007b00 00009c90'         .LONG   BCOLDDMP
    1380 00007b20     0c70          .WORD   CSTR1OID|CBODYID
    1381 00007b30 00009c90'         .LONG   BCOLDDMP
    1382 00007b50     0c72          .WORD   CSTR1OID|WSHLDID
    1383 00007b60 00009c90'         .LONG   BCOLDDMP
    1384 00007b80     0c73          .WORD   CSTR1OID|TRUNKID
    1385 00007b90 00009c90'         .LONG   BCOLDDMP
    1386                    ****    .WORD   0
    1387                    ****    .LONG   BCOLL1
    1388 00007bb0     0000          .WORD   0
    1389 00007bc0 00009af0'         .LONG   GLASSTST
    1390                    
    1391 00007be0           BP1COLL
    1392 00007be0     1000          .WORD   P1OID
    1393 00007bf0 00000000!         .LONG   DUMRTSG
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   33

    1394 00007c10     2000          .WORD   P2OID
    1395 00007c20 00000000!         .LONG   DUMRTSG
    1396 00007c40     0bc4          .WORD   BGGID
    1397 00007c50 0000a880'         .LONG   BCOL1CAN
    1398 00007c70     0bc5          .WORD   BGLID
    1399 00007c80 0000a920'         .LONG   BCOL1PST
    1400 00007ca0     0bc9          .WORD   BGDMPID
    1401 00007cb0 0000a7e0'         .LONG   BCOL1DMP
    1402                    
    1403 00007cd0     0be0          .WORD   BEOID|BULLETID
    1404 00007ce0 0000a920'         .LONG   BCOL1PST
    1405 00007d00     0be7          .WORD   BEOID|DYNAID
    1406 00007d10 0000a920'         .LONG   BCOL1PST
    1407 00007d30     0be4          .WORD   BEOID|ROCKETID
    1408 00007d40 0000a920'         .LONG   BCOL1PST
    1409 00007d60     0be1          .WORD   BEOID|FLAMEID
    1410 00007d70 00009890'         .LONG   BP1COLL1
    1411                    
    1412 00007d90     0c00          .WORD   C1OID|CBODYID
    1413 00007da0 0000a710'         .LONG   BCOL1CAR
    1414 00007dc0     0c02          .WORD   C1OID|WSHLDID
    1415 00007dd0 0000a7e0'         .LONG   BCOL1DMP
    1416 00007df0     0c03          .WORD   C1OID|TRUNKID
    1417 00007e00 0000a7e0'         .LONG   BCOL1DMP
    1418                    
    1419 00007e20     0c20          .WORD   CAR3OID|CBODYID
    1420 00007e30 0000a710'         .LONG   BCOL1CAR
    1421 00007e50     0c22          .WORD   CAR3OID|WSHLDID
    1422 00007e60 0000a7e0'         .LONG   BCOL1DMP
    1423                    
    1424 00007e80     0c50          .WORD   INTR1OID|CBODYID
    1425 00007e90 0000a710'         .LONG   BCOL1CAR
    1426 00007eb0     0c52          .WORD   INTR1OID|WSHLDID
    1427 00007ec0 0000a7e0'         .LONG   BCOL1DMP
    1428 00007ee0     0c53          .WORD   INTR1OID|TRUNKID
    1429 00007ef0 0000a7e0'         .LONG   BCOL1DMP
    1430                    
    1431 00007f10     0c30          .WORD   TRAN1OID|CBODYID
    1432 00007f20 0000a710'         .LONG   BCOL1CAR
    1433 00007f40     0c32          .WORD   TRAN1OID|WSHLDID
    1434 00007f50 0000a7e0'         .LONG   BCOL1DMP
    1435 00007f70     0c33          .WORD   TRAN1OID|TRUNKID
    1436 00007f80 0000a7e0'         .LONG   BCOL1DMP
    1437                    
    1438 00007fa0     0c40          .WORD   TRAN2OID|CBODYID
    1439 00007fb0 0000a710'         .LONG   BCOL1CAR
    1440 00007fd0     0c42          .WORD   TRAN2OID|WSHLDID
    1441 00007fe0 0000a7e0'         .LONG   BCOL1DMP
    1442 00008000     0c43          .WORD   TRAN2OID|TRUNKID
    1443 00008010 0000a7e0'         .LONG   BCOL1DMP
    1444                    
    1445 00008030     0c70          .WORD   CSTR1OID|CBODYID
    1446 00008040 0000a710'         .LONG   BCOL1CAR
    1447 00008060     0c72          .WORD   CSTR1OID|WSHLDID
    1448 00008070 0000a7e0'         .LONG   BCOL1DMP
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   34

    1449 00008090     0c73          .WORD   CSTR1OID|TRUNKID
    1450 000080a0 0000a7e0'         .LONG   BCOL1DMP
    1451                    
    1452                    ****    .WORD   0
    1453                    ****    .LONG   BP1COLL1
    1454 000080c0     0000          .WORD   0
    1455 000080d0 00009b70'         .LONG   GLASSTST1
    1456                    
    1457 000080f0           BP2COLL
    1458 000080f0     1000          .WORD   P1OID
    1459 00008100 00000000!         .LONG   DUMRTSG
    1460 00008120     2000          .WORD   P2OID
    1461 00008130 00000000!         .LONG   DUMRTSG
    1462 00008150     0bc4          .WORD   BGGID
    1463 00008160 0000ab30'         .LONG   BCOL2CAN
    1464 00008180     0bc5          .WORD   BGLID
    1465 00008190 0000abd0'         .LONG   BCOL2PST
    1466 000081b0     0bc9          .WORD   BGDMPID
    1467 000081c0 0000aa90'         .LONG   BCOL2DMP
    1468                    
    1469 000081e0     0be0          .WORD   BEOID|BULLETID
    1470 000081f0 0000abd0'         .LONG   BCOL2PST
    1471 00008210     0be7          .WORD   BEOID|DYNAID
    1472 00008220 0000abd0'         .LONG   BCOL2PST
    1473 00008240     0be4          .WORD   BEOID|ROCKETID
    1474 00008250 0000abd0'         .LONG   BCOL2PST
    1475 00008270     0be1          .WORD   BEOID|FLAMEID
    1476 00008280 000098d0'         .LONG   BP2COLL1
    1477                    
    1478 000082a0     0c00          .WORD   C1OID|CBODYID
    1479 000082b0 0000a9c0'         .LONG   BCOL2CAR
    1480 000082d0     0c02          .WORD   C1OID|WSHLDID
    1481 000082e0 0000aa90'         .LONG   BCOL2DMP
    1482 00008300     0c03          .WORD   C1OID|TRUNKID
    1483 00008310 0000aa90'         .LONG   BCOL2DMP
    1484                    
    1485 00008330     0c20          .WORD   CAR3OID|CBODYID
    1486 00008340 0000a9c0'         .LONG   BCOL2CAR
    1487 00008360     0c22          .WORD   CAR3OID|WSHLDID
    1488 00008370 0000aa90'         .LONG   BCOL2DMP
    1489                    
    1490 00008390     0c50          .WORD   INTR1OID|CBODYID
    1491 000083a0 0000a9c0'         .LONG   BCOL2CAR
    1492 000083c0     0c52          .WORD   INTR1OID|WSHLDID
    1493 000083d0 0000aa90'         .LONG   BCOL2DMP
    1494 000083f0     0c53          .WORD   INTR1OID|TRUNKID
    1495 00008400 0000aa90'         .LONG   BCOL2DMP
    1496                    
    1497 00008420     0c30          .WORD   TRAN1OID|CBODYID
    1498 00008430 0000a9c0'         .LONG   BCOL2CAR
    1499 00008450     0c32          .WORD   TRAN1OID|WSHLDID
    1500 00008460 0000aa90'         .LONG   BCOL2DMP
    1501 00008480     0c33          .WORD   TRAN1OID|TRUNKID
    1502 00008490 0000aa90'         .LONG   BCOL2DMP
    1503                    
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   35

    1504 000084b0     0c40          .WORD   TRAN2OID|CBODYID
    1505 000084c0 0000a9c0'         .LONG   BCOL2CAR
    1506 000084e0     0c42          .WORD   TRAN2OID|WSHLDID
    1507 000084f0 0000aa90'         .LONG   BCOL2DMP
    1508 00008510     0c43          .WORD   TRAN2OID|TRUNKID
    1509 00008520 0000aa90'         .LONG   BCOL2DMP
    1510                    
    1511 00008540     0c70          .WORD   CSTR1OID|CBODYID
    1512 00008550 0000a9c0'         .LONG   BCOL2CAR
    1513 00008570     0c72          .WORD   CSTR1OID|WSHLDID
    1514 00008580 0000aa90'         .LONG   BCOL2DMP
    1515 000085a0     0c73          .WORD   CSTR1OID|TRUNKID
    1516 000085b0 0000aa90'         .LONG   BCOL2DMP
    1517                    
    1518                    ****    .WORD   0
    1519                    ****    .LONG   BP2COLL1
    1520 000085d0     0000          .WORD   0
    1521 000085e0 00009c00'         .LONG   GLASSTST2
    1522                    *
    1523                    *ENEMY ROCKET COLLISIONS
    1524 00008600           RCOLL
    1525 00008600     0c00          .WORD   C1OID|CBODYID
    1526 00008610 0000ac70'         .LONG   RCOLCAR
    1527 00008630     0c03          .WORD   C1OID|TRUNKID
    1528 00008640 0000ac70'         .LONG   RCOLCAR
    1529 00008660     0c10          .WORD   CAR2OID|CBODYID
    1530 00008670 0000ac70'         .LONG   RCOLCAR
    1531 00008690     0c20          .WORD   CAR3OID|CBODYID
    1532 000086a0 0000ac70'         .LONG   RCOLCAR
    1533 000086c0     0c30          .WORD   TRAN1OID|CBODYID
    1534 000086d0 0000ac70'         .LONG   RCOLCAR
    1535 000086f0     0c40          .WORD   TRAN2OID|CBODYID
    1536 00008700 0000ac70'         .LONG   RCOLCAR
    1537 00008720     0c70          .WORD   CSTR1OID|CBODYID
    1538 00008730 0000ac70'         .LONG   RCOLCAR
    1539 00008750     0c50          .WORD   INTR1OID|CBODYID
    1540 00008760 0000ac70'         .LONG   RCOLCAR
    1541 00008780     0c02          .WORD   C1OID|WSHLDID
    1542 00008790 00000000!         .LONG   DUMRTSG
    1543 000087b0     0c12          .WORD   CAR2OID|WSHLDID
    1544 000087c0 00000000!         .LONG   DUMRTSG
    1545 000087e0     0c32          .WORD   TRAN1OID|WSHLDID
    1546 000087f0 00000000!         .LONG   DUMRTSG
    1547 00008810     0c42          .WORD   TRAN2OID|WSHLDID
    1548 00008820 00000000!         .LONG   DUMRTSG
    1549 00008840     0c72          .WORD   CSTR1OID|WSHLDID
    1550 00008850 00000000!         .LONG   DUMRTSG
    1551 00008870     0c52          .WORD   INTR1OID|WSHLDID
    1552 00008880 00000000!         .LONG   DUMRTSG
    1553 000088a0     0c04          .WORD   C1OID|FTIREID
    1554 000088b0 00000000!         .LONG   DUMRTSG
    1555 000088d0     0c14          .WORD   CAR2OID|FTIREID
    1556 000088e0 00000000!         .LONG   DUMRTSG
    1557 00008900     0c34          .WORD   TRAN1OID|FTIREID
    1558 00008910 00000000!         .LONG   DUMRTSG
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   36

    1559 00008930     0c44          .WORD   TRAN2OID|FTIREID
    1560 00008940 00000000!         .LONG   DUMRTSG
    1561 00008960     0c74          .WORD   CSTR1OID|FTIREID
    1562 00008970 00000000!         .LONG   DUMRTSG
    1563 00008990     0c54          .WORD   INTR1OID|FTIREID
    1564 000089a0 00000000!         .LONG   DUMRTSG
    1565 000089c0     0c05          .WORD   C1OID|RTIREID
    1566 000089d0 00000000!         .LONG   DUMRTSG
    1567 000089f0     0c15          .WORD   CAR2OID|RTIREID
    1568 00008a00 00000000!         .LONG   DUMRTSG
    1569 00008a20     0c35          .WORD   TRAN1OID|RTIREID
    1570 00008a30 00000000!         .LONG   DUMRTSG
    1571 00008a50     0c45          .WORD   TRAN2OID|RTIREID
    1572 00008a60 00000000!         .LONG   DUMRTSG
    1573 00008a80     0c75          .WORD   CSTR1OID|RTIREID
    1574 00008a90 00000000!         .LONG   DUMRTSG
    1575 00008ab0     0c55          .WORD   INTR1OID|RTIREID
    1576 00008ac0 00000000!         .LONG   DUMRTSG
    1577 00008ae0     0be0          .WORD   BEOID|BULLETID
    1578 00008af0 00000000!         .LONG   DUMRTSG
    1579 00008b10     0be5          .WORD   BEOID|HYPOD
    1580 00008b20 00000000!         .LONG   DUMRTSG
    1581 00008b40     0be1          .WORD   BEOID|FLAMEID
    1582 00008b50 00000000!         .LONG   DUMRTSG
    1583 00008b70     0be2          .WORD   BEOID|EXPLODID
    1584 00008b80 00000000!         .LONG   DUMRTSG
    1585                    
    1586 00008ba0     0800          .WORD   WEEDOID
    1587 00008bb0 00000000!         .LONG   DUMRTSG
    1588                    
    1589 00008bd0     0000          .WORD   0
    1590 00008be0 0000ae80'         .LONG   RCOLL1
    1591                    
    1592                    *
    1593                    *PLAYER 1 ROCKET COLLISIONS
    1594 00008c00           P1RCOLL
    1595 00008c00     1000          .WORD   P1OID
    1596 00008c10 00000000!         .LONG   DUMRTSG
    1597 00008c30     0c00          .WORD   C1OID|CBODYID
    1598 00008c40 0000ac70'         .LONG   RCOLCAR
    1599 00008c60     0c03          .WORD   C1OID|TRUNKID
    1600 00008c70 0000ac70'         .LONG   RCOLCAR
    1601 00008c90     0c10          .WORD   CAR2OID|CBODYID
    1602 00008ca0 0000ac70'         .LONG   RCOLCAR
    1603 00008cc0     0c20          .WORD   CAR3OID|CBODYID
    1604 00008cd0 0000ac70'         .LONG   RCOLCAR
    1605 00008cf0     0c30          .WORD   TRAN1OID|CBODYID
    1606 00008d00 0000ac70'         .LONG   RCOLCAR
    1607 00008d20     0c40          .WORD   TRAN2OID|CBODYID
    1608 00008d30 0000ac70'         .LONG   RCOLCAR
    1609 00008d50     0c70          .WORD   CSTR1OID|CBODYID
    1610 00008d60 0000ac70'         .LONG   RCOLCAR
    1611 00008d80     0c50          .WORD   INTR1OID|CBODYID
    1612 00008d90 0000ac70'         .LONG   RCOLCAR
    1613 00008db0     0c02          .WORD   C1OID|WSHLDID
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   37

    1614 00008dc0 00000000!         .LONG   DUMRTSG
    1615 00008de0     0c12          .WORD   CAR2OID|WSHLDID
    1616 00008df0 00000000!         .LONG   DUMRTSG
    1617 00008e10     0c32          .WORD   TRAN1OID|WSHLDID
    1618 00008e20 00000000!         .LONG   DUMRTSG
    1619 00008e40     0c42          .WORD   TRAN2OID|WSHLDID
    1620 00008e50 00000000!         .LONG   DUMRTSG
    1621 00008e70     0c72          .WORD   CSTR1OID|WSHLDID
    1622 00008e80 00000000!         .LONG   DUMRTSG
    1623 00008ea0     0c52          .WORD   INTR1OID|WSHLDID
    1624 00008eb0 00000000!         .LONG   DUMRTSG
    1625 00008ed0     0c04          .WORD   C1OID|FTIREID
    1626 00008ee0 00000000!         .LONG   DUMRTSG
    1627 00008f00     0c14          .WORD   CAR2OID|FTIREID
    1628 00008f10 00000000!         .LONG   DUMRTSG
    1629 00008f30     0c34          .WORD   TRAN1OID|FTIREID
    1630 00008f40 00000000!         .LONG   DUMRTSG
    1631 00008f60     0c44          .WORD   TRAN2OID|FTIREID
    1632 00008f70 00000000!         .LONG   DUMRTSG
    1633 00008f90     0c74          .WORD   CSTR1OID|FTIREID
    1634 00008fa0 00000000!         .LONG   DUMRTSG
    1635 00008fc0     0c54          .WORD   INTR1OID|FTIREID
    1636 00008fd0 00000000!         .LONG   DUMRTSG
    1637 00008ff0     0c05          .WORD   C1OID|RTIREID
    1638 00009000 00000000!         .LONG   DUMRTSG
    1639 00009020     0c15          .WORD   CAR2OID|RTIREID
    1640 00009030 00000000!         .LONG   DUMRTSG
    1641 00009050     0c35          .WORD   TRAN1OID|RTIREID
    1642 00009060 00000000!         .LONG   DUMRTSG
    1643 00009080     0c45          .WORD   TRAN2OID|RTIREID
    1644 00009090 00000000!         .LONG   DUMRTSG
    1645 000090b0     0c75          .WORD   CSTR1OID|RTIREID
    1646 000090c0 00000000!         .LONG   DUMRTSG
    1647 000090e0     0c55          .WORD   INTR1OID|RTIREID
    1648 000090f0 00000000!         .LONG   DUMRTSG
    1649 00009110     0be0          .WORD   BEOID|BULLETID
    1650 00009120 00000000!         .LONG   DUMRTSG
    1651 00009140     0be5          .WORD   BEOID|HYPOD
    1652 00009150 00000000!         .LONG   DUMRTSG
    1653 00009170     0be1          .WORD   BEOID|FLAMEID
    1654 00009180 00000000!         .LONG   DUMRTSG
    1655 000091a0     0be2          .WORD   BEOID|EXPLODID
    1656 000091b0 00000000!         .LONG   DUMRTSG
    1657                    
    1658 000091d0     0800          .WORD   WEEDOID
    1659 000091e0 00000000!         .LONG   DUMRTSG
    1660                    
    1661 00009200     0000          .WORD   0
    1662 00009210 0000ae80'         .LONG   RCOLL1
    1663                    
    1664                    *
    1665                    *PLAYER 2 ROCKET COLLISIONS
    1666 00009230           P2RCOLL
    1667 00009230     2000          .WORD   P2OID
    1668 00009240 00000000!         .LONG   DUMRTSG
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   38

    1669 00009260     0c00          .WORD   C1OID|CBODYID
    1670 00009270 0000ac70'         .LONG   RCOLCAR
    1671 00009290     0c03          .WORD   C1OID|TRUNKID
    1672 000092a0 0000ac70'         .LONG   RCOLCAR
    1673 000092c0     0c10          .WORD   CAR2OID|CBODYID
    1674 000092d0 0000ac70'         .LONG   RCOLCAR
    1675 000092f0     0c20          .WORD   CAR3OID|CBODYID
    1676 00009300 0000ac70'         .LONG   RCOLCAR
    1677 00009320     0c30          .WORD   TRAN1OID|CBODYID
    1678 00009330 0000ac70'         .LONG   RCOLCAR
    1679 00009350     0c40          .WORD   TRAN2OID|CBODYID
    1680 00009360 0000ac70'         .LONG   RCOLCAR
    1681 00009380     0c70          .WORD   CSTR1OID|CBODYID
    1682 00009390 0000ac70'         .LONG   RCOLCAR
    1683 000093b0     0c50          .WORD   INTR1OID|CBODYID
    1684 000093c0 0000ac70'         .LONG   RCOLCAR
    1685 000093e0     0c02          .WORD   C1OID|WSHLDID
    1686 000093f0 00000000!         .LONG   DUMRTSG
    1687 00009410     0c12          .WORD   CAR2OID|WSHLDID
    1688 00009420 00000000!         .LONG   DUMRTSG
    1689 00009440     0c32          .WORD   TRAN1OID|WSHLDID
    1690 00009450 00000000!         .LONG   DUMRTSG
    1691 00009470     0c42          .WORD   TRAN2OID|WSHLDID
    1692 00009480 00000000!         .LONG   DUMRTSG
    1693 000094a0     0c72          .WORD   CSTR1OID|WSHLDID
    1694 000094b0 00000000!         .LONG   DUMRTSG
    1695 000094d0     0c52          .WORD   INTR1OID|WSHLDID
    1696 000094e0 00000000!         .LONG   DUMRTSG
    1697 00009500     0c04          .WORD   C1OID|FTIREID
    1698 00009510 00000000!         .LONG   DUMRTSG
    1699 00009530     0c14          .WORD   CAR2OID|FTIREID
    1700 00009540 00000000!         .LONG   DUMRTSG
    1701 00009560     0c34          .WORD   TRAN1OID|FTIREID
    1702 00009570 00000000!         .LONG   DUMRTSG
    1703 00009590     0c44          .WORD   TRAN2OID|FTIREID
    1704 000095a0 00000000!         .LONG   DUMRTSG
    1705 000095c0     0c74          .WORD   CSTR1OID|FTIREID
    1706 000095d0 00000000!         .LONG   DUMRTSG
    1707 000095f0     0c54          .WORD   INTR1OID|FTIREID
    1708 00009600 00000000!         .LONG   DUMRTSG
    1709 00009620     0c05          .WORD   C1OID|RTIREID
    1710 00009630 00000000!         .LONG   DUMRTSG
    1711 00009650     0c15          .WORD   CAR2OID|RTIREID
    1712 00009660 00000000!         .LONG   DUMRTSG
    1713 00009680     0c35          .WORD   TRAN1OID|RTIREID
    1714 00009690 00000000!         .LONG   DUMRTSG
    1715 000096b0     0c45          .WORD   TRAN2OID|RTIREID
    1716 000096c0 00000000!         .LONG   DUMRTSG
    1717 000096e0     0c75          .WORD   CSTR1OID|RTIREID
    1718 000096f0 00000000!         .LONG   DUMRTSG
    1719 00009710     0c55          .WORD   INTR1OID|RTIREID
    1720 00009720 00000000!         .LONG   DUMRTSG
    1721 00009740     0be0          .WORD   BEOID|BULLETID
    1722 00009750 00000000!         .LONG   DUMRTSG
    1723 00009770     0be5          .WORD   BEOID|HYPOD
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   39

    1724 00009780 00000000!         .LONG   DUMRTSG
    1725 000097a0     0be1          .WORD   BEOID|FLAMEID
    1726 000097b0 00000000!         .LONG   DUMRTSG
    1727 000097d0     0be2          .WORD   BEOID|EXPLODID
    1728 000097e0 00000000!         .LONG   DUMRTSG
    1729                    
    1730 00009800     0800          .WORD   WEEDOID
    1731 00009810 00000000!         .LONG   DUMRTSG
    1732                    
    1733 00009830     0000          .WORD   0
    1734 00009840 0000ae80'         .LONG   RCOLL1
    1735                    
    1736 00009860     0000  REXCOLL .WORD   0
    1737 00009870 00000000!         .LONG   DUMRTSG
    1738                    
    1739                    *PLAYER 1 BULLET AS OBJECT 1 COLLISION ROUTINE
    1740                    *A0=OBLOCK PTR OF BULLET
    1741 00009890           BP1COLL1
    1742 00009890     09e2          MOVI    P1DATA,A2
         000098a0 00000000! 
    1743 000098c0     c003          JRUC    BPXCOLL1
    1744                    *PLAYER 2 BULLET AS OBJECT 1 COLLISION ROUTINE
    1745                    *A0=OBLOCK PTR OF BULLET
    1746 000098d0           BP2COLL1
    1747 000098d0     09e2          MOVI    P2DATA,A2
         000098e0 00000000! 
    1748 00009900           BPXCOLL1
    1749 00009900     b441          MOVE    *A2(PBULLONS),A1,W
         00009910     0260  
    1750 00009920     1421          DEC     A1
    1751 00009930     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         00009940     0260  
    1752                    *BULLET AS OBJECT 1 COLLISION ROUTINE
    1753                    *A0=OBLOCK PTR OF BULLET
    1754 00009950           BCOLL1
    1755 00009950                   SWAP    A8,A0
    1756 00009980     b700          MOVE    *A8(OPLINK),A0,L
         00009990     01f0  
    1757 000099a0     ca11          JRZ     BCOLLNP                 ;BR = FUCK! NO PROCESS
    1758 000099b0     0d5f          CALLA   GETA10                  ;GET THE SUPPLEMENTAL
         000099c0 00000000! 
    1759 000099e0     4d41          MOVE    A10,A1
    1760 000099f0     0d5f          CALLA   KILL                    ;KILL THE CONTROLLING PROCESS
         00009a00 00000000! 
    1761 00009a20     4d00          MOVE    A8,A0
    1762 00009a30     0d5f          CALLA   DELPAL
         00009a40 00000000! 
    1763 00009a60     0d5f          CALLA   DELSUPP                 ;DELETE FROM THE SUPPLEMENTAL LIST
         00009a70 00000000! 
    1764 00009a90     0d5f          CALLA   DELSOBJ                 ;DELETE THIS OBJECT
         00009aa0 00000000! 
    1765 00009ac0           BULLRET2
    1766 00009ac0           BCOLLNP
    1767 00009ac0     5600          CLR     A0
    1768 00009ad0     1020          INC     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   40

    1769 00009ae0     0960  DUMRTS  RETS
    1770                    
    1771                    **************************************************************************
    1772                    *                                                                        *
    1773                    * GLASSTST - TEST TO SEE IF THE ENEMY BULLET HIT A GLASS OBJECT          *
    1774                    * A0 = ENEMY BULLET                                                      *
    1775                    * A8 = SUSPECT OBJECT                                                    *
    1776                    *                                                                        *
    1777                    **************************************************************************
    1778 00009af0           GLASSTST
    1779 00009af0     b505          MOVE    *A8(OID),A5,W
         00009b00     01a0  
    1780 00009b10     2f85          SRL     4,A5
    1781 00009b20     2485          SLL     4,A5
    1782 00009b30     0b45          CMPI    BGGLASS,A5
         00009b40     f42f  
    1783 00009b50     ca1b          JREQ    BCOLDCAN
    1784 00009b60     c0de          JRUC    BCOLL1
    1785                    *GLASS TEST FOR PLAYER 1 BULLETS
    1786 00009b70           GLASSTST1
    1787 00009b70     b505          MOVE    *A8(OID),A5,W
         00009b80     01a0  
    1788 00009b90     2f85          SRL     4,A5
    1789 00009ba0     2485          SLL     4,A5
    1790 00009bb0     0b45          CMPI    BGGLASS,A5
         00009bc0     f42f  
    1791 00009bd0     ca00          JREQ    BCOL1CAN
         00009be0     00c9  
    1792 00009bf0     c0c9          JRUC    BP1COLL1
    1793                    *GLASS TEST FOR PLAYER 1 BULLETS
    1794 00009c00           GLASSTST2
    1795 00009c00     b505          MOVE    *A8(OID),A5,W
         00009c10     01a0  
    1796 00009c20     2f85          SRL     4,A5
    1797 00009c30     2485          SLL     4,A5
    1798 00009c40     0b45          CMPI    BGGLASS,A5
         00009c50     f42f  
    1799 00009c60     ca00          JREQ    BCOL2CAN
         00009c70     00eb  
    1800 00009c80     c0c4          JRUC    BP2COLL1
    1801                    
    1802                    *
    1803                    *BULLET COLLISION WITH A DING
    1804 00009c90           BCOLDDMP
    1805 00009c90     4c08          MOVE    A0,A8
    1806 00009ca0     09e0          MOVI    DINGDUMP,A0
         00009cb0 00000000! 
    1807 00009cd0     0d5f          CALLA   ONESND
         00009ce0 00000000! 
    1808 00009d00     c010          JRUC    BCOLDING
    1809 00009d10           BCOLDCAN
    1810 00009d10     4c08          MOVE    A0,A8
    1811 00009d20     09e0          MOVI    DINGCANR,A0
         00009d30 00000000! 
    1812 00009d50     0d5f          CALLA   ONESND
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   41

         00009d60 00000000! 
    1813 00009d80     c008          JRUC    BCOLDING
    1814 00009d90           BCOLDPST
    1815 00009d90     4c08          MOVE    A0,A8
    1816 00009da0     09e0          MOVI    DINGPSTR,A0
         00009db0 00000000! 
    1817 00009dd0           BCOLDSID
    1818 00009dd0     0d5f          CALLA   ONESND
         00009de0 00000000! 
    1819 00009e00     0300          JRUC    BCOLDING
    1820                    *
    1821                    *BCOLDING - HANDLE BULLET COLLISION BY TURNING IT INTO THE DING FRAMES
    1822                    *A8 = PTR TO BULLET
    1823 00009e10           BCOLDING
    1824 00009e10     b700          MOVE    *A8(OPLINK),A0,L
         00009e20     01f0  
    1825 00009e30     ca13          JRZ     BCOLDNP                 ;NO PROC
    1826 00009e40     0d5f          CALLA   GETA10                  ;GET THE SUPPLEMENTAL
         00009e50 00000000! 
    1827 00009e70     4d41          MOVE    A10,A1
    1828 00009e80     0d5f          CALLA   KILL                    ;KILL THE CONTROLLING PROCESS
         00009e90 00000000! 
    1829 00009eb0     4d00          MOVE    A8,A0
    1830 00009ec0     0d5f          CALLA   DELSUPP                 ;DELETE FROM THE SUPPLEMENTAL LIST
         00009ed0 00000000! 
    1831 00009ef0                   CREATE  INDPID,DINGANI          ;MAKE THE DING PROC
    1832 00009f70           BCOLDNP
    1833 00009f70     5600          CLR     A0
    1834 00009f80     1020          INC     A0
    1835 00009f90     0960          RETS
    1836                    
    1837                    **************************************************************************
    1838                    *                                                                        *
    1839                    * DINGANI - TURN AN OBJECT INTO A DING, IT PLACES IT ON THE RIGHT        *
    1840                    *         CENTER EDGE OF THE OLD OBJECT.                                 *
    1841                    * A8 = PTR TO OLD OBJECT                                                 *
    1842                    *                                                                        *
    1843                    **************************************************************************
    1844 00009fa0           DINGANI
    1845 00009fa0     4d00          MOVE    A8,A0
    1846 00009fb0     0d5f          CALLA   PSTOP
         00009fc0 00000000! 
    1847 00009fe0     0d5f          CALLA   DELSHAD
         00009ff0 00000000! 
    1848 0000a010     09c4          MOVI    EFF0OID,A4
         0000a020     0ff0  
    1849 0000a030     b080          MOVE    A4,*A0(OID),W
         0000a040     01a0  
    1850 0000a050     b404          MOVE    *A0(OFLAGS),A4,W
         0000a060     0100  
    1851 0000a070     b602          MOVE    *A0(ODMAXY),A2,L
         0000a080     0210  
    1852 0000a090     b401          MOVE    *A0(OSIZEY),A1,W
         0000a0a0     0150  
    1853 0000a0b0     2fe1          SRL     1,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   42

    1854 0000a0c0     2601          SLL     16,A1
    1855 0000a0d0     5663          CLR     A3
    1856 0000a0e0     1f64          BTST    B_FLIPH,A4
    1857 0000a0f0     cb02          JRNE    DINGANI1                ;BR = LEFT EDGE IF FLIPPED
    1858 0000a100     b403          MOVE    *A0(OSIZEX),A3,W
         0000a110     0140  
    1859 0000a120           DINGANI1
    1860 0000a120     ee23          MOVY    A1,A3
    1861 0000a130     e062          ADDXY   A3,A2
    1862 0000a140     ec43          MOVX    A2,A3
    1863 0000a150     2603          SLL     16,A3
    1864 0000a160     09e9          MOVI    BDINGTAB,A9
         0000a170 0000b820' 
    1865 0000a190     bb20          MOVE    *A9(0),*A0(OIMG),L
         0000a1a0     0000  
         0000a1b0     0180  
    1866 0000a1c0     0d5f          CALLA   GANISAG                 ;ADJUST DING POSITION                   
         0000a1d0 00000000! 
    1867 0000a1f0     1821          MOVK    1,A1
    1868 0000a200                   JSRP    FRANIM                  ;ANIMATE AND DIE
    1869 0000a270     4d00          MOVE    A8,A0
    1870 0000a280     0d5f          CALLA   DELPAL
         0000a290 00000000! 
    1871 0000a2b0     0d5f          CALLA   DELSOBJ
         0000a2c0 00000000! 
    1872 0000a2e0                   DIE
    1873                    
    1874 0000a310           DING45
    1875 0000a310     4d00          MOVE    A8,A0
    1876 0000a320     0d5f          CALLA   PSTOP
         0000a330 00000000! 
    1877 0000a350     0d5f          CALLA   DELSHAD
         0000a360 00000000! 
    1878 0000a380     09c4          MOVI    EFF0OID,A4
         0000a390     0ff0  
    1879 0000a3a0     b080          MOVE    A4,*A0(OID),W
         0000a3b0     01a0  
    1880 0000a3c0     b504          MOVE    *A8(OFLAGS),A4,W
         0000a3d0     0100  
    1881 0000a3e0     09e1          MOVI    DING45A,A1
         0000a3f0 00000000! 
    1882 0000a410     0d5f          CALLA   ANI                     ;ANIMATE TO THE NEW IMAGE
         0000a420 00000000! 
    1883 0000a440     b702          MOVE    *A8(OYVAL),A2,L
         0000a450     00a0  
    1884 0000a460     0d02          SUBI    [42,0],A2               ;ADJUST FOR BULLET FLASH
         0000a470 ffd5ffff  
    1885 0000a490     b248          MOVE    A2,*A8(OYVAL),L
         0000a4a0     00a0  
    1886 0000a4b0                   SLEEP   3
    1887 0000a4f0     4d00          MOVE    A8,A0
    1888 0000a500     0d5f          CALLA   PULLOBJ
         0000a510 00000000! 
    1889 0000a530                   SLEEP   3
    1890 0000a570     09e1          MOVI    DING45B,A1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   43

         0000a580 00000000! 
    1891 0000a5a0     b504          MOVE    *A8(OFLAGS),A4,W
         0000a5b0     0100  
    1892 0000a5c0     0d5f          CALLA   ANI
         0000a5d0 00000000! 
    1893 0000a5f0     4d00          MOVE    A8,A0
    1894 0000a600     0d5f          CALLA   INSOBJ
         0000a610 00000000! 
    1895 0000a630                   SLEEP   3
    1896 0000a670     4d00          MOVE    A8,A0
    1897 0000a680     0d5f          CALLA   DELPAL
         0000a690 00000000! 
    1898 0000a6b0     0d5f          CALLA   DELSOBJ
         0000a6c0 00000000! 
    1899 0000a6e0                   DIE
    1900                    *
    1901                    *POSSIBLE PLAYER BULLET COLLISION WITH PLAYERS CAR
    1902 0000a710           BCOL1CAR
    1903 0000a710     05a2          MOVE    @P1DATA+PIRQFLAG,A2,W
         0000a720 00000080! 
    1904 0000a740     0b82          ANDI    MPASSEN|MDRIVER,A2
         0000a750 ffffe7ff  
    1905 0000a770     ca06          JREQ    BCOL1DMP                ;BR = NOT IN A CAR ANYHOW       
    1906 0000a780     07a2          MOVE    @PLAYCAR,A2,L
         0000a790 00000000! 
    1907 0000a7b0     4848          CMP     A2,A8
    1908 0000a7c0     cb01          JRNE    BCOL1DMP                ;BR = WRONG CAR
    1909 0000a7d0     0960          RETS
    1910                            
    1911                    *
    1912                    *PLAYER ONE BULLET COLLISIONS WITH NOISY BACKGROUND OBJECTS
    1913 0000a7e0           BCOL1DMP
    1914 0000a7e0     09e2          MOVI    P1DATA,A2
         0000a7f0 00000000! 
    1915 0000a810     b441          MOVE    *A2(PBULLONS),A1,W
         0000a820     0260  
    1916 0000a830     1421          DEC     A1
    1917 0000a840     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000a850     0260  
    1918 0000a860     c000          JRUC    BCOLDDMP
         0000a870     ff41  
    1919 0000a880           BCOL1CAN
    1920 0000a880     09e2          MOVI    P1DATA,A2
         0000a890 00000000! 
    1921 0000a8b0     b441          MOVE    *A2(PBULLONS),A1,W
         0000a8c0     0260  
    1922 0000a8d0     1421          DEC     A1
    1923 0000a8e0     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000a8f0     0260  
    1924 0000a900     c000          JRUC    BCOLDCAN
         0000a910     ff3f  
    1925 0000a920           BCOL1PST
    1926 0000a920     09e2          MOVI    P1DATA,A2
         0000a930 00000000! 
    1927 0000a950     b441          MOVE    *A2(PBULLONS),A1,W
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   44

         0000a960     0260  
    1928 0000a970     1421          DEC     A1
    1929 0000a980     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000a990     0260  
    1930 0000a9a0     c000          JRUC    BCOLDPST
         0000a9b0     ff3d  
    1931                    
    1932                    *
    1933                    *POSSIBLE PLAYER BULLET COLLISION WITH PLAYERS CAR
    1934 0000a9c0           BCOL2CAR
    1935 0000a9c0     05a2          MOVE    @P2DATA+PIRQFLAG,A2,W
         0000a9d0 00000080! 
    1936 0000a9f0     0b82          ANDI    MPASSEN|MDRIVER,A2
         0000aa00 ffffe7ff  
    1937 0000aa20     ca06          JREQ    BCOL2DMP                ;BR = NOT IN A CAR ANYHOW       
    1938 0000aa30     07a2          MOVE    @PLAYCAR,A2,L
         0000aa40 00000000! 
    1939 0000aa60     4848          CMP     A2,A8
    1940 0000aa70     cb01          JRNE    BCOL2DMP                ;BR = WRONG CAR
    1941 0000aa80     0960          RETS
    1942                    
    1943                    *
    1944                    *PLAYER TWO BULLET COLLISIONS WITH NOISY BACKGROUND OBJECTS
    1945 0000aa90           BCOL2DMP
    1946 0000aa90     09e2          MOVI    P2DATA,A2
         0000aaa0 00000000! 
    1947 0000aac0     b441          MOVE    *A2(PBULLONS),A1,W
         0000aad0     0260  
    1948 0000aae0     1421          DEC     A1
    1949 0000aaf0     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000ab00     0260  
    1950 0000ab10     c000          JRUC    BCOLDDMP
         0000ab20     ff16  
    1951 0000ab30           BCOL2CAN
    1952 0000ab30     09e2          MOVI    P2DATA,A2
         0000ab40 00000000! 
    1953 0000ab60     b441          MOVE    *A2(PBULLONS),A1,W
         0000ab70     0260  
    1954 0000ab80     1421          DEC     A1
    1955 0000ab90     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000aba0     0260  
    1956 0000abb0     c000          JRUC    BCOLDCAN
         0000abc0     ff14  
    1957 0000abd0           BCOL2PST
    1958 0000abd0     09e2          MOVI    P2DATA,A2
         0000abe0 00000000! 
    1959 0000ac00     b441          MOVE    *A2(PBULLONS),A1,W
         0000ac10     0260  
    1960 0000ac20     1421          DEC     A1
    1961 0000ac30     b022          MOVE    A1,*A2(PBULLONS),W      ;DEC ON SCREEN COUNT
         0000ac40     0260  
    1962 0000ac50     c000          JRUC    BCOLDPST
         0000ac60     ff12  
    1963                    *
    1964                    *ROCKET BOMB CAR COLLISION
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   45

    1965                    *A8 = PTR TO THING THAT GOT HIT
    1966                    *A0 = PTR TO ROCKET
    1967 0000ac70           RCOLCAR 
    1968 0000ac70     b401          MOVE    *A0(OID),A1,W
         0000ac80     01a0  
    1969 0000ac90     2f81          SRL     4,A1
    1970 0000aca0     2481          SLL     4,A1
    1971 0000acb0     0b41          CMPI    B1OID,A1
         0000acc0     f4ef  
    1972 0000acd0     cb0d          JRNE    RCOLCAR2
    1973 0000ace0     05a2          MOVE    @P1DATA+PIRQFLAG,A2,W
         0000acf0 00000080! 
    1974 0000ad10           RCOLCAR1        
    1975 0000ad10     0b82          ANDI    MDRIVER|MPASSEN,A2
         0000ad20 ffffe7ff  
    1976 0000ad40     ca0d          JREQ    RCOLCAR3
    1977 0000ad50     07a2          MOVE    @PLAYCAR,A2,L
         0000ad60 00000000! 
    1978 0000ad80     4848          CMP     A2,A8
    1979 0000ad90     cb08          JRNE    RCOLCAR3
    1980 0000ada0     0960          RETS
    1981 0000adb0           RCOLCAR2
    1982 0000adb0     0b41          CMPI    B2OID,A1
         0000adc0     f4df  
    1983 0000add0     cb04          JRNE    RCOLCAR3
    1984 0000ade0     05a2          MOVE    @P2DATA+PIRQFLAG,A2,W
         0000adf0 00000080! 
    1985 0000ae10     c0ef          JRUC    RCOLCAR1
    1986 0000ae20           RCOLCAR3
    1987 0000ae20     09e7          MOVI    CEXPLODE,A7             ;BIG CAR EXPLOSION
         0000ae30 00004350' 
    1988 0000ae50     09c1          MOVI    CEXPID,A1
         0000ae60     0310  
    1989 0000ae70     c005          JRUC    RCOLL3
    1990                    *
    1991                    *ROCKET BOMB NORMAL COLLISION
    1992                    *A8 = PTR TO THING THAT GOT HIT
    1993                    *A0 = PTR TO ROCKET
    1994 0000ae80           RCOLL1 
    1995 0000ae80     09e7          MOVI    REXPLODE,A7             ;NORMAL EXPLOSION
         0000ae90 00003430' 
    1996 0000aeb0     09c1          MOVI    REXPID,A1               ;EXPROSION PROCESS I.D. 
         0000aec0     0300  
    1997 0000aed0           RCOLL3
    1998 0000aed0                   SWAP    A0,A8
    1999 0000af00     b502          MOVE    *A8(OZPOS),A2,W         ;ROCKET Z
         0000af10     00d0  
    2000 0000af20     b509          MOVE    *A8(OFLAGS),A9,W
         0000af30     0100  
    2001 0000af40     2609          SLL     16,A9
    2002 0000af50     ec49          MOVX    A2,A9                   ;A9 = OFLAGS:OZPOS
    2003 0000af60     b703          MOVE    *A8(OXVAL),A3,L
         0000af70     0080  
    2004 0000af80     b702          MOVE    *A8(OYVAL),A2,L
         0000af90     00a0  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   46

    2005                    
    2006 0000afa0     b50a          MOVE    *A8(OID),A10,W          ;A10 = ROCKET I.D.
         0000afb0     01a0  
    2007 0000afc0     ee4b          MOVY    A2,A11
    2008 0000afd0     2e03          SRL     16,A3
    2009 0000afe0     ec6b          MOVX    A3,A11                  ;PASS ROCKET UL [Y,X] 
    2010 0000aff0     4d02          MOVE    A8,A2                   ;STORE THE ROCKET PTR
    2011 0000b000     4c08          MOVE    A0,A8                   ;PASS THE OBJECT THAT GOT HIT
    2012 0000b010     0d5f          CALLA   GETPRC                  ;CREATE THE ROCKET EXPLOSION
         0000b020 00000000! 
    2013                    
    2014 0000b040     4c48          MOVE    A2,A8                   ;GET THE ROCKET PTR BACK
    2015 0000b050     b502          MOVE    *A8(OFLAGS),A2,W        ;FLAGS PLEASE
         0000b060     0100  
    2016 0000b070     4d23          MOVE    A9,A3                   ;Z POSITION OF SMOKE TRAIL SHOULD
    2017 0000b080     1443          SUBK    2,A3                    ;BE LESS THAN THAT OF THE EXPLOSION.
    2018                    
    2019 0000b090     b700          MOVE    *A8(OPLINK),A0,L
         0000b0a0     01f0  
    2020 0000b0b0     ca25          JRZ     RCOLLNP
    2021 0000b0c0     0d5f          CALLA   GETA11          ;GET THE DATA BLOCK PTR
         0000b0d0 00000000! 
    2022                    
    2023 0000b0f0     4d62          MOVE    A11,A2
    2024 0000b100     ca05          JREQ    RCOLL4
    2025 0000b110     b441          MOVE    *A2(PROCKONS),A1,W
         0000b120     0290  
    2026 0000b130     1421          DEC     A1
    2027 0000b140     b022          MOVE    A1,*A2(PROCKONS),W      ;DECREMENT THE # ON SCREEN
         0000b150     0290  
    2028 0000b160           RCOLL4
    2029 0000b160     0d5f          CALLA   GETA9           ;GET THE POINTER TO THE SMOKE TRAIL PROC.
         0000b170 00000000! 
    2030 0000b190     ca14          JRZ     RTRAILX         ;NO TRAILER PROC.
    2031 0000b1a0     4d20          MOVE    A9,A0           ;HERE TO PUT THE GRABDA
    2032 0000b1b0     0d5f          CALLA   GETA10          ;PTR TO ONE TRAIL PART.
         0000b1c0 00000000! 
    2033 0000b1e0     ca0f          JREQ    RTRAILX         ;SKIP TOTALLY, NO TRAIL WAS CREATED
    2034 0000b1f0     0d5f          CALLA   GETA11          ;PTR TO 2ND TRAIL PART, IF IT EXISTS
         0000b200 00000000! 
    2035 0000b220     b06a          MOVE    A3,*A10(OZPOS),W
         0000b230     00d0  
    2036 0000b240     b06b          MOVE    A3,*A11(OZPOS),W        ;TRAIL Z'S
         0000b250     00d0  
    2037 0000b260                   CREATE  0EFFH,SHRNKTRL          ;CALL THE TRAIL SHRINKER
    2038 0000b2e0           RTRAILX
    2039 0000b2e0     4d00          MOVE    A8,A0           ;SWAP ROCKET PTR FOR NEW COLLISION SHIT
    2040 0000b2f0     c000          JRUC    BCOLL1          ;AND CLEAN UP
         0000b300     fe64  
    2041 0000b310           RCOLLNP
    2042 0000b310     4d00          MOVE    A8,A0
    2043 0000b320     0d5f          CALLA   DELSOBJ
         0000b330 00000000! 
    2044 0000b350     5600          CLR     A0
    2045 0000b360     1020          INC     A0
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   47

    2046 0000b370     0960          RETS
    2047                    
    2048 0000b380       4e     .STRING "NARC COPYRIGHT 1988, WILLIAMS ELECTRONICS GAMES, INC. - EPJ & GNP"
         0000b388       41  
         0000b390       52  
         0000b398       43  
         0000b3a0       20  
         0000b3a8       43  
         0000b3b0       4f  
         0000b3b8       50  
         0000b3c0       59  
         0000b3c8       52  
         0000b3d0       49  
         0000b3d8       47  
         0000b3e0       48  
         0000b3e8       54  
         0000b3f0       20  
         0000b3f8       31  
         0000b400       39  
         0000b408       38  
         0000b410       38  
         0000b418       2c  
         0000b420       20  
         0000b428       57  
         0000b430       49  
         0000b438       4c  
         0000b440       4c  
         0000b448       49  
         0000b450       41  
         0000b458       4d  
         0000b460       53  
         0000b468       20  
         0000b470       45  
         0000b478       4c  
         0000b480       45  
         0000b488       43  
         0000b490       54  
         0000b498       52  
         0000b4a0       4f  
         0000b4a8       4e  
         0000b4b0       49  
         0000b4b8       43  
         0000b4c0       53  
         0000b4c8       20  
         0000b4d0       47  
         0000b4d8       41  
         0000b4e0       4d  
         0000b4e8       45  
         0000b4f0       53  
         0000b4f8       2c  
         0000b500       20  
         0000b508       49  
         0000b510       4e  
         0000b518       43  
         0000b520       2e  
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   48

         0000b528       20  
         0000b530       2d  
         0000b538       20  
         0000b540       45  
         0000b548       50  
         0000b550       4a  
         0000b558       20  
         0000b560       26  
         0000b568       20  
         0000b570       47  
         0000b578       4e  
         0000b580       50  
    2049 0000b590                   .EVEN
    2050                    
    2051                    *
    2052                    *MISCELLANEOUS ANIMATION SCRIPTS
    2053                    *
    2054                    
    2055                    *ROCKET ANIMATION TABLE
    2056 0000b590 00000000! ROCKET  .LONG   ROCKET1
    2057 0000b5b0     0004          .WORD   4
    2058 0000b5c0 00000000!         .LONG   ROCKET2
    2059 0000b5e0     0004          .WORD   4
    2060 0000b5f0 00000000!         .LONG   ROCKET3
    2061 0000b610     0004          .WORD   4
    2062 0000b620           ROCKIMM
    2063 0000b620 00000000!         .LONG   ROCKET4
    2064 0000b640     0001          .WORD   1
    2065 0000b650 00000000          .LONG   0
    2066                    
    2067                    *ROCKET LAUNCH PUFFY THING
    2068 0000b670 00000000! PUFFTAB .LONG   PUF1
    2069 0000b690     0003          .WORD   3
    2070 0000b6a0 00000000!         .LONG   PUF2
    2071 0000b6c0     0003          .WORD   3
    2072 0000b6d0 00000000!         .LONG   PUF3
    2073 0000b6f0     0004          .WORD   4
    2074 0000b700 00000000!         .LONG   PUF4
    2075 0000b720     0005          .WORD   5
    2076 0000b730 00000000!         .LONG   PUF5
    2077 0000b750     0007          .WORD   7
    2078 0000b760 00000000          .LONG   0
    2079                    
    2080                    *BULLETS
    2081 0000b780           PBULLETF                                        ;PLAYER BULLET
    2082 0000b780 00000000!         .LONG   BULLET
    2083 0000b7a0     0004          .WORD   4
    2084 0000b7b0                   LONGNULL
    2085 0000b7d0           EBULLETF                                        ;ENEMY BULLET
    2086 0000b7d0 00000000!         .LONG   BULLETE
    2087 0000b7f0     0004          .WORD   4
    2088 0000b800                   LONGNULL
    2089                    *BULLET DING
    2090 0000b820           BDINGTAB
    2091 0000b820 00000000!         .LONG   LDING1
TMS340 COFF Macro Assembler Version 6.10     Sat Apr 10 02:18:53 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

 <<< N  A  R  C  -- BULLETS AND OTHER PROJECTILES >>>                PAGE   49

    2092 0000b840     0004          .WORD   4
    2093 0000b850 00000000!         .LONG   LDING2
    2094 0000b870     0004          .WORD   4
    2095 0000b880 00000000!         .LONG   LDING3
    2096 0000b8a0     0004          .WORD   4
    2097 0000b8b0 00000000!         .LONG   LDING4
    2098 0000b8d0     0004          .WORD   4
    2099 0000b8e0 00000000!         .LONG   LDING5
    2100 0000b900     0004          .WORD   4
    2101 0000b910                   LONGNULL
    2102                    
    2103                    *Explosion Animation Table
    2104 0000b930           EXPLODA
    2105 0000b930 00000000!         .LONG   BLAM1
    2106 0000b950     0003          .WORD   3
    2107 0000b960 00000000!         .LONG   BLAM2
    2108 0000b980     0003          .WORD   3
    2109 0000b990 00000000!         .LONG   BLAM3
    2110 0000b9b0     0004          .WORD   4
    2111 0000b9c0 00000000!         .LONG   BLAM4
    2112 0000b9e0     0004          .WORD   4
    2113 0000b9f0 00000000!         .LONG   BLAM5
    2114 0000ba10     0005          .WORD   5
    2115 0000ba20 00000000!         .LONG   BLAM6
    2116 0000ba40     0005          .WORD   5
    2117 0000ba50 00000000!         .LONG   BLAM7
    2118 0000ba70     0005          .WORD   5
    2119 0000ba80 00000000!         .LONG   BLAM8
    2120 0000baa0     0005          .WORD   5
    2121 0000bab0 00000000          .LONG   0
    2122                    
    2123 0000bad0           MXPANIM
    2124 0000bad0 00000000!         .LONG   BLAM2
    2125 0000baf0     0005          .WORD   5
    2126 0000bb00 00000000!         .LONG   BLAM3
    2127 0000bb20     0005          .WORD   5
    2128 0000bb30 00000000!         .LONG   BLAM4
    2129 0000bb50     0005          .WORD   5
    2130 0000bb60 00000000!         .LONG   BLAM5
    2131 0000bb80     0005          .WORD   5
    2132 0000bb90 00000000!         .LONG   BLAM6
    2133 0000bbb0     0005          .WORD   5
    2134 0000bbc0 00000000!         .LONG   BLAM8
    2135 0000bbe0     0005          .WORD   5
    2136 0000bbf0 00000000          .LONG   0
    2137                    
    2138                            .END

 No Errors,  No Warnings
